/*! For license information please see vdo.min.js.LICENSE.txt */
(()=>{var t={23:t=>{"use strict";t.exports="data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAABBIAAsAAAAAGoQAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADsAAABUIIslek9TLzIAAAFEAAAAPgAAAFZRiV3RY21hcAAAAYQAAADQAAADIjn098ZnbHlmAAACVAAACv4AABEIAwnSw2hlYWQAAA1UAAAAKwAAADYSy2hLaGhlYQAADYAAAAAbAAAAJA4DByFobXR4AAANnAAAAA8AAACE4AAAAGxvY2EAAA2sAAAARAAAAEQ9NEHGbWF4cAAADfAAAAAfAAAAIAEyAIFuYW1lAAAOEAAAASUAAAIK1cf1oHBvc3QAAA84AAABDwAAAZ5AAl/0eJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiBmg4gCACY7BUgAeJxjYGQ7xTiBgZWBgaWQ5RkDA8MvCM0cwxDOeI6BgYmBlZkBKwhIc01hcPjI+FGBHcRdyA4RZgQRAC4HCwEAAHic7dFprsIgAEXhg8U61XmeWcBb1FuQP4w7ZQXK5boMm3yclFDSANAHmuKviBBeBPQ8ymyo8w3jOh/5r2ui5nN6v8sYNJb3WMdeWRvLji0DhozKdxM6psyYs2DJijUbtuzYc+DIiTMXrty4k8oGLb+n0xCe37ekM7Z66j1DbUy3l6PpHnLfdLO5NdSBoQ4NdWSoY9ON54mhdqa/y1NDnRnq3FAXhro01JWhrg11Y6hbQ90Z6t5QD4Z6NNSToZ4N9WKoV0O9GerdUJORPqkhTd54nJ1YDXBU1RV+576/JBs2bPYPkrDZt5vsJrv53V/I5mclhGDCTwgGBQQSTEji4hCkYIAGd4TGIWFAhV0RQTpWmQp1xv6hA4OTOlNr2zFANbHUYbq2OtNCpViRqsk+e+7bTQAhzti8vPfuPffcc88959zznbcMMPjHD/KDDGEY0ABpYX384NhlomIYlo4JISGEY9mMh2FSidYiqkEUphtNYDSY/dXg9023l4DdxlqUl0chuZRhncJKrsCQHIwcGuwfnhMIzBnuH4Sym+1D2zaGjheXlhYfD238z80mKYMmvJ5XeOTzd8z9eujbMxJNhu4C9xPE/bCMiDuSNIWgkTQwBE55hLSAE7ZwhrHLnAHZOGV/kmBGTiNjZxzI77Hb7Hqjz68TjT6vh+5JT/cCIkqS0D6CqPf5jX4Qjdx5j6vlDfZM4aZFdbVXIxtOlJaP/WottMnH6CJQ3bTiue3PrY23HjnChtuamxwvvzFjxkPrNj3z0tG9T561HDYf6OgmRWvlY3JQHoQb8ltV2Yet7YfWctEjR1AtxS/cSX6U4alf6NJEBQ7YKg9wrXQKd0IeZCb2ux75Uhh1Un+Nz+9LTOE7PK777nN5xqdTneTBhCbx446mZrhnUkrCz2YhA9dSMxaG0SYmT8hi9ZPu1E94PJYQSH6LRmhxec7Q7ZeXntgQuVpbh+a4qWNsckVyTdn0P7o7DpgPW84+uRcq0BITflBikGdUjAZ9wYBVI3mtrNvr9kpg1UsaK6t3690aoorC1lg0GpMH2HAMtkZjsSi5Ig9ESVosOh7GQfLjKNLvKpMKkLSKNFAka710GdgSi8oDMSoNhqjkKBXTgn3swtaxyzGkUzIzae9RtLdWkSlZ1KDX6EzgllzV4NV4SoDFSOGD4+HCeQUF8wrZ5Hs8zIb5EaVxy8DYFTbMCJPnLIWZxugZE2NlivC0gc1qEQUR8jEKgZcAXeH18BiCgl5nlHh0CrjB4Hb5fX4gb0J7c9PuHVsfgkx2n/vTY/JV8kn8PGxf7faOZ8qX8JVByuIf4whk9sqXli2hvPJV9hrp0hY7l8r2x37ydaVsb4xvXv/47v2NjfCl8m5oRDJclFMoE1yk0Uh1Te4/m8lFXe9qBZD0EkheicebXvzI2PLCuoKCukLuhPIeKwaHPEouxw3kMqaIUXDQ1p0mip+MyCORSCQaoUsnY1VZ38nUTrG21WvVo4f1OsEJFhvSfAFwGfT8VHRMeAVUpwLOoLzjT/REIj3O3FhuURE+nERF+0pTId5Fyxv5sfwGyg4O+my4vZv0sZm7oeQlFZORiB+tG0MweVNraeitl7yxiPIHTk4/diVxs94o5lEYishB2iAtkchEnsActoEpx44Fo8XnsQMaA22BlqC20RmhBKzYojZyYaxg+JggMc4HHY2m+L9EkWSYljirOisrO7d3VorxzyZ6Vc4lJqITAu1b2wOBdrLElAP+bFc2eGaZFVbkmJktv5uT6Jlz5D/MnBFor6ig/JPnRViBsV3LNKGGqB1ChJ0tgQywlVLFJIuQgTFttwkiKxhyQdAZMdMYtSaoAewqfvXVYPAbDT6/1mez85YS8FSDywQ6NfAnef6FNEGMilnppyvn5rB6tTyq1pOceRWnp2WJEZFXHeX5oyoem1nTTgdqc4heDY7bOeKz63vnz+/dRx+s31Ht2JGanQ5seirfWJL9tjozU/12TnEjn5oux9OzU3ckGbBzBwNOyk69JykKH0n/0LM9A72tuwM3zQpIRu4AxiToseEpgPOmbROyFe9/X2yeUvoUsCyEvjcgs7fpWP3/aKlFN0+6HFUe6D9HFz/XPwBlN9tTqNyZjFJ8UO2RUT5/h4CptCctEyeisnOyXjALEp7dXKaQKf6O7IMnGjNNACRMLxqdYJX8eMLvmmd68D+ayBLyKKYZwYxDt/GNhzETDJ05Qxlyi3pi3/Z93ndYVSumgj0V/KkIFlO6+1K3fF2+3g0q+YtuSIf0bvmLqV09nnobI6hwcjIP8aPCKayjsF5JBY3LaKAeRLSyYB1h81oTwe9SlPMkXB7G0mfL9q71gaqqwPqu67QRKS1+ObTx+sbQy9QV2OQHEScGkdFBeT7v7qisqqrs6N52i78/R+6S0qQONVj26agOVoswCyQWIV5D86vH53bxNUeXV0K+XZaHv/nm/KsHhOvylwsWnJX/HE8l/4WCv5x+l5n08z6UU8bUMa3MBpSmM7F63AxntdC9eBCKEZW9Hr+ABNqtxgAQrSbMtmrW7lKQuoSgBhSrTazWVU2QAKWY8wiiuhqFmQgWJBgoXiuWIm42N7hqZbBsgXz52O5P5uSvaNgFGnOuvsRw8I8Laha91wMvDuxqWFheN7/8GVtTltdS83DQsXRmqc5ZtcJXEVrlV2doTWk5+Yunm71dG5f55m/qY0MjI93vv9/NfpxXV9sUXrxy2fbNy1or65cOlDRnOoKFeeXcbw42H/bNDT5Qs3flgs31gWC1lD1nfUV/X7NdCnSUdHY2e8afzfKsqZ5ZljfDqjLOmk3UebNXB+aHArPYDRs+/HDDxeT5DiP+sFg7OpRaVQMGBV89PpeBdj22hCE0Uub0UqwLrNWsG0cuyadgLXTeR5rbO4+3c/vl15cur2nRq+TXCQDcS3SO+s6ak+e5/eMS+1dw3btu3YG2tvFL8XdIZvdjdW6TO/4B7IdrZWVPmctm5/59AgsPItTSbCiIBr2OqIGzmu20SMKAS7yqwGBUfGfgjDYlLLDeF0SfcLB2LSx8flT+08/kzz6yOj96rft4rpTjdPQcmLd47uKibbDq7ZSz/XtbH2nN717Nd62rU+c8Icevvv7I09wA6WvjVcafb+FsbNG+ZQ80Rn6ZZsvrP7teP2dzTdoETvNhjCmsr8FID2sJ69VYvdUcxk4AzYRlKcaE38eXNRlfW9H1as9i6acLHp1XpuNB5K7DIvkX08y1ZYvh3KfWaiCzH+ztrSDmD7LuX73x/mJelB8Yj39t8nhNQJJ2CAthpoFGLsGgtSOCJooCGoaJAMTjSWHVZ08YAa1Fg9lPI5U6DOsGVjDasJeZZ+YyhfCwfOzCxlBA69M9XLXtza7H/rav+9Tjq5xNi0wpKQIRNO4Lrzz7yp5QVYM6Jd/oc1Uvn/mQhhuWh6ENXoS2YTZ8QT42bF5d/559zp5r0Uff2VnR2tdf2/WCOd2cO0Mw6qpWPnvxpV0nrt5fZd2yItc199GWe8vlNfNDq+CH/7yAAnB9hn7T4QO4c1g9ScxsZgmzntnE/IDGndtHMw69lFwoCnYsMGx+rBp8JSBqdLzBr9QRPq/PbhWMWFtQZp1xguy/haw3TEHm3TWAnxFWQQWgt7M5OV0lCz1VRYucpWliy7z6Zd4urwPIyeZQqli2Lgg7szJV09PysATbOQtYIrB2YzbkJYkGgJ0m4AjPUap1pvYu1K9qr97z0Yl3p332b2LYB78ncYIlRkau/8GObSsOlZancACE5d5ily+c2+7h5Yj4lqhVmXXB+iXLfvdqSgqfKtQvfHDV0OnvQR1qhw42XS/vkvsh/hXcrDFP0a+SJNIomEfD1nsrYGO+1bgTOJhM8Hv6ek+7vVglxuSRwoKn17S937bm6YJCeSSG0Op1n+7tE37tcZ/p7dsTv4EUrGpDbWueKigsLHhqTVsoEj+JU0kaSjnj9tz8/gryQWwJ9BcJXBC/7smO+I/IFURJetFPrdt5WcoL6DbEJaygI8CTHfQTjf40ofD+DwalTqIAAHicY2BkYGAA4jC5t2/j+W2+MnCzM4DAtTC+5cg0OyNYnIOBCUQBAAceB90AeJxjYGRgYGcAARD5/z87IwMjAypQBAAtgwI4AHicY2BgYGAfYAwAOkQA4QAAAAAAAA4AaAB+AMwA4AECAUIBbAGYAcICGAJYArQC4AMwA7AD3gQwBJYE3AUkBWYFigYgBmYGtAbqB1gIEghYCG4IhHicY2BkYGBQZChlYGcAASYg5gJCBob/YD4DABfTAbQAeJxdkE1qg0AYhl8Tk9AIoVDaVSmzahcF87PMARLIMoFAl0ZHY1BHdBJIT9AT9AQ9RQ9Qeqy+yteNMzDzfM+88w0K4BY/cNAMB6N2bUaPPBLukybCLvleeAAPj8JD+hfhMV7hC3u4wxs7OO4NzQSZcI/8Ltwnfwi75E/hAR7wJTyk/xYeY49fYQ/PztM+jbTZ7LY6OWdBJdX/pqs6NYWa+zMxa13oKrA6Uoerqi/JwtpYxZXJ1coUVmeZUWVlTjq0/tHacjmdxuL90OR8O0UEDYMNdtiSEpz5XQGqzlm30kzUdAYFFOb8R7NOZk0q2lwAyz1i7oAr1xoXvrOgtYhZx8wY5KRV269JZ5yGpmzPTjQhvY9je6vEElPOuJP3mWKnP5M3V+YAAAB4nG2PyXLCMBBE3YCNDWEL2ffk7o8S8oCnkCVHC5C/jzBQlUP6IHVPzYyekl5y0iL5X5/ooY8BUmQYIkeBEca4wgRTzDDHAtdY4ga3uMM9HvCIJzzjBa94wzs+8ImvZNAq8TM+HqVkKxWlrQiOxjujQkNlEzyNzl6Z/cU2XF06at7U83VQyklLpEvSnuzsb+HAPnPfQVgaupa1Jlu4sPLsFblcitaz0dHU0ZF1qatjZ1+aTXYCmp6u0gSvWNPyHLtFZ+ZeXWVSaEkqs3T8S74WklbGbNNNq4LL4+CWKtZDv2cfX8l8aFbKFhEnJnJ+IULFpqwoQnNHlHaVQtPBl+ypmbSWdmyC61KS/AKZC3Y+AA=="},56:(t,i,e)=>{"use strict";t.exports=function(t){var i=e.nc;i&&t.setAttribute("nonce",i)}},72:t=>{"use strict";var i=[];function e(t){for(var e=-1,s=0;s<i.length;s++)if(i[s].identifier===t){e=s;break}return e}function s(t,s){for(var o={},r=[],a=0;a<t.length;a++){var h=t[a],l=s.base?h[0]+s.base:h[0],u=o[l]||0,d="".concat(l," ").concat(u);o[l]=u+1;var c=e(d),v={css:h[1],media:h[2],sourceMap:h[3],supports:h[4],layer:h[5]};if(-1!==c)i[c].references++,i[c].updater(v);else{var f=n(v,s);s.byIndex=a,i.splice(a,0,{identifier:d,updater:f,references:1})}r.push(d)}return r}function n(t,i){var e=i.domAPI(i);e.update(t);return function(i){if(i){if(i.css===t.css&&i.media===t.media&&i.sourceMap===t.sourceMap&&i.supports===t.supports&&i.layer===t.layer)return;e.update(t=i)}else e.remove()}}t.exports=function(t,n){var o=s(t=t||[],n=n||{});return function(t){t=t||[];for(var r=0;r<o.length;r++){var a=e(o[r]);i[a].references--}for(var h=s(t,n),l=0;l<o.length;l++){var u=e(o[l]);0===i[u].references&&(i[u].updater(),i.splice(u,1))}o=h}}},113:t=>{"use strict";t.exports=function(t,i){if(i.styleSheet)i.styleSheet.cssText=t;else{for(;i.firstChild;)i.removeChild(i.firstChild);i.appendChild(document.createTextNode(t))}}},154:t=>{"use strict";t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMy42IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLW1heGltaXplIj48cGF0aCBkPSJNOCAzSDVhMiAyIDAgMCAwLTIgMnYzIi8+PHBhdGggZD0iTTIxIDhWNWEyIDIgMCAwIDAtMi0yaC0zIi8+PHBhdGggZD0iTTMgMTZ2M2EyIDIgMCAwIDAgMiAyaDMiLz48cGF0aCBkPSJNMTYgMjFoM2EyIDIgMCAwIDAgMi0ydi0zIi8+PC9zdmc+"},179:t=>{"use strict";t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBzdHlsZT0iZmlsbDogcmdiYSgyNTUsIDI1NSwgMjU1LCAxKTt0cmFuc2Zvcm06IDttc0ZpbHRlcjo7Ij48cGF0aCBkPSJNNCAxN2gyLjY5N0wxNCAyMS44NjhWMi4xMzJMNi42OTcgN0g0Yy0xLjEwMyAwLTIgLjg5Ny0yIDJ2NmMwIDEuMTAzLjg5NyAyIDIgMnoiPjwvcGF0aD48L3N2Zz4="},314:t=>{"use strict";t.exports=function(t){var i=[];return i.toString=function(){return this.map((function(i){var e="",s=void 0!==i[5];return i[4]&&(e+="@supports (".concat(i[4],") {")),i[2]&&(e+="@media ".concat(i[2]," {")),s&&(e+="@layer".concat(i[5].length>0?" ".concat(i[5]):""," {")),e+=t(i),s&&(e+="}"),i[2]&&(e+="}"),i[4]&&(e+="}"),e})).join("")},i.i=function(t,e,s,n,o){"string"==typeof t&&(t=[[null,t,void 0]]);var r={};if(s)for(var a=0;a<this.length;a++){var h=this[a][0];null!=h&&(r[h]=!0)}for(var l=0;l<t.length;l++){var u=[].concat(t[l]);s&&r[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),e&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=e):u[2]=e),n&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=n):u[4]="".concat(n)),i.push(u))}},i}},366:()=>{document.elementsFromPoint||(document.elementsFromPoint=function(t,i){for(var e,s=[],n=document.elementFromPoint(t,i);n&&n!==document.documentElement;)s.push(n),e=n.style.display,n.style.display="none",(n=document.elementFromPoint(t,i)).style.display=e;return s})},417:t=>{"use strict";t.exports=function(t,i){return i||(i={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),i.hash&&(t+=i.hash),/["'() \t\n]|(%20)/.test(t)||i.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},424:(t,i,e)=>{"use strict";e.d(i,{A:()=>a});var s=e(601),n=e.n(s),o=e(314),r=e.n(o)()(n());r.push([t.id,'vdo{display:block;clear:both}#vdo_ai_duo_player{position:relative}#vdo_ai_duo_player>div{position:absolute;width:100%}#vdo_ai_duo_player>.primary_player{z-index:9999999999}.vdo_content{position:relative!important;margin:0 auto!important;width:fit-content!important;width:intrinsic!important;width:-moz-max-content!important;width:-webkit-max-content!important}.vdo_floating{position:fixed!important;z-index:999999999999!important;transition:bottom .3s!important;width:min-content!important}#vdo_banner_frame,div[id^=amazon_only_liniear_]{z-index:10!important}.vdo_video_unit #cross_div{align-items:flex-start;display:flex;min-height:20px;position:absolute;left:0;cursor:pointer;z-index:9}.vdo-js{direction:ltr;position:relative}.vdo_floating .vdo-js{box-shadow:0 5px 11px rgba(0,0,0,.3)!important}.vdo_content .vdo-js{box-shadow:none!important;margin:0 auto!important;border-radius:3%}.vdo_video_unit #vdo_logo{background:0 0!important;position:static!important;padding:2px 5px 2px 2px;z-index:99999999!important;border-top-right-radius:8px;border-bottom-right-radius:8px;transition:bottom .4s ease-in-out;height:unset!important;font-size:10px;line-height:11px!important;display:inline-block;align-items:center;width:50px!important;box-sizing:content-box!important;margin:0!important}.ima-ad-container iframe[src*="://imasdk.googleapis.com"]{z-index:3}.ima-controls-div+iframe[src*="about:blank"]+div{z-index:4}#container_logo{background:#fff;position:absolute;padding:2px 10px 3px;right:8px!important;bottom:16px!important;width:45px!important;z-index:2;border-top-left-radius:8px;border-bottom-left-radius:8px;transition:bottom .4s ease-in-out;height:11px!important;font-size:10px;box-sizing:content-box!important;line-height:11px!important}#vdo_banner_logo{background:#fff;position:absolute;padding:2px 10px 3px;right:8px!important;bottom:16px!important;width:45px!important;z-index:99999;border-top-left-radius:8px;border-bottom-left-radius:8px;transition:bottom .4s ease-in-out;height:11px!important;font-size:10px;box-sizing:content-box!important;line-height:11px!important}#vdo_banner_logo img,#vdo_logo img{margin:0!important;box-shadow:none!important;border-radius:0!important;padding:0!important;width:100%!important;height:11px!important;object-fit:unset!important;border:none!important}.vdo_video_unit #vdo_logo img{width:100%!important;height:unset!important}#cross_div #vdo_ai_cross{background-image:url("//a.vdo.ai/core/assets/img/cross.svg");background-repeat:no-repeat;background-size:cover;position:relative;width:100%;height:100%}.vdo-js .vjs-control-bar{overflow:initial;width:100%!important;transition:width .5s ease-in-out!important;background-color:transparent;height:3.5em}.vjs-error-display,.vjs-modal-dialog-content{margin:0!important}.ima-ad-container{top:0;position:absolute;display:none;width:100%;height:100%;margin-top:0!important;overflow:hidden}.ima-ad-container div:first-child,.ima-ad-container div:first-child div div{background-color:initial!important}.vjs-text-track-display{margin-top:0!important;background-color:initial!important}.ima-ad-container>div:first-child>div:first-child{position:initial!important}.vdo-js.vjs-playing .bumpable-ima-ad-container{margin-top:-40px}.vdo-js.vjs-user-inactive.vjs-playing .bumpable-ima-ad-container{margin-top:0}.vdo-js.vjs-paused .bumpable-ima-ad-container,.vdo-js.vjs-playing:hover .bumpable-ima-ad-container,.vdo-js.vjs-user-active.vjs-playing .bumpable-ima-ad-container{margin-top:-40px}.ima-countdown-div{height:10px;color:#fff;text-shadow:0 0 .2em #000;cursor:default;display:none!important}.ima-seek-bar-div{top:12px;height:3px;position:absolute;background:rgba(255,255,255,.4);text-align:left}div[id^=_vdo_ads_player_ai_] div[id$=_ima-progress-div].ima-progress-div{width:0;height:3px;background-color:#ecc546!important}.vdo_video_unit .ima-play-pause-div{left:0}.vdo_video_unit .ima-fullscreen-div,.vdo_video_unit .ima-mute-div,.vdo_video_unit .ima-play-pause-div,.vdo_video_unit .ima-slider-div{width:35px;height:20px;top:0!important;position:absolute;color:#fff!important;font-size:inherit!important;line-height:1.5!important;text-align:center;font-family:VideoJS!important;cursor:pointer}.vdo-vjs-small-buttons .ima-controls-div-showing .ima-fullscreen-div,.vdo-vjs-small-buttons .ima-controls-div-showing .ima-mute-div,.vdo-vjs-small-buttons .ima-controls-div-showing .ima-play-pause-div,.vdo-vjs-small-buttons .ima-controls-div-showing .ima-slider-div{top:-6px}.vdo-js .vjs-play-progress:before,.vjs-icon-placeholder:before{font-family:VideoJS!important}.ima-mute-div{left:auto;right:155px}.ima-slider-div{left:auto;right:105px;width:50px;height:10px;top:20px;background-color:#555}.ima-slider-level-div{width:100%;height:10px;background-color:#ecc546}.ima-fullscreen-div{left:auto}.ima-playing:before{content:"\\00f103"}.ima-paused:before{content:"\\00f101"}.ima-paused:hover:before,.ima-playing:hover:before{text-shadow:0 0 1em #fff}.ima-non-muted:before{content:"\\00f107"}.ima-muted:before{content:"\\00f104"}.ima-muted:hover:before,.ima-non-muted:hover:before{text-shadow:0 0 1em #fff}.ima-non-fullscreen:before{content:"\\00f108"}.ima-fullscreen:before{content:"\\00f109"}.ima-fullscreen:hover:before,.ima-non-fullscreen:hover:before{text-shadow:0 0 1em #fff}@-webkit-keyframes div-down-slide{0%{left:0;top:0}100%{top:calc(100vh - 21.6vh);left:calc(100vw - 38.7vh)}}@-webkit-keyframes bounce{0%{top:100%;left:100%}100%{top:15%;left:0}}@keyframes div-down-slide{0%{top:0;left:0}100%{top:calc(100vh - 21.6vh);left:calc(100vw - 38.7vh)}}@keyframes bounce{0%{top:100%;left:100%}100%{top:15%;left:0}}.Viewport_To_Bottom{position:fixed;right:10px;bottom:15px;float:right;-webkit-animation:.7s div-down-slide;animation:.7s div-down-slide}.Viewport_To_Top{position:fixed;-webkit-animation:.7s bounce;animation:.7s bounce}.vdo_fixed_div{position:fixed;top:calc(100vh - 21.6vh);left:calc(100vw - 38.7vh)}.vdo_header{position:fixed!important;top:0!important;z-index:999999999!important;background:#000!important;left:0!important}@media all and (-ms-high-contrast:none){.vdo_logo img,::-ms-backdrop{vertical-align:middle;max-height:10px}_:-ms-fullscreen,:root .vdo_logo img{vertical-align:middle;max-height:10px}}.vdo-js video::-webkit-media-controls-panel,.vdo-js video::-webkit-media-controls-panel-container,.vdo-js video::-webkit-media-controls-start-playback-button{display:none!important;-webkit-appearance:none}#vdo_mute_btn{width:20px!important;height:20px!important;z-index:2147483647;position:absolute;background-color:rgba(255,255,255,.4);padding:8px!important;box-sizing:content-box;border-radius:18px!important;cursor:pointer!important;top:5px!important;left:5px!important}div[id^=_vdo_ads_player_ai_] .ima-ad-container>div>iframe{width:100%;height:100%}div[id^=_vdo_ads_player_ai_] #vdo_banner_frame,div[id^=_vdo_ads_player_ai_] #vdo_banner_frame-2{position:absolute;width:100%;top:0;left:0;height:100%;background:#ffffffa8;overflow:hidden}div[id^=_vdo_ads_player_ai_] div[id^=nonLiniearBottom_]{position:absolute;width:100%;bottom:0;text-align:center;display:flex;justify-content:center;align-items:center;padding-top:1px;background:#000;z-index:99999}div[id^=_vdo_ads_player_ai_] div[id^=nonLiniearBottom_] .bottomNlbCross{position:absolute;width:15px;height:15px;top:1px;cursor:pointer!important;left:1px;background-image:url("//a.vdo.ai/core/assets/img/cross.svg");background-repeat:no-repeat;background-size:cover}.vdo_amazon_wrapper{position:absolute;bottom:0;left:0;z-index:11}div[id^=_vdo_ads_player_ai_] .hidden_amazon_wrapper{position:fixed!important;left:300vw!important}.vdo_amazon_wrapper>div>div:nth-child(3){display:none}.vdo_ads_controls_wrapper{z-index:999999999999;position:absolute;bottom:0;left:0;padding:0;width:100%;background:#00000069;box-sizing:border-box}.vdo_ads_controls_wrapper .play-pause svg{width:13px;height:15px;fill:white}.control-div{background-image:linear-gradient(360deg,rgb(0 0 0 / 19%) 34%,rgba(0,0,0,0) 110%);display:flex;justify-content:space-between;padding:5px 7px;height:20px;box-sizing:unset!important}div[id^=_vdo_ads_player_ai_] #FWMockedParent{margin:0!important}div[id^=_vdo_ads_player_ai_] .freewheel-intext-roll div:first-child{display:none!important}#vdo_banner_frame iframe[id^=google_ads_iframe_],#vdo_banner_frame>.vdo_campaign_frame,#vdo_banner_frame>ins,#vdo_banner_frame>vdo>iframe,#vdo_banner_frame>vdo>ins{position:absolute!important;top:50%;left:50%;transform:translate(-50%,-50%)}#vdo_banner_frame.vdo_banner>vdo>iframe{position:relative!important;top:0;left:0;transform:translate(0,0)}#vdo_banner_frame>div[id^=div-gpt-ad]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}#vdo_banner_frame #vdo_banner_progress,#vdo_banner_frame-2 #vdo_banner_progress,.vdo_carousel_ad_container #vdo_banner_progress{position:absolute;bottom:0;left:0;width:100%;height:3px;background-color:#ffffff7c;box-shadow:0 -5px 10px 10px rgba(0,0,0,.2)}#vdo_banner_frame #vdo_banner_progress #vdo_banner_progress_inner,#vdo_banner_frame-2 #vdo_banner_progress #vdo_banner_progress_inner,.vdo_carousel_ad_container #vdo_banner_progress #vdo_banner_progress_inner{position:absolute;bottom:0;left:0;width:0%;height:100%;background-color:#f7f200;transition:width 30s cubic-bezier(1, 1, 0, 0)}#vdo_banner_frame-2 #vdo_banner_progress #vdo_banner_progress_inner{background-color:#fdc23c}div[id^=_vdo_ads_player_ai_] #nlb_ads_by_google_container{position:absolute;bottom:0;z-index:999999;display:flex!important;justify-content:space-between;width:100%}#nlb_ads_by_google_container p{color:#fff!important;margin:0 0 4px!important;width:max-content!important;display:inline!important;font-family:sans-serif!important;font-size:12px!important;padding:0!important}#skip_timer{position:absolute;color:#fff;font-size:14px;text-align:right;z-index:999999999;width:100%;bottom:19px;right:8px}.skip-ui-wrapper{cursor:pointer!important;pointer-events:auto!important;position:absolute!important;z-index:1000!important;bottom:37px!important;right:0!important;width:105px!important;height:40px!important;border:none!important}.skip-ui-button{line-height:normal!important;min-width:0!important;padding:7px 6px 7px 10px!important;margin:0!important;-webkit-tap-highlight-color:transparent!important;background:rgba(0,0,0,.8)!important;border:1px solid rgba(255,255,255,.5)!important;border-right:0!important;box-sizing:content-box!important;color:#fff!important;cursor:pointer!important;direction:ltr!important;font-family:arial,sans-serif!important;font-weight:400!important;font-size:18px!important;text-align:center!important;width:100%!important;box-sizing:border-box!important;height:inherit!important;border-radius:0!important}.skip-ui-text{display:inline-block!important;font-size:17px!important;vertical-align:middle!important;width:initial!important;text-transform:none!important;font-family:arial,sans-serif!important}.skip-ui-icon-wrapper{display:inline-block!important;height:24px!important;margin-left:2px!important;vertical-align:middle!important;width:24px!important}.skip-ui-icon-wrapper>svg{fill:white!important;height:24px!important;width:24px!important;-webkit-filter:drop-shadow(0 1px 5px rgba(0,0,0,0.2))!important;filter:drop-shadow(0 1px 5px rgba(0,0,0,.2))!important}div[id^=_vdo_ads_player_ai_] button.vjs-picture-in-picture-control,div[id^=_vdo_ads_player_ai_] button.vjs-seek-to-live-control{display:none!important}div[id^=_vdo_ads_player_ai_] .vdo_video_unit button.vjs-fullscreen-control{margin-right:0!important;right:calc(100% - 84%)!important}#_vdo_ads_player_ai_1123{margin:0!important}div[id^="_vdo_ads_player_ai_"] .vjs-remaining-time{display:none!important}body div.vdo_next_stay_wrapper{position:absolute!important;width:100%!important;height:100%;bottom:0!important;left:0!important;pointer-events:none}body div.vdo_controls_next_stay{height:auto;width:100%!important;position:absolute!important;left:50%!important;top:50%!important;transform:translate(-50%,-50%)!important;pointer-events:all;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:5px;z-index:10}body div.vdo_controls_next_stay button{display:block;margin:0!important;width:auto!important;border:none!important;background:#6d6c6cc7;color:#fff;font-size:14px;padding:.35em .45em!important;line-height:1!important;font-family:Roboto,sans-serif;pointer-events:all;border-radius:4px;overflow:hidden;cursor:pointer;box-shadow:rgb(0 0 0 / 31%) 7px 4px 12px 2px}body div.vdo_controls_next_stay button span{position:absolute;top:0;left:0;height:100%;border-radius:4px;background:#efefef;width:0%!important;z-index:-1;animation-name:fullWidth;animation-timing-function:linear;animation-fill-mode:forwards}body div.vdo_control_next_button{border-radius:50%!important;margin:0 auto!important;height:100%!important;width:40%!important;position:relative}body div.vdo_controls_next_stay button:focus,body div.vdo_controls_next_stay button:visited{outline:0}@keyframes fullWidth{0%{width:0%}100%{width:100%}}.vdo-vjs-custom-skin{transform:translate(0)}.vdo-vjs-custom-skin.vjs-paused .vjs-tech,.vdo-vjs-custom-skin.vjs-user-active .vjs-tech{filter:brightness(.7)}.vjs-tech{transition:filter .5s;filter:brightness(1)}.vdo-js .vjs-control-bar button:focus{outline:0}.vdo-vjs-custom-skin .vjs-play-control{order:0!important;position:absolute!important;top:50%!important;left:50%!important;width:65px!important;height:65px!important;transform:translate(-50%,-50%)!important;background-color:rgb(158 158 158 / 80%)!important;border-radius:32.5px!important;z-index:9}.vdo-vjs-custom-skin .vjs-play-control:active{text-shadow:0 0 1em #fff}.vdo-vjs-custom-skin .vjs-play-control:focus{text-shadow:none!important}.vdo-vjs-custom-skin .vjs-progress-control{order:1!important;width:100%!important;position:absolute!important;height:.5em!important;bottom:0!important;z-index:2!important;top:unset!important;pointer-events:none}.vdo-vjs-custom-skin.vdo_video_unit .vjs-volume-panel{order:3!important;direction:ltr!important;position:absolute!important;bottom:0;height:inherit!important;right:calc(100% - 70%)!important}.vdo-vjs-custom-skin .vjs-fullscreen-control{order:2!important;position:absolute!important;bottom:0;height:inherit!important}.vdo-vjs-custom-skin .vjs-volume-control{background-color:transparent!important}.vdo-vjs-custom-skin .vjs-big-play-button{display:none!important}.vdo-vjs-custom-skin .vjs-play-control .vjs-icon-placeholder:before{font-size:45px!important;line-height:65px!important;display:block!important}.vdo-vjs-custom-skin .vjs-progress-holder{height:.5em!important;margin:0!important}.vdo-vjs-custom-skin .vjs-play-progress{background:#c00!important}.vdo-vjs-custom-skin .vjs-play-progress:before{display:none!important}.vdo-vjs-custom-skin .vjs-control-bar{direction:rtl!important;position:unset!important;background:0 0!important}.vdo-vjs-custom-skin .vjs-slider{background:rgba(255,255,255,.4)!important}.vdo-vjs-custom-skin .vjs-volume-level{background-color:#c00!important}.vdo-vjs-custom-skin .vjs-progress-control:hover .vjs-progress-holder{transform:translateY(-2px)!important}.vdo-vjs-custom-skin .vjs-load-progress div{background:rgba(255,255,255,.6)!important}.vdo-vjs-custom-skin .vjs-loading-spinner:after,.vdo-vjs-custom-skin .vjs-loading-spinner:before{margin:-3px!important}.vjs-seeking .vjs-loading-spinner:after,.vjs-seeking .vjs-loading-spinner:before,.vjs-waiting .vjs-loading-spinner:after,.vjs-waiting .vjs-loading-spinner:before{animation:1.1s linear infinite vjs-spinner-spin!important}.vdo-vjs-custom-skin .vjs-loading-spinner:after{display:none!important}.vdo-vjs-custom-skin .vjs-loading-spinner{border:3px solid rgba(43,51,63,.7)!important;width:68px!important;height:68px!important;margin:0!important;transform:translate(-50%,-50%)!important;border-radius:50%!important}.vdo_circle_progress{animation-name:animateCircle!important;animation-timing-function:linear!important;animation-fill-mode:forwards!important;fill:#949494bf!important;stroke:white;stroke-width:3!important;cursor:pointer}@keyframes animateCircle{from{stroke-dasharray:195}to{stroke-dasharray:390}}#vdo_forward_next_icon{position:absolute;width:15%;height:auto;top:50%;left:50%;transform:translate(-50%,-50%);fill:white}.vdo-vjs-custom-skin .ima-controls-div{height:5px;top:unset!important;z-index:9!important}.vdo-vjs-custom-skin .ima-seek-bar-div{width:100%;top:unset;bottom:0;left:0;right:unset;height:5px;background:rgba(0,0,0,.3)}.vdo-vjs-custom-skin .ima-progress-div{height:5px!important}button.vjs-paused.vjs-ended{display:none}.vdo-vjs-custom-skin .vjs-volume-control.vjs-control.vjs-volume-vertical,.vdo-vjs-custom-skin .vjs-volume-panel.vjs-control{top:unset!important}#vdo_ai_side_banner_wrapper{width:180px;display:flex;flex-direction:column;justify-content:space-between}.vdo_ai_side_banner_frame{border:none;width:180px;height:180px;display:block}#vdoCarouselWrapper{position:relative;transition:max-width .2s linear}#vdo_carousel{overflow:auto;scroll-behavior:smooth;scrollbar-width:none}#vdo_carousel::-webkit-scrollbar{height:0}#vdo_carousel_content{display:grid;grid-gap:12px;grid-auto-flow:column;margin:auto;box-sizing:border-box}.vdo_carousel_image_item{background-size:cover!important;background-position:center!important;position:relative;overflow:hidden}.vdo_carousel_title_player{position:absolute;color:#fff;font-weight:700;text-shadow:1px 1px #000;margin-left:4%;font-family:Raleway,sans-serif!important;line-height:20px;font-size:92%}.vdo_carousel_image_item:hover .vdo_carousel_title_player{bottom:0;top:unset!important}div[id*=parentDiv]::-webkit-scrollbar{height:0;background:0 0}div[id^=_vdo_ads_player_ai_] button[id*=dfp_banner_btn_]{position:absolute;bottom:35px;right:0;font-size:18px;background:rgba(0,0,0,.8);color:#fff;padding:7px 6px 7px 10px;min-height:36px;display:none;align-items:center;cursor:pointer;z-index:9999999;opacity:1;transition:opacity .5s cubic-bezier(0, 0, .2, 1);border:1px solid rgba(255,255,255,.5)}div[id^=_vdo_ads_player_ai_] button[id*=dfp_banner_btn_]:hover{border:1px solid #fff!important}@media only screen and (max-device-width :667px){.mobile_floater_background{position:fixed!important;width:100%!important;background-color:#fff;left:0!important}.mobile_floater_background #cross_div{position:absolute!important;top:0!important;z-index:9999999999999999999!important;width:fit-content!important;left:unset!important}.mobile_floater_background #vdo_logo_parent{height:0!important;min-height:unset!important;backdrop-filter:unset!important}.mobile_floater_background #vdo_logo_parent div:nth-child(2){position:absolute!important;bottom:0!important;right:0!important}.mobile_floater_background #vdo_logo_parent div:nth-child(2) span{display:none!important}.mobile_floater_background .vdo-js{box-shadow:none!important;margin:0 auto!important}.mobile_floater_background .vdo_next_stay_wrapper{display:none!important}.vdo_collapsible_floating{bottom:unset!important;top:-500px!important;transition:top .6s linear!important;animation-direction:reverse}.mobile_floater_background .vdo_amazon_wrapper{left:50%!important;transform:translate(-50%,0)}vdo[id*=unitDivWrapper]{flex-direction:column}#vdoCarouselWrapper{margin:10px auto 0!important;position:relative}.vdo-js .vjs-volume-panel .vjs-volume-control.vjs-volume-vertical,.vdo_carousel_timer_wrapper{display:none!important}}vdo[id*=unitDivWrapper]{transition:height .6s linear;animation-direction:normal;overflow-y:hidden;-ms-overflow-style:none;scrollbar-width:none}.vdo_collapsible .vdo_floating,.vdo_collapsible_floating{transition:bottom .6s linear!important;animation-direction:reverse}.vdo_floating_top{top:-500px!important}.vdo_floating_bottom{bottom:-500px!important}.vdo_carousel_timer_wrapper{position:absolute;top:0;left:0;width:100%;height:16px;background:0 0;z-index:3;display:flex;justify-content:space-around;align-items:center}.vdo_carousel_timer_bar{height:4px;background:#d6d3d3;width:95%;border-radius:2.5px;position:relative;overflow:hidden}.vdoCarouselTimerAnimation{animation:8s linear forwards timerFillAnimation}.vdo_carousel_timer_span{display:block;position:absolute;top:0;height:100%;left:0;width:10%;background:red}@keyframes timerFillAnimation{0%{width:0%}100%{width:100%}}.vdoCarouselShake{animation:.8s vdoCarouselShake}@keyframes vdoCarouselShake{0%{transform:translateX(0)}12.5%{transform:translateX(-15px)}25%{transform:translateX(15px)}37.5%{transform:translateX(-14px)}50%{transform:translateX(14px)}62.5%{transform:translateX(-10px)}75%{transform:translateX(10px)}87.5%{transform:translateX(-5px)}100%{transform:translateX(5px)}}.ima-ad-container>div:first-child>div:first-child>video{border-radius:3%;transition:width .2s linear}video-js.vdo-js{transition:width .2s linear;margin:0 auto}.vdo_carousel_ad_container{position:absolute;top:0;left:0;width:100%;height:100%;background:#d3d3d37d;z-index:9;overflow:hidden;border-radius:3%}.vdo_carousel_banner_ad_slot,.vdo_carousel_video_ad_slot{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);border:none}.vdo_carousel_mobile_div{overflow:hidden}.vdo_carousel_mobile_div .vdo_content{margin:0!important}#vdo_articles_top_bar{display:flex!important;justify-content:space-between!important;padding:5px 10px!important;font-family:sans-serif!important}#vdo_articles_top_bar h4{margin:0!important}#vdo_articles_top_bar a,#vdo_articles_top_bar p{margin:0!important;font-size:14px!important;width:100%!important;text-align:right!important;font-family:arial,sans-serif!important}.vdo-video-hidden .vjs-tech{filter:brightness(0)!important}.vdo-black-background{background-color:#000}#vdo-spinner-loading{position:absolute!important;display:inline-block;width:71px;height:71px;border:3px solid rgba(255,255,255,.3);border-radius:50%;border-top-color:#fff;animation:1s ease-in-out infinite vdo-spin;-webkit-animation:1s ease-in-out infinite vdo-spin;cursor:pointer}@keyframes vdo-spin{to{-webkit-transform:rotate(360deg)}}@-webkit-keyframes vdo-spin{to{-webkit-transform:rotate(360deg)}}.vdo_content_custom_passback{background-color:#d3d3d37d;position:relative}.vdo_content_custom_passback>div{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}#vdo_playlist_gallery_wrapper{overflow-y:auto;overflow-x:hidden;margin-left:auto;padding-left:5px;display:flex;flex-direction:column;-ms-overflow-style:none;scrollbar-width:none}#vdo_playlist_gallery_wrapper::-webkit-scrollbar{display:none}.vdo_playlist_item{position:relative;cursor:pointer;margin-bottom:2px}.vdo_playlist_item img{width:100%!important;filter:brightness(.7);border-radius:5px}.vdo_playlist_item.active img{filter:brightness(.5)}.vdo_playlist_item>div{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:22%;height:auto;color:#f0f8ff;text-align:center;text-shadow:2px 2px 5px #000;font-family:sans-serif;font-size:17px}.vdo_playlist_item>div>svg{width:100%;fill:#f0f8ff;height:100%}.vdo_up_next_text{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;text-shadow:0 0 6px #000;font-family:sans-serif;font-size:17px;width:100%;height:100%;text-align:center;line-height:85px;background:#00000070;font-weight:700;text-transform:uppercase;letter-spacing:4px}.vdo_playlist_circle{position:absolute;top:50%;left:50%;transform:translate(-48.5%,-54%) rotate(-90deg);width:63px!important;height:63px!important;stroke-dasharray:190;stroke-dashoffset:190}#vdo_playlist_current_active{width:65%;padding:6px 0}vdo[id*=unitDivWrapper]::-webkit-scrollbar{display:none}.vdo-video-hidden .vdo_custom_poster{position:absolute;top:0;left:0;width:100%;height:100%}.vjs-poster{background-color:#000}.vdo-autoplay-disabled .vjs-poster{display:block}.vjs-button>.vjs-icon-placeholder:before{font-size:inherit!important;line-height:30px!important}.videoAdUiBottomBar{bottom:100px!important}.ima-slider-div{display:none!important}.audio-banner{position:absolute!important;z-index:1;left:50%;margin:0 auto;transform:translate(-50%,-50%);top:50%}.audio-banner .overlayContainer img{padding:0!important;max-width:none!important}#vdo_audioAdPlayer .vdo-vjs-custom-skin.vjs-user-active .vjs-tech,.vdo-vjs-custom-skin.vjs-paused .vjs-tech{filter:brightness(1)}.ima-controls-div.ima-controls-div-showing{height:1.4em!important}.vdo_video_unit #vdo_logo_parent{background:#ffffff69;backdrop-filter:blur(5px);min-height:20px;text-align:right;display:flex;justify-content:space-between;align-items:center;direction:ltr;float:unset}div[id^="_vdo_ads_player_ai_"] .vjs-control-bar button:not(.vjs-play-control),div[id^="_vdo_ads_player_ai_"] .vjs-control-bar span{top:unset!important;color:unset!important;font-size:inherit;background-color:unset!important;z-index:1}div[id^="_vdo_ads_player_ai_"] .vjs-control-bar .vjs-play-control{color:unset!important}.vdo_circle_svg{width:40%;height:auto!important}video-js.vdo_video_unit:hover .vjs-tech{filter:brightness(.7)}div[id^=DFPnonLinear__player_ai_]{display:flex!important}div[id^=_vdo_ads_player_ai_] #vdo_banner_frame-2{bottom:0;top:auto;height:3px;z-index:99999!important}div[id^=DFPnonLinear__player_ai_] div{margin:unset!important}body [id^=DFPnonLinear_]{position:absolute;top:0;text-align:center;width:100%!important;height:100%!important;justify-content:center;align-items:center;max-height:100%!important;max-width:100%!important;min-height:100%!important;min-width:100%!important;z-index:-1}body #vdo-banner-ad iframe,body #vdo_banner_frame iframe,body [id^=DFPnonLinear_] iframe{min-height:auto!important;max-height:none!important;padding-top:0!important;padding-bottom:0!important;max-width:none!important}body #vdo-banner-ad iframe,body #vdo-banner-ad>div{width:100%!important}body #vdo-banner-ad iframe,body [id^=DFPnonLinear_] iframe{position:static!important}#vdo_companion_wrapper{margin:10px auto 0!important}#vdo_companion_frame{margin:0 auto!important;min-height:auto!important;max-height:none!important;padding-top:0!important;padding-bottom:0!important;max-width:none!important;position:static!important;width:100%!important}#vdoai_parentWrapperDiv{display:flex;align-items:center;justify-content:center}',""]);const a=r},539:t=>{!function i(e){t.exports=function(){"use strict";function t(t,i,e){if(u())return Reflect.construct.apply(null,arguments);var s=[null];s.push.apply(s,i);var n=new(t.bind.apply(t,s));return e&&v(n,e.prototype),n}function s(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,p(s.key),s)}}function n(t,i,e){return i&&s(t.prototype,i),e&&s(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function o(t,i,e){return(i=p(i))in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}function r(){return r=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var s in e)({}).hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},r.apply(null,arguments)}function a(t){return a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},a(t)}function h(t,i){t.prototype=Object.create(i.prototype),t.prototype.constructor=t,v(t,i)}function l(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(i){return"function"==typeof t}}function u(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(u=function(){return!!t})()}function d(t,i){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);i&&(s=s.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),e.push.apply(e,s)}return e}function c(t){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{};i%2?d(Object(e),!0).forEach((function(i){o(t,i,e[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):d(Object(e)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}))}return t}function v(t,i){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},v(t,i)}function f(t,i){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var s=e.call(t,i);if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)}function p(t){var i=f(t,"string");return"symbol"==typeof i?i:i+""}function m(i){var e="function"==typeof Map?new Map:void 0;return m=function(i){if(null===i||!l(i))return i;if("function"!=typeof i)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(i))return e.get(i);e.set(i,s)}function s(){return t(i,arguments,a(this).constructor)}return s.prototype=Object.create(i.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),v(s,i)},m(i)}function g(){try{return crypto.randomUUID()}catch(s){try{var t=URL.createObjectURL(new Blob),i=t.toString();return URL.revokeObjectURL(t),i.slice(i.lastIndexOf("/")+1)}catch(t){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var i=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?i:3&i|8).toString(16)}))}}}function A(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var b,y={exports:{}};function w(){return b||(b=1,function(t){var i=Object.prototype.hasOwnProperty,e="~";function s(){}function n(t,i,e){this.fn=t,this.context=i,this.once=e||!1}function o(t,i,s,o,r){if("function"!=typeof s)throw new TypeError("The listener must be a function");var a=new n(s,o||t,r),h=e?e+i:i;return t.u[h]?t.u[h].fn?t.u[h]=[t.u[h],a]:t.u[h].push(a):(t.u[h]=a,t._++),t}function r(t,i){0==--t._?t.u=new s:delete t.u[i]}function a(){this.u=new s,this._=0}Object.create&&(s.prototype=Object.create(null),(new s).__proto__||(e=!1)),a.prototype.eventNames=function(){var t,s,n=[];if(0===this._)return n;for(s in t=this.u)i.call(t,s)&&n.push(e?s.slice(1):s);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},a.prototype.listeners=function(t){var i=e?e+t:t,s=this.u[i];if(!s)return[];if(s.fn)return[s.fn];for(var n=0,o=s.length,r=new Array(o);n<o;n++)r[n]=s[n].fn;return r},a.prototype.listenerCount=function(t){var i=e?e+t:t,s=this.u[i];return s?s.fn?1:s.length:0},a.prototype.emit=function(t,i,s,n,o,r){var a=e?e+t:t;if(!this.u[a])return!1;var h,l,u=this.u[a],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,i),!0;case 3:return u.fn.call(u.context,i,s),!0;case 4:return u.fn.call(u.context,i,s,n),!0;case 5:return u.fn.call(u.context,i,s,n,o),!0;case 6:return u.fn.call(u.context,i,s,n,o,r),!0}for(l=1,h=new Array(d-1);l<d;l++)h[l-1]=arguments[l];u.fn.apply(u.context,h)}else{var c,v=u.length;for(l=0;l<v;l++)switch(u[l].once&&this.removeListener(t,u[l].fn,void 0,!0),d){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,i);break;case 3:u[l].fn.call(u[l].context,i,s);break;case 4:u[l].fn.call(u[l].context,i,s,n);break;default:if(!h)for(c=1,h=new Array(d-1);c<d;c++)h[c-1]=arguments[c];u[l].fn.apply(u[l].context,h)}}return!0},a.prototype.on=function(t,i,e){return o(this,t,i,e,!1)},a.prototype.once=function(t,i,e){return o(this,t,i,e,!0)},a.prototype.removeListener=function(t,i,s,n){var o=e?e+t:t;if(!this.u[o])return this;if(!i)return r(this,o),this;var a=this.u[o];if(a.fn)a.fn!==i||n&&!a.once||s&&a.context!==s||r(this,o);else{for(var h=0,l=[],u=a.length;h<u;h++)(a[h].fn!==i||n&&!a[h].once||s&&a[h].context!==s)&&l.push(a[h]);l.length?this.u[o]=1===l.length?l[0]:l:r(this,o)}return this},a.prototype.removeAllListeners=function(t){var i;return t?(i=e?e+t:t,this.u[i]&&r(this,i)):(this.u=new s,this._=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=e,a.EventEmitter=a,t.exports=a}(y)),y.exports}var _,j=A(w()),x={exports:{}};function k(){return _||(_=1,function(t){var i,e,s,n,o;i=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,e=/^(?=([^\/?#]*))\1([^]*)$/,s=/(?:\/|^)\.(?=\/)/g,n=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(t,i,s){if(s=s||{},t=t.trim(),!(i=i.trim())){if(!s.alwaysNormalize)return t;var n=o.parseURL(t);if(!n)throw new Error("Error trying to parse base URL.");return n.path=o.normalizePath(n.path),o.buildURLFromParts(n)}var r=o.parseURL(i);if(!r)throw new Error("Error trying to parse relative URL.");if(r.scheme)return s.alwaysNormalize?(r.path=o.normalizePath(r.path),o.buildURLFromParts(r)):i;var a=o.parseURL(t);if(!a)throw new Error("Error trying to parse base URL.");if(!a.netLoc&&a.path&&"/"!==a.path[0]){var h=e.exec(a.path);a.netLoc=h[1],a.path=h[2]}a.netLoc&&!a.path&&(a.path="/");var l={scheme:a.scheme,netLoc:r.netLoc,path:null,params:r.params,query:r.query,fragment:r.fragment};if(!r.netLoc&&(l.netLoc=a.netLoc,"/"!==r.path[0]))if(r.path){var u=a.path,d=u.substring(0,u.lastIndexOf("/")+1)+r.path;l.path=o.normalizePath(d)}else l.path=a.path,r.params||(l.params=a.params,r.query||(l.query=a.query));return null===l.path&&(l.path=s.alwaysNormalize?o.normalizePath(r.path):r.path),o.buildURLFromParts(l)},parseURL:function(t){var e=i.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(s,"");t.length!==(t=t.replace(n,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}},t.exports=o}(x)),x.exports}var E=k(),S=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},T=Number.isSafeInteger||function(t){return"number"==typeof t&&Math.abs(t)<=C},C=Number.MAX_SAFE_INTEGER||9007199254740991,I=function(t){return t.NETWORK_ERROR="networkError",t.MEDIA_ERROR="mediaError",t.KEY_SYSTEM_ERROR="keySystemError",t.MUX_ERROR="muxError",t.OTHER_ERROR="otherError",t}({}),M=function(t){return t.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",t.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",t.KEY_SYSTEM_NO_SESSION="keySystemNoSession",t.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",t.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",t.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",t.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",t.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",t.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR="keySystemDestroyMediaKeysError",t.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR="keySystemDestroyCloseSessionError",t.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR="keySystemDestroyRemoveSessionError",t.MANIFEST_LOAD_ERROR="manifestLoadError",t.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",t.MANIFEST_PARSING_ERROR="manifestParsingError",t.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",t.LEVEL_EMPTY_ERROR="levelEmptyError",t.LEVEL_LOAD_ERROR="levelLoadError",t.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",t.LEVEL_PARSING_ERROR="levelParsingError",t.LEVEL_SWITCH_ERROR="levelSwitchError",t.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",t.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",t.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",t.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",t.FRAG_LOAD_ERROR="fragLoadError",t.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",t.FRAG_DECRYPT_ERROR="fragDecryptError",t.FRAG_PARSING_ERROR="fragParsingError",t.FRAG_GAP="fragGap",t.REMUX_ALLOC_ERROR="remuxAllocError",t.KEY_LOAD_ERROR="keyLoadError",t.KEY_LOAD_TIMEOUT="keyLoadTimeOut",t.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",t.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",t.BUFFER_APPEND_ERROR="bufferAppendError",t.BUFFER_APPENDING_ERROR="bufferAppendingError",t.BUFFER_STALLED_ERROR="bufferStalledError",t.BUFFER_FULL_ERROR="bufferFullError",t.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",t.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",t.ASSET_LIST_LOAD_ERROR="assetListLoadError",t.ASSET_LIST_LOAD_TIMEOUT="assetListLoadTimeout",t.ASSET_LIST_PARSING_ERROR="assetListParsingError",t.INTERSTITIAL_ASSET_ITEM_ERROR="interstitialAssetItemError",t.INTERNAL_EXCEPTION="internalException",t.INTERNAL_ABORTED="aborted",t.ATTACH_MEDIA_ERROR="attachMediaError",t.UNKNOWN="unknown",t}({}),D=function(t){return t.MEDIA_ATTACHING="hlsMediaAttaching",t.MEDIA_ATTACHED="hlsMediaAttached",t.MEDIA_DETACHING="hlsMediaDetaching",t.MEDIA_DETACHED="hlsMediaDetached",t.MEDIA_ENDED="hlsMediaEnded",t.STALL_RESOLVED="hlsStallResolved",t.BUFFER_RESET="hlsBufferReset",t.BUFFER_CODECS="hlsBufferCodecs",t.BUFFER_CREATED="hlsBufferCreated",t.BUFFER_APPENDING="hlsBufferAppending",t.BUFFER_APPENDED="hlsBufferAppended",t.BUFFER_EOS="hlsBufferEos",t.BUFFERED_TO_END="hlsBufferedToEnd",t.BUFFER_FLUSHING="hlsBufferFlushing",t.BUFFER_FLUSHED="hlsBufferFlushed",t.MANIFEST_LOADING="hlsManifestLoading",t.MANIFEST_LOADED="hlsManifestLoaded",t.MANIFEST_PARSED="hlsManifestParsed",t.LEVEL_SWITCHING="hlsLevelSwitching",t.LEVEL_SWITCHED="hlsLevelSwitched",t.LEVEL_LOADING="hlsLevelLoading",t.LEVEL_LOADED="hlsLevelLoaded",t.LEVEL_UPDATED="hlsLevelUpdated",t.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",t.LEVELS_UPDATED="hlsLevelsUpdated",t.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",t.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",t.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",t.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",t.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",t.AUDIO_TRACK_UPDATED="hlsAudioTrackUpdated",t.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",t.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",t.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",t.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",t.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",t.SUBTITLE_TRACK_UPDATED="hlsSubtitleTrackUpdated",t.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",t.CUES_PARSED="hlsCuesParsed",t.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",t.INIT_PTS_FOUND="hlsInitPtsFound",t.FRAG_LOADING="hlsFragLoading",t.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",t.FRAG_LOADED="hlsFragLoaded",t.FRAG_DECRYPTED="hlsFragDecrypted",t.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",t.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",t.FRAG_PARSING_METADATA="hlsFragParsingMetadata",t.FRAG_PARSED="hlsFragParsed",t.FRAG_BUFFERED="hlsFragBuffered",t.FRAG_CHANGED="hlsFragChanged",t.FPS_DROP="hlsFpsDrop",t.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",t.MAX_AUTO_LEVEL_UPDATED="hlsMaxAutoLevelUpdated",t.ERROR="hlsError",t.DESTROYING="hlsDestroying",t.KEY_LOADING="hlsKeyLoading",t.KEY_LOADED="hlsKeyLoaded",t.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",t.BACK_BUFFER_REACHED="hlsBackBufferReached",t.STEERING_MANIFEST_LOADED="hlsSteeringManifestLoaded",t.ASSET_LIST_LOADING="hlsAssetListLoading",t.ASSET_LIST_LOADED="hlsAssetListLoaded",t.INTERSTITIALS_UPDATED="hlsInterstitialsUpdated",t.INTERSTITIALS_BUFFERED_TO_BOUNDARY="hlsInterstitialsBufferedToBoundary",t.INTERSTITIAL_ASSET_PLAYER_CREATED="hlsInterstitialAssetPlayerCreated",t.INTERSTITIAL_STARTED="hlsInterstitialStarted",t.INTERSTITIAL_ASSET_STARTED="hlsInterstitialAssetStarted",t.INTERSTITIAL_ASSET_ENDED="hlsInterstitialAssetEnded",t.INTERSTITIAL_ASSET_ERROR="hlsInterstitialAssetError",t.INTERSTITIAL_ENDED="hlsInterstitialEnded",t.INTERSTITIALS_PRIMARY_RESUMED="hlsInterstitialsPrimaryResumed",t.PLAYOUT_LIMIT_REACHED="hlsPlayoutLimitReached",t.EVENT_CUE_ENTER="hlsEventCueEnter",t}({}),B={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},N={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"},R=function(){function t(t,i,e){void 0===i&&(i=0),void 0===e&&(e=0),this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=t,this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=i,this.totalWeight_=e}var i=t.prototype;return i.sample=function(t,i){var e=Math.pow(this.alpha_,t);this.estimate_=i*(1-e)+e*this.estimate_,this.totalWeight_+=t},i.getTotalWeight=function(){return this.totalWeight_},i.getEstimate=function(){if(this.alpha_){var t=1-Math.pow(this.alpha_,this.totalWeight_);if(t)return this.estimate_/t}return this.estimate_},t}(),U=function(){function t(t,i,e,s){void 0===s&&(s=100),this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=e,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new R(t),this.fast_=new R(i),this.defaultTTFB_=s,this.ttfb_=new R(t)}var i=t.prototype;return i.update=function(t,i){var e=this.slow_,s=this.fast_,n=this.ttfb_;e.halfLife!==t&&(this.slow_=new R(t,e.getEstimate(),e.getTotalWeight())),s.halfLife!==i&&(this.fast_=new R(i,s.getEstimate(),s.getTotalWeight())),n.halfLife!==t&&(this.ttfb_=new R(t,n.getEstimate(),n.getTotalWeight()))},i.sample=function(t,i){var e=(t=Math.max(t,this.minDelayMs_))/1e3,s=8*i/e;this.fast_.sample(e,s),this.slow_.sample(e,s)},i.sampleTTFB=function(t){var i=t/1e3,e=Math.sqrt(2)*Math.exp(-Math.pow(i,2)/2);this.ttfb_.sample(e,Math.max(t,5))},i.canEstimate=function(){return this.fast_.getTotalWeight()>=this.minWeight_},i.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},i.getEstimateTTFB=function(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_},i.destroy=function(){},n(t,[{key:"defaultEstimate",get:function(){return this.defaultEstimate_}}])}(),P=function(t,i){this.trace=void 0,this.debug=void 0,this.log=void 0,this.warn=void 0,this.info=void 0,this.error=void 0;var e="["+t+"]:";this.trace=O,this.debug=i.debug.bind(null,e),this.log=i.log.bind(null,e),this.warn=i.warn.bind(null,e),this.info=i.info.bind(null,e),this.error=i.error.bind(null,e)},O=function(){},L={trace:O,debug:O,log:O,warn:O,info:O,error:O};function z(){return r({},L)}function F(t,i){var e=self.console[t];return e?e.bind(self.console,(i?"["+i+"] ":"")+"["+t+"] >"):O}function G(t,i,e){return i[t]?i[t].bind(i):F(t,e)}var H=z();function V(t,i,e){var s=z();if("object"==typeof console&&!0===t||"object"==typeof t){var n=["debug","log","info","warn","error"];n.forEach((function(i){s[i]=G(i,t,e)}));try{s.log('Debug logs enabled for "'+i+'" in hls.js version 1.6.2')}catch(t){return z()}n.forEach((function(i){H[i]=G(i,t)}))}else r(H,s);return s}var Y,Q,J=H;function W(){return Q?Y:(Q=1,Y=void 0)}var Z=W(),q=A(Z);function X(t,i){if(void 0===i&&(i=!1),"undefined"!=typeof TextDecoder){var e=new TextDecoder("utf-8").decode(t);if(i){var s=e.indexOf("\0");return-1!==s?e.substring(0,s):e}return e.replace(/\0/g,"")}for(var n,o,r,a=t.length,h="",l=0;l<a;){if(0===(n=t[l++])&&i)return h;if(0!==n&&3!==n)switch(n>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:h+=String.fromCharCode(n);break;case 12:case 13:o=t[l++],h+=String.fromCharCode((31&n)<<6|63&o);break;case 14:o=t[l++],r=t[l++],h+=String.fromCharCode((15&n)<<12|(63&o)<<6|63&r)}}return h}var K={hexDump:function(t){for(var i="",e=0;e<t.length;e++){var s=t[e].toString(16);s.length<2&&(s="0"+s),i+=s}return i}},$=function(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}},tt={AUDIO:"audio",VIDEO:"video",AUDIOVIDEO:"audiovideo"},it=function(){function t(t){this.j=null,this.k=null,this.S=null,this.T=null,this.base=void 0,this.relurl=void 0,"string"==typeof t&&(t={url:t}),this.base=t,rt(this,"stats")}var i=t.prototype;return i.setByteRange=function(t,i){var e,s=t.split("@",2);e=1===s.length?(null==i?void 0:i.byteRangeEndOffset)||0:parseInt(s[1]),this.j=[e,parseInt(s[0])+e]},i.clearElementaryStreamInfo=function(){var t=this.elementaryStreams;t[tt.AUDIO]=null,t[tt.VIDEO]=null,t[tt.AUDIOVIDEO]=null},n(t,[{key:"baseurl",get:function(){return this.base.url}},{key:"byteRange",get:function(){return null===this.j?[]:this.j}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"elementaryStreams",get:function(){var t;return null===this.T&&(this.T=((t={})[tt.AUDIO]=null,t[tt.VIDEO]=null,t[tt.AUDIOVIDEO]=null,t)),this.T},set:function(t){this.T=t}},{key:"hasStats",get:function(){return null!==this.S}},{key:"hasStreams",get:function(){return null!==this.T}},{key:"stats",get:function(){return null===this.S&&(this.S=new $),this.S},set:function(t){this.S=t}},{key:"url",get:function(){return!this.k&&this.baseurl&&this.relurl&&(this.k=E.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this.k||""},set:function(t){this.k=t}}])}();function et(t){return"initSegment"!==t.sn}var st=function(t){function i(i,e){var s;return(s=t.call(this,e)||this).C=null,s.I=null,s.M=null,s.D=void 0,s.rawProgramDateTime=null,s.tagList=[],s.duration=0,s.sn=0,s.levelkeys=void 0,s.type=void 0,s.loader=null,s.keyLoader=null,s.level=-1,s.cc=0,s.startPTS=void 0,s.endPTS=void 0,s.startDTS=void 0,s.endDTS=void 0,s.start=0,s.playlistOffset=0,s.deltaPTS=void 0,s.maxStartPTS=void 0,s.minEndPTS=void 0,s.data=void 0,s.bitrateTest=!1,s.title=null,s.initSegment=null,s.endList=void 0,s.gap=void 0,s.urlId=0,s.type=i,s}h(i,t);var e=i.prototype;return e.addStart=function(t){this.setStart(this.start+t)},e.setStart=function(t){this.start=t,this.M&&(this.M.start=t)},e.setDuration=function(t){this.duration=t,this.M&&(this.M.duration=t)},e.setKeyFormat=function(t){if(this.levelkeys){var i=this.levelkeys[t];i&&!this.C&&(this.C=i.getDecryptData(this.sn))}},e.abortRequests=function(){var t,i;null==(t=this.loader)||t.abort(),null==(i=this.keyLoader)||i.abort()},e.setElementaryStreamInfo=function(t,i,e,s,n,o){void 0===o&&(o=!1);var r=this.elementaryStreams,a=r[t];a?(a.startPTS=Math.min(a.startPTS,i),a.endPTS=Math.max(a.endPTS,e),a.startDTS=Math.min(a.startDTS,s),a.endDTS=Math.max(a.endDTS,n)):r[t]={startPTS:i,endPTS:e,startDTS:s,endDTS:n,partial:o}},n(i,[{key:"byteLength",get:function(){if(this.hasStats){var t=this.stats.total;if(t)return t}if(this.byteRange){var i=this.byteRange[0],e=this.byteRange[1];if(S(i)&&S(e))return e-i}return null}},{key:"bitrate",get:function(){return this.byteLength?8*this.byteLength/this.duration:this.D?this.D:null},set:function(t){this.D=t}},{key:"decryptdata",get:function(){if(!this.levelkeys&&!this.C)return null;if(!this.C&&this.levelkeys&&!this.levelkeys.NONE){var t=this.levelkeys.identity;if(t)this.C=t.getDecryptData(this.sn);else{var i=Object.keys(this.levelkeys);if(1===i.length)return this.C=this.levelkeys[i[0]].getDecryptData(this.sn)}}return this.C}},{key:"end",get:function(){return this.start+this.duration}},{key:"endProgramDateTime",get:function(){if(null===this.programDateTime)return null;var t=S(this.duration)?this.duration:0;return this.programDateTime+1e3*t}},{key:"encrypted",get:function(){var t;if(null!=(t=this.C)&&t.encrypted)return!0;if(this.levelkeys){var i=Object.keys(this.levelkeys),e=i.length;if(e>1||1===e&&this.levelkeys[i[0]].encrypted)return!0}return!1}},{key:"programDateTime",get:function(){return null===this.I&&this.rawProgramDateTime&&(this.programDateTime=Date.parse(this.rawProgramDateTime)),this.I},set:function(t){S(t)?this.I=t:this.I=this.rawProgramDateTime=null}},{key:"ref",get:function(){return et(this)?(this.M||(this.M={base:this.base,start:this.start,duration:this.duration,sn:this.sn,programDateTime:this.programDateTime}),this.M):null}}])}(it),nt=function(t){function i(i,e,s,n,o){var r;(r=t.call(this,s)||this).fragOffset=0,r.duration=0,r.gap=!1,r.independent=!1,r.relurl=void 0,r.fragment=void 0,r.index=void 0,r.duration=i.decimalFloatingPoint("DURATION"),r.gap=i.bool("GAP"),r.independent=i.bool("INDEPENDENT"),r.relurl=i.enumeratedString("URI"),r.fragment=e,r.index=n;var a=i.enumeratedString("BYTERANGE");return a&&r.setByteRange(a,o),o&&(r.fragOffset=o.fragOffset+o.duration),r}return h(i,t),n(i,[{key:"start",get:function(){return this.fragment.start+this.fragOffset}},{key:"end",get:function(){return this.start+this.duration}},{key:"loaded",get:function(){var t=this.elementaryStreams;return!!(t.audio||t.video||t.audiovideo)}}])}(it);function ot(t,i){var e=Object.getPrototypeOf(t);if(e){var s=Object.getOwnPropertyDescriptor(e,i);return s||ot(e,i)}}function rt(t,i){var e=ot(t,i);e&&(e.enumerable=!0,Object.defineProperty(t,i,e))}var at=Math.pow(2,32)-1,ht=[].push,lt={video:1,audio:2,id3:3,text:4};function ut(t){return String.fromCharCode.apply(null,t)}function dt(t,i){var e=t[i]<<8|t[i+1];return e<0?65536+e:e}function ct(t,i){var e=ft(t,i);return e<0?4294967296+e:e}function vt(t,i){var e=ct(t,i);return e*=Math.pow(2,32),e+=ct(t,i+4)}function ft(t,i){return t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3]}function pt(t,i,e){t[i]=e>>24,t[i+1]=e>>16&255,t[i+2]=e>>8&255,t[i+3]=255&e}function mt(t){for(var i=t.byteLength,e=0;e<i;){var s=ct(t,e);if(s>8&&109===t[e+4]&&111===t[e+5]&&111===t[e+6]&&102===t[e+7])return!0;e=s>1?e+s:i}return!1}function gt(t,i){var e=[];if(!i.length)return e;for(var s=t.byteLength,n=0;n<s;){var o=ct(t,n),r=o>1?n+o:s;if(ut(t.subarray(n+4,n+8))===i[0])if(1===i.length)e.push(t.subarray(n+8,r));else{var a=gt(t.subarray(n+8,r),i.slice(1));a.length&&ht.apply(e,a)}n=r}return e}function At(t){var i=[],e=t[0],s=8,n=ct(t,s);s+=4;var o=0,r=0;0===e?(o=ct(t,s),r=ct(t,s+4),s+=8):(o=vt(t,s),r=vt(t,s+8),s+=16),s+=2;var a=t.length+r,h=dt(t,s);s+=2;for(var l=0;l<h;l++){var u=s,d=ct(t,u);u+=4;var c=2147483647&d;if(1==(2147483648&d)>>>31)return J.warn("SIDX has hierarchical references (not supported)"),null;var v=ct(t,u);u+=4,i.push({referenceSize:c,subsegmentDuration:v,info:{duration:v/n,start:a,end:a+c-1}}),a+=c,s=u+=4}return{earliestPresentationTime:o,timescale:n,version:e,referencesCount:h,references:i}}function bt(t){for(var i=[],e=gt(t,["moov","trak"]),s=0;s<e.length;s++){var n=e[s],o=gt(n,["tkhd"])[0];if(o){var r=o[0],a=ct(o,0===r?12:20),h=gt(n,["mdia","mdhd"])[0];if(h){var l=ct(h,0===(r=h[0])?12:20),u=gt(n,["mdia","hdlr"])[0];if(u){var d=ut(u.subarray(8,12)),v={soun:tt.AUDIO,vide:tt.VIDEO}[d],f=yt(gt(n,["mdia","minf","stbl","stsd"])[0]);v?(i[a]={timescale:l,type:v,stsd:f},i[v]=c({timescale:l,id:a},f)):i[a]={timescale:l,type:d,stsd:f}}}}}return gt(t,["moov","mvex","trex"]).forEach((function(t){var e=ct(t,4),s=i[e];s&&(s.default={duration:ct(t,12),flags:ct(t,20)})})),i}function yt(t){var i,e=t.subarray(8),s=e.subarray(86),n=ut(e.subarray(4,8)),o=n,r="enca"===n||"encv"===n;if(r){var a=gt(e,[n])[0];gt(a.subarray("enca"===n?28:78),["sinf"]).forEach((function(t){var i=gt(t,["schm"])[0];if(i){var e=ut(i.subarray(4,8));if("cbcs"===e||"cenc"===e){var s=gt(t,["frma"])[0];s&&(o=ut(s))}}}))}var h=o;switch(o){case"avc1":case"avc2":case"avc3":case"avc4":var l=gt(s,["avcC"])[0];l&&l.length>3&&(o+="."+jt(l[1])+jt(l[2])+jt(l[3]),i=wt("avc1"===h?"dva1":"dvav",s));break;case"mp4a":var u=gt(e,[n])[0],d=gt(u.subarray(28),["esds"])[0];if(d&&d.length>7){var c=4;if(3!==d[c++])break;c=_t(d,c),c+=2;var v=d[c++];if(128&v&&(c+=2),64&v&&(c+=d[c++]),4!==d[c++])break;c=_t(d,c);var f=d[c++];if(64!==f)break;if(o+="."+jt(f),c+=12,5!==d[c++])break;c=_t(d,c);var p=d[c++],m=(248&p)>>3;31===m&&(m+=1+((7&p)<<3)+((224&d[c])>>5)),o+="."+m}break;case"hvc1":case"hev1":var g=gt(s,["hvcC"])[0];if(g&&g.length>12){var A=g[1],b=["","A","B","C"][A>>6],y=31&A,w=ct(g,2),_=(32&A)>>5?"H":"L",j=g[12],x=g.subarray(6,12);o+="."+b+y,o+="."+w.toString(16).toUpperCase(),o+="."+_+j;for(var k="",E=x.length;E--;){var S=x[E];(S||k)&&(k="."+S.toString(16).toUpperCase()+k)}o+=k}i=wt("hev1"==h?"dvhe":"dvh1",s);break;case"dvh1":case"dvhe":case"dvav":case"dva1":case"dav1":o=wt(o,s)||o;break;case"vp09":var T=gt(s,["vpcC"])[0];if(T&&T.length>6){var C=T[4],I=T[5],M=T[6]>>4&15;o+="."+xt(C)+"."+xt(I)+"."+xt(M)}break;case"av01":var D=gt(s,["av1C"])[0];if(D&&D.length>2){var B=D[1]>>>5,N=31&D[1],R=D[2]>>>7?"H":"M",U=(64&D[2])>>6,P=(32&D[2])>>5,O=2===B&&U?P?12:10:U?10:8,L=(16&D[2])>>4,z=(8&D[2])>>3,F=(4&D[2])>>2,G=3&D[2],H=1,V=1,Y=1,Q=0;o+="."+B+"."+xt(N)+R+"."+xt(O)+"."+L+"."+z+F+G+"."+xt(H)+"."+xt(V)+"."+xt(Y)+"."+Q,i=wt("dav1",s)}}return{codec:o,encrypted:r,supplemental:i}}function wt(t,i){var e=gt(i,["dvvC"]),s=e.length?e[0]:gt(i,["dvcC"])[0];if(s){var n=s[2]>>1&127,o=s[2]<<5&32|s[3]>>3&31;return t+"."+xt(n)+"."+xt(o)}}function _t(t,i){for(var e=i+5;128&t[i++]&&i<e;);return i}function jt(t){return("0"+t.toString(16).toUpperCase()).slice(-2)}function xt(t){return(t<10?"0":"")+t}function kt(t,i){if(!t||!i)return t;var e=i.keyId;return e&&i.isCommonEncryption&&gt(t,["moov","trak"]).forEach((function(t){var i=gt(t,["mdia","minf","stbl","stsd"])[0].subarray(8),s=gt(i,["enca"]),n=s.length>0;n||(s=gt(i,["encv"])),s.forEach((function(t){gt(n?t.subarray(28):t.subarray(78),["sinf"]).forEach((function(t){var i=Et(t);if(i){var s=i.subarray(8,24);s.some((function(t){return 0!==t}))||(J.log("[eme] Patching keyId in 'enc"+(n?"a":"v")+">sinf>>tenc' box: "+K.hexDump(s)+" -> "+K.hexDump(e)),i.set(e,8))}}))}))})),t}function Et(t){var i=gt(t,["schm"])[0];if(i){var e=ut(i.subarray(4,8));if("cbcs"===e||"cenc"===e)return gt(t,["schi","tenc"])[0]}return null}function St(t,i){return gt(i,["moof","traf"]).reduce((function(i,e){var s=gt(e,["tfdt"])[0],n=s[0],o=gt(e,["tfhd"]).reduce((function(i,e){var o=ct(e,4),r=t[o];if(r){var a=ct(s,4);if(1===n){if(a===at)return J.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),i;a*=at+1,a+=ct(s,8)}var h=a/(r.timescale||9e4);if(S(h)&&(null===i||h<i))return h}return i}),null);return null!==o&&S(o)&&(null===i||o<i)?o:i}),null)}function Tt(t,i){for(var e=0,s=0,n=0,o=gt(t,["moof","traf"]),r=0;r<o.length;r++){var a=o[r],h=gt(a,["tfhd"])[0],l=i[ct(h,4)];if(l){var u=l.default,d=ct(h,0)|(null==u?void 0:u.flags),c=null==u?void 0:u.duration;8&d&&(c=ct(h,2&d?12:8));for(var v=l.timescale||9e4,f=gt(a,["trun"]),p=0;p<f.length;p++)!(e=Ct(f[p]))&&c&&(e=c*ct(f[p],4)),l.type===tt.VIDEO?s+=e/v:l.type===tt.AUDIO&&(n+=e/v)}}if(0===s&&0===n){for(var m=1/0,g=0,A=0,b=gt(t,["sidx"]),y=0;y<b.length;y++){var w=At(b[y]);if(null!=w&&w.references){m=Math.min(m,w.earliestPresentationTime/w.timescale);var _=w.references.reduce((function(t,i){return t+i.info.duration||0}),0);A=(g=Math.max(g,_+w.earliestPresentationTime/w.timescale))-m}}if(A&&S(A))return A}return s||n}function Ct(t){var i=ct(t,0),e=8;1&i&&(e+=4),4&i&&(e+=4);for(var s=0,n=ct(t,4),o=0;o<n;o++)256&i&&(s+=ct(t,e),e+=4),512&i&&(e+=4),1024&i&&(e+=4),2048&i&&(e+=4);return s}function It(t,i,e){gt(i,["moof","traf"]).forEach((function(i){gt(i,["tfhd"]).forEach((function(s){var n=ct(s,4),o=t[n];if(o){var r=o.timescale||9e4;gt(i,["tfdt"]).forEach((function(t){var i=t[0],s=e*r;if(s){var n=ct(t,4);if(0===i)n-=s,pt(t,4,n=Math.max(n,0));else{n*=Math.pow(2,32),n+=ct(t,8),n-=s,n=Math.max(n,0);var o=Math.floor(n/(at+1)),a=Math.floor(n%(at+1));pt(t,4,o),pt(t,8,a)}}}))}}))}))}function Mt(t){var i={valid:null,remainder:null},e=gt(t,["moof"]);if(e.length<2)return i.remainder=t,i;var s=e[e.length-1];return i.valid=t.slice(0,s.byteOffset-8),i.remainder=t.slice(s.byteOffset-8),i}function Dt(t,i){var e=new Uint8Array(t.length+i.length);return e.set(t),e.set(i,t.length),e}function Bt(t,i){var e=[],s=i.samples,n=i.timescale,o=i.id,r=!1;return gt(s,["moof"]).map((function(a){var h=a.byteOffset-8;gt(a,["traf"]).map((function(a){var l=gt(a,["tfdt"]).map((function(t){var i=t[0],e=ct(t,4);return 1===i&&(e*=Math.pow(2,32),e+=ct(t,8)),e/n}))[0];return void 0!==l&&(t=l),gt(a,["tfhd"]).map((function(l){var u=ct(l,4),d=16777215&ct(l,0),c=0,v=!!(16&d),f=0,p=!!(32&d),m=8;u===o&&(!!(1&d)&&(m+=8),!!(2&d)&&(m+=4),!!(8&d)&&(c=ct(l,m),m+=4),v&&(f=ct(l,m),m+=4),p&&(m+=4),"video"===i.type&&(r=Nt(i.codec)),gt(a,["trun"]).map((function(o){var a=o[0],l=16777215&ct(o,0),u=!!(1&l),d=0,v=!!(4&l),p=!!(256&l),m=0,g=!!(512&l),A=0,b=!!(1024&l),y=!!(2048&l),w=0,_=ct(o,4),j=8;u&&(d=ct(o,j),j+=4),v&&(j+=4);for(var x=d+h,k=0;k<_;k++){if(p?(m=ct(o,j),j+=4):m=c,g?(A=ct(o,j),j+=4):A=f,b&&(j+=4),y&&(w=0===a?ct(o,j):ft(o,j),j+=4),i.type===tt.VIDEO)for(var E=0;E<A;){var S=ct(s,x);Rt(r,s[x+=4])&&Ut(s.subarray(x,x+S),r?2:1,t+w/n,e),x+=S,E+=S+4}t+=m/n}})))}))}))})),e}function Nt(t){if(!t)return!1;var i=t.substring(0,4);return"hvc1"===i||"hev1"===i||"dvh1"===i||"dvhe"===i}function Rt(t,i){if(t){var e=i>>1&63;return 39===e||40===e}return 6==(31&i)}function Ut(t,i,e,s){var n=Pt(t),o=0;o+=i;for(var r=0,a=0,h=0;o<n.length;){r=0;do{if(o>=n.length)break;r+=h=n[o++]}while(255===h);a=0;do{if(o>=n.length)break;a+=h=n[o++]}while(255===h);var l=n.length-o,u=o;if(a<l)o+=a;else if(a>l){J.error("Malformed SEI payload. "+a+" is too small, only "+l+" bytes left to parse.");break}if(4===r){if(181===n[u++]){var d=dt(n,u);if(u+=2,49===d){var c=ct(n,u);if(u+=4,1195456820===c){var v=n[u++];if(3===v){var f=n[u++],p=64&f,m=p?2+3*(31&f):0,g=new Uint8Array(m);if(p){g[0]=f;for(var A=1;A<m;A++)g[A]=n[u++]}s.push({type:v,payloadType:r,pts:e,bytes:g})}}}}}else if(5===r&&a>16){for(var b=[],y=0;y<16;y++){var w=n[u++].toString(16);b.push(1==w.length?"0"+w:w),3!==y&&5!==y&&7!==y&&9!==y||b.push("-")}for(var _=a-16,j=new Uint8Array(_),x=0;x<_;x++)j[x]=n[u++];s.push({payloadType:r,pts:e,uuid:b.join(""),userData:X(j),userDataBytes:j})}}}function Pt(t){for(var i=t.byteLength,e=[],s=1;s<i-2;)0===t[s]&&0===t[s+1]&&3===t[s+2]?(e.push(s+2),s+=2):s++;if(0===e.length)return t;var n=i-e.length,o=new Uint8Array(n),r=0;for(s=0;s<n;r++,s++)r===e[0]&&(r++,e.shift()),o[s]=t[r];return o}function Ot(t){var i=t[0],e="",s="",n=0,o=0,r=0,a=0,h=0,l=0;if(0===i){for(;"\0"!==ut(t.subarray(l,l+1));)e+=ut(t.subarray(l,l+1)),l+=1;for(e+=ut(t.subarray(l,l+1)),l+=1;"\0"!==ut(t.subarray(l,l+1));)s+=ut(t.subarray(l,l+1)),l+=1;s+=ut(t.subarray(l,l+1)),l+=1,n=ct(t,12),o=ct(t,16),a=ct(t,20),h=ct(t,24),l=28}else if(1===i){n=ct(t,l+=4);var u=ct(t,l+=4),d=ct(t,l+=4);for(l+=4,r=Math.pow(2,32)*u+d,T(r)||(r=Number.MAX_SAFE_INTEGER,J.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),a=ct(t,l),h=ct(t,l+=4),l+=4;"\0"!==ut(t.subarray(l,l+1));)e+=ut(t.subarray(l,l+1)),l+=1;for(e+=ut(t.subarray(l,l+1)),l+=1;"\0"!==ut(t.subarray(l,l+1));)s+=ut(t.subarray(l,l+1)),l+=1;s+=ut(t.subarray(l,l+1)),l+=1}return{schemeIdUri:e,value:s,timeScale:n,presentationTime:r,presentationTimeDelta:o,eventDuration:a,id:h,payload:t.subarray(l,t.byteLength)}}function Lt(t){if(void 0===t&&(t=!0),"undefined"!=typeof self)return(t||!self.MediaSource)&&self.ManagedMediaSource||self.MediaSource||self.WebKitMediaSource}function zt(t){return"undefined"!=typeof self&&t===self.ManagedMediaSource}function Ft(t,i){var e=Object.keys(t),s=Object.keys(i),n=e.length,o=s.length;return!n||!o||n===o&&!e.some((function(t){return-1===s.indexOf(t)}))}var Gt=function(){return/\(Windows.+Firefox\//i.test(navigator.userAgent)},Ht={audio:{a3ds:1,"ac-3":.95,"ac-4":1,alac:.9,alaw:1,dra1:1,"dts+":1,"dts-":1,dtsc:1,dtse:1,dtsh:1,"ec-3":.9,enca:1,fLaC:.9,flac:.9,FLAC:.9,g719:1,g726:1,m4ae:1,mha1:1,mha2:1,mhm1:1,mhm2:1,mlpa:1,mp4a:1,"raw ":1,Opus:1,opus:1,samr:1,sawb:1,sawp:1,sevc:1,sqcp:1,ssmv:1,twos:1,ulaw:1},video:{avc1:1,avc2:1,avc3:1,avc4:1,avcp:1,av01:.8,dav1:.8,drac:1,dva1:1,dvav:1,dvh1:.7,dvhe:.7,encv:1,hev1:.75,hvc1:.75,mjp2:1,mp4v:1,mvc1:1,mvc2:1,mvc3:1,mvc4:1,resv:1,rv60:1,s263:1,svc1:1,svc2:1,"vc-1":1,vp08:1,vp09:.9},text:{stpp:1,wvtt:1}};function Vt(t,i){var e=Ht[i];return!!e&&!!e[t.slice(0,4)]}function Yt(t,i,e){return void 0===e&&(e=!0),!t.split(",").some((function(t){return!Qt(t,i,e)}))}function Qt(t,i,e){var s;void 0===e&&(e=!0);var n=Lt(e);return null!=(s=null==n?void 0:n.isTypeSupported(Jt(t,i)))&&s}function Jt(t,i){return i+"/mp4;codecs="+t}function Wt(t){if(t){var i=t.substring(0,4);return Ht.video[i]}return 2}function Zt(t){var i=Gt();return t.split(",").reduce((function(t,e){var s=i&&Nt(e)?9:Ht.video[e];return s?(2*s+t)/(t?3:2):(Ht.audio[e]+t)/(t?2:1)}),0)}var qt={};function Xt(t,i){if(void 0===i&&(i=!0),qt[t])return qt[t];for(var e={flac:["flac","fLaC","FLAC"],opus:["opus","Opus"],"mp4a.40.34":["mp3"]}[t],s=0;s<e.length;s++){var n;if(Qt(e[s],"audio",i))return qt[t]=e[s],e[s];if("mp3"===e[s]&&null!=(n=Lt(i))&&n.isTypeSupported("audio/mpeg"))return""}return t}var Kt=/flac|opus|mp4a\.40\.34/i;function $t(t,i){return void 0===i&&(i=!0),t.replace(Kt,(function(t){return Xt(t.toLowerCase(),i)}))}function ti(t,i){var e=[];if(t)for(var s=t.split(","),n=0;n<s.length;n++)Vt(s[n],"video")||e.push(s[n]);return i&&e.push(i),e.join(",")}function ii(t,i){if(t&&(t.length>4||-1!==["ac-3","ec-3","alac","fLaC","Opus"].indexOf(t)))return t;if(i){var e=i.split(",");if(e.length>1){if(t)for(var s=e.length;s--;)if(e[s].substring(0,4)===t.substring(0,4))return e[s];return e[0]}}return i||t}function ei(t){for(var i=t.split(","),e=0;e<i.length;e++){var s=i[e].split(".");if(s.length>2){var n=s.shift()+".";n+=parseInt(s.shift()).toString(16),n+=("000"+parseInt(s.shift()).toString(16)).slice(-4),i[e]=n}}return i.join(",")}function si(t){if(t.startsWith("av01.")){for(var i=t.split("."),e=["0","111","01","01","01","0"],s=i.length;s>4&&s<10;s++)i[s]=e[s-4];return i.join(".")}return t}function ni(t){var i=Lt(t)||{isTypeSupported:function(){return!1}};return{mpeg:i.isTypeSupported("audio/mpeg"),mp3:i.isTypeSupported('audio/mp4; codecs="mp3"'),ac3:!1}}function oi(t){return t.replace(/^.+codecs=["']?([^"']+).*$/,"$1")}var ri=["NONE","TYPE-0","TYPE-1",null];function ai(t){return ri.indexOf(t)>-1}var hi=["SDR","PQ","HLG"];function li(t){return!!t&&hi.indexOf(t)>-1}var ui={No:"",Yes:"YES",v2:"v2"};function di(t){var i=t.canSkipUntil,e=t.canSkipDateRanges,s=t.age;return i&&s<i/2?e?ui.v2:ui.Yes:ui.No}var ci=function(){function t(t,i,e){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=t,this.part=i,this.skip=e}return t.prototype.addDirectives=function(t){var i=new self.URL(t);return void 0!==this.msn&&i.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&i.searchParams.set("_HLS_part",this.part.toString()),this.skip&&i.searchParams.set("_HLS_skip",this.skip),i.href},t}(),vi=function(){function t(t){if(this.B=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.url=void 0,this.frameRate=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.supplemental=void 0,this.videoCodec=void 0,this.width=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.supportedPromise=void 0,this.supportedResult=void 0,this.N=0,this.R=void 0,this.U=void 0,this.P=0,this.url=[t.url],this.B=[t.attrs],this.bitrate=t.bitrate,t.details&&(this.details=t.details),this.id=t.id||0,this.name=t.name,this.width=t.width||0,this.height=t.height||0,this.frameRate=t.attrs.optionalFloat("FRAME-RATE",0),this.N=t.attrs.decimalInteger("AVERAGE-BANDWIDTH"),this.audioCodec=t.audioCodec,this.videoCodec=t.videoCodec,this.codecSet=[t.videoCodec,t.audioCodec].filter((function(t){return!!t})).map((function(t){return t.substring(0,4)})).join(","),"supplemental"in t){var i;this.supplemental=t.supplemental;var e=null==(i=t.supplemental)?void 0:i.videoCodec;e&&e!==t.videoCodec&&(this.codecSet+=","+e.substring(0,4))}this.addGroupId("audio",t.attrs.AUDIO),this.addGroupId("text",t.attrs.SUBTITLES)}var i=t.prototype;return i.hasAudioGroup=function(t){return fi(this.R,t)},i.hasSubtitleGroup=function(t){return fi(this.U,t)},i.addGroupId=function(t,i){if(i)if("audio"===t){var e=this.R;e||(e=this.R=[]),-1===e.indexOf(i)&&e.push(i)}else if("text"===t){var s=this.U;s||(s=this.U=[]),-1===s.indexOf(i)&&s.push(i)}},i.addFallback=function(){},n(t,[{key:"maxBitrate",get:function(){return Math.max(this.realBitrate,this.bitrate)}},{key:"averageBitrate",get:function(){return this.N||this.realBitrate||this.bitrate}},{key:"attrs",get:function(){return this.B[0]}},{key:"codecs",get:function(){return this.attrs.CODECS||""}},{key:"pathwayId",get:function(){return this.attrs["PATHWAY-ID"]||"."}},{key:"videoRange",get:function(){return this.attrs["VIDEO-RANGE"]||"SDR"}},{key:"score",get:function(){return this.attrs.optionalFloat("SCORE",0)}},{key:"uri",get:function(){return this.url[0]||""}},{key:"audioGroups",get:function(){return this.R}},{key:"subtitleGroups",get:function(){return this.U}},{key:"urlId",get:function(){return 0},set:function(t){}},{key:"audioGroupIds",get:function(){return this.audioGroups?[this.audioGroupId]:void 0}},{key:"textGroupIds",get:function(){return this.subtitleGroups?[this.textGroupId]:void 0}},{key:"audioGroupId",get:function(){var t;return null==(t=this.audioGroups)?void 0:t[0]}},{key:"textGroupId",get:function(){var t;return null==(t=this.subtitleGroups)?void 0:t[0]}}])}();function fi(t,i){return!(!i||!t)&&-1!==t.indexOf(i)}function pi(){if("function"==typeof matchMedia){var t=matchMedia("(dynamic-range: high)"),i=matchMedia("bad query");if(t.media!==i.media)return!0===t.matches}return!1}function mi(t,i){var e=!1,s=[];if(t&&(e="SDR"!==t,s=[t]),i){var n="SDR"!==(s=i.allowedVideoRanges||hi.slice(0)).join("")&&!i.videoCodec;(e=void 0!==i.preferHDR?i.preferHDR:n&&pi())||(s=["SDR"])}return{preferHDR:e,allowedVideoRanges:s}}var gi=function(t){var i=new WeakSet;return function(e,s){if(t&&(s=t(e,s)),"object"==typeof s&&null!==s){if(i.has(s))return;i.add(s)}return s}},Ai=function(t,i){return JSON.stringify(t,gi(i))};function bi(t,i,e,s,n){for(var o=Object.keys(t),r=null==s?void 0:s.channels,a=null==s?void 0:s.audioCodec,h=null==n?void 0:n.videoCodec,l=r&&2===parseInt(r),u=!1,d=!1,c=1/0,v=1/0,f=1/0,p=1/0,m=0,g=[],A=mi(i,n),b=A.preferHDR,y=A.allowedVideoRanges,w=function(){var i=t[o[_]];u||(u=i.channels[2]>0),c=Math.min(c,i.minHeight),v=Math.min(v,i.minFramerate),f=Math.min(f,i.minBitrate),y.filter((function(t){return i.videoRanges[t]>0})).length>0&&(d=!0)},_=o.length;_--;)w();c=S(c)?c:0,v=S(v)?v:0;var j=Math.max(1080,c),x=Math.max(30,v);f=S(f)?f:e,e=Math.max(f,e),d||(i=void 0);var k=o.length>1;return{codecSet:o.reduce((function(i,s){var n=t[s];if(s===i)return i;if(g=d?y.filter((function(t){return n.videoRanges[t]>0})):[],k){if(n.minBitrate>e)return yi(s,"min bitrate of "+n.minBitrate+" > current estimate of "+e),i;if(!n.hasDefaultAudio)return yi(s,"no renditions with default or auto-select sound found"),i;if(a&&s.indexOf(a.substring(0,4))%5!=0)return yi(s,'audio codec preference "'+a+'" not found'),i;if(r&&!l){if(!n.channels[r])return yi(s,"no renditions with "+r+" channel sound found (channels options: "+Object.keys(n.channels)+")"),i}else if((!a||l)&&u&&0===n.channels[2])return yi(s,"no renditions with stereo sound found"),i;if(n.minHeight>j)return yi(s,"min resolution of "+n.minHeight+" > maximum of "+j),i;if(n.minFramerate>x)return yi(s,"min framerate of "+n.minFramerate+" > maximum of "+x),i;if(!g.some((function(t){return n.videoRanges[t]>0})))return yi(s,"no variants with VIDEO-RANGE of "+Ai(g)+" found"),i;if(h&&s.indexOf(h.substring(0,4))%5!=0)return yi(s,'video codec preference "'+h+'" not found'),i;if(n.maxScore<m)return yi(s,"max score of "+n.maxScore+" < selected max of "+m),i}return i&&(Zt(s)>=Zt(i)||n.fragmentError>t[i].fragmentError)?i:(p=n.minIndex,m=n.maxScore,s)}),void 0),videoRanges:g,preferHDR:b,minFramerate:v,minBitrate:f,minIndex:p}}function yi(t,i){J.log('[abr] start candidates with "'+t+'" ignored because '+i)}function wi(t){return t.reduce((function(t,i){var e=t.groups[i.groupId];e||(e=t.groups[i.groupId]={tracks:[],channels:{2:0},hasDefault:!1,hasAutoSelect:!1}),e.tracks.push(i);var s=i.channels||"2";return e.channels[s]=(e.channels[s]||0)+1,e.hasDefault=e.hasDefault||i.default,e.hasAutoSelect=e.hasAutoSelect||i.autoselect,e.hasDefault&&(t.hasDefaultAudio=!0),e.hasAutoSelect&&(t.hasAutoSelectAudio=!0),t}),{hasDefaultAudio:!1,hasAutoSelectAudio:!1,groups:{}})}function _i(t,i,e,s){return t.slice(e,s+1).reduce((function(t,i,e){if(!i.codecSet)return t;var s=i.audioGroups,n=t[i.codecSet];n||(t[i.codecSet]=n={minBitrate:1/0,minHeight:1/0,minFramerate:1/0,minIndex:e,maxScore:0,videoRanges:{SDR:0},channels:{2:0},hasDefaultAudio:!s,fragmentError:0}),n.minBitrate=Math.min(n.minBitrate,i.bitrate);var o=Math.min(i.height,i.width);return n.minHeight=Math.min(n.minHeight,o),n.minFramerate=Math.min(n.minFramerate,i.frameRate),n.minIndex=Math.min(n.minIndex,e),n.maxScore=Math.max(n.maxScore,i.score),n.fragmentError+=i.fragmentError,n.videoRanges[i.videoRange]=(n.videoRanges[i.videoRange]||0)+1,t}),{})}function ji(t,i){var e;return!!t&&t!==(null==(e=i.loadLevelObj)?void 0:e.uri)}var xi=function(t){function i(i){var e;return(e=t.call(this,"abr",i.logger)||this).hls=void 0,e.lastLevelLoadSec=0,e.lastLoadedFragLevel=-1,e.firstSelection=-1,e.O=-1,e.nextAutoLevelKey="",e.audioTracksByGroup=null,e.codecTiers=null,e.timer=-1,e.fragCurrent=null,e.partCurrent=null,e.bitrateTestDelay=0,e.rebufferNotice=-1,e.bwEstimator=void 0,e.L=function(t){var i,s=e,n=s.fragCurrent,o=s.partCurrent,r=s.hls,a=r.autoLevelEnabled,h=r.media;if(n&&h){var l=performance.now(),u=o?o.stats:n.stats,d=o?o.duration:n.duration,c=l-u.loading.start,v=r.minAutoLevel,f=n.level,p=e.O;if(u.aborted||u.loaded&&u.loaded===u.total||f<=v)return e.clearTimer(),void(e.O=-1);if(a){var m=p>-1&&p!==f,g=!!t||m;if(g||!h.paused&&h.playbackRate&&h.readyState){var A=r.mainForwardBufferInfo;if(g||null!==A){var b=e.bwEstimator.getEstimateTTFB(),y=Math.abs(h.playbackRate);if(!(c<=Math.max(b,d/(2*y)*1e3))){var w=A?A.len/y:0,_=u.loading.first?u.loading.first-u.loading.start:-1,j=u.loaded&&_>-1,x=e.getBwEstimate(),k=r.levels,E=k[f],T=Math.max(u.loaded,Math.round(d*(n.bitrate||E.averageBitrate)/8)),C=j?c-_:c;C<1&&j&&(C=Math.min(c,8*u.loaded/x));var I=j?1e3*u.loaded/C:0,M=b/1e3,B=I?(T-u.loaded)/I:8*T/x+M;if(!(B<=w)){var N,R=I?8*I:x,U=!0===(null==(i=(null==t?void 0:t.details)||e.hls.latestLevelDetails)?void 0:i.live),P=e.hls.config.abrBandWidthUpFactor,O=Number.POSITIVE_INFINITY;for(N=f-1;N>v;N--){var L=k[N].maxBitrate,z=!k[N].details||U;if((O=e.getTimeToLoadFrag(M,R,d*L,z))<Math.min(w,d+M))break}if(!(O>=B||O>10*d)){j?e.bwEstimator.sample(c-Math.min(b,_),u.loaded):e.bwEstimator.sampleTTFB(c);var F=k[N].maxBitrate;e.getBwEstimate()*P>F&&e.resetEstimator(F);var G=e.findBestLevel(F,v,N,0,w,1,1);G>-1&&(N=G),e.warn("Fragment "+n.sn+(o?" part "+o.index:"")+" of level "+f+" is loading too slowly;\n      Fragment duration: "+n.duration.toFixed(3)+"\n      Time to underbuffer: "+w.toFixed(3)+" s\n      Estimated load time for current fragment: "+B.toFixed(3)+" s\n      Estimated load time for down switch fragment: "+O.toFixed(3)+" s\n      TTFB estimate: "+(0|_)+" ms\n      Current BW estimate: "+(S(x)?0|x:"Unknown")+" bps\n      New BW estimate: "+(0|e.getBwEstimate())+" bps\n      Switching to level "+N+" @ "+(0|F)+" bps"),r.nextLoadLevel=r.nextAutoLevel=N,e.clearTimer();var H=function(){if(e.clearTimer(),e.fragCurrent===n&&e.hls.loadLevel===N&&N>0){var t=e.getStarvationDelay();if(e.warn("Aborting inflight request "+(N>0?"and switching down":"")+"\n      Fragment duration: "+n.duration.toFixed(3)+" s\n      Time to underbuffer: "+t.toFixed(3)+" s"),n.abortRequests(),e.fragCurrent=e.partCurrent=null,N>v){var i=e.findBestLevel(e.hls.levels[v].bitrate,v,N,0,t,1,1);-1===i&&(i=v),e.hls.nextLoadLevel=e.hls.nextAutoLevel=i,e.resetEstimator(e.hls.levels[i].bitrate)}}};m||B>2*O?H():e.timer=self.setInterval(H,1e3*O),r.trigger(D.FRAG_LOAD_EMERGENCY_ABORTED,{frag:n,part:o,stats:u})}}}}}}}},e.hls=i,e.bwEstimator=e.initEstimator(),e.registerListeners(),e}h(i,t);var e=i.prototype;return e.resetEstimator=function(t){t&&(this.log("setting initial bwe to "+t),this.hls.config.abrEwmaDefaultEstimate=t),this.firstSelection=-1,this.bwEstimator=this.initEstimator()},e.initEstimator=function(){var t=this.hls.config;return new U(t.abrEwmaSlowVoD,t.abrEwmaFastVoD,t.abrEwmaDefaultEstimate)},e.registerListeners=function(){var t=this.hls;t.on(D.MANIFEST_LOADING,this.onManifestLoading,this),t.on(D.FRAG_LOADING,this.onFragLoading,this),t.on(D.FRAG_LOADED,this.onFragLoaded,this),t.on(D.FRAG_BUFFERED,this.onFragBuffered,this),t.on(D.LEVEL_SWITCHING,this.onLevelSwitching,this),t.on(D.LEVEL_LOADED,this.onLevelLoaded,this),t.on(D.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(D.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),t.on(D.ERROR,this.onError,this)},e.unregisterListeners=function(){var t=this.hls;t&&(t.off(D.MANIFEST_LOADING,this.onManifestLoading,this),t.off(D.FRAG_LOADING,this.onFragLoading,this),t.off(D.FRAG_LOADED,this.onFragLoaded,this),t.off(D.FRAG_BUFFERED,this.onFragBuffered,this),t.off(D.LEVEL_SWITCHING,this.onLevelSwitching,this),t.off(D.LEVEL_LOADED,this.onLevelLoaded,this),t.off(D.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(D.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),t.off(D.ERROR,this.onError,this))},e.destroy=function(){this.unregisterListeners(),this.clearTimer(),this.hls=this.L=null,this.fragCurrent=this.partCurrent=null},e.onManifestLoading=function(t,i){this.lastLoadedFragLevel=-1,this.firstSelection=-1,this.lastLevelLoadSec=0,this.fragCurrent=this.partCurrent=null,this.onLevelsUpdated(),this.clearTimer()},e.onLevelsUpdated=function(){this.lastLoadedFragLevel>-1&&this.fragCurrent&&(this.lastLoadedFragLevel=this.fragCurrent.level),this.O=-1,this.onMaxAutoLevelUpdated(),this.codecTiers=null,this.audioTracksByGroup=null},e.onMaxAutoLevelUpdated=function(){this.firstSelection=-1,this.nextAutoLevelKey=""},e.onFragLoading=function(t,i){var e,s=i.frag;this.ignoreFragment(s)||(s.bitrateTest||(this.fragCurrent=s,this.partCurrent=null!=(e=i.part)?e:null),this.clearTimer(),this.timer=self.setInterval(this.L,100))},e.onLevelSwitching=function(t,i){this.clearTimer()},e.onError=function(t,i){if(!i.fatal)switch(i.details){case M.BUFFER_ADD_CODEC_ERROR:case M.BUFFER_APPEND_ERROR:this.lastLoadedFragLevel=-1,this.firstSelection=-1;break;case M.FRAG_LOAD_TIMEOUT:var e=i.frag,s=this.fragCurrent,n=this.partCurrent;if(e&&s&&e.sn===s.sn&&e.level===s.level){var o=performance.now(),r=n?n.stats:e.stats,a=o-r.loading.start,h=r.loading.first?r.loading.first-r.loading.start:-1;if(r.loaded&&h>-1){var l=this.bwEstimator.getEstimateTTFB();this.bwEstimator.sample(a-Math.min(l,h),r.loaded)}else this.bwEstimator.sampleTTFB(a)}}},e.getTimeToLoadFrag=function(t,i,e,s){return t+e/i+(s?t+this.lastLevelLoadSec:0)},e.onLevelLoaded=function(t,i){var e=this.hls.config,s=i.stats.loading,n=s.end-s.first;S(n)&&(this.lastLevelLoadSec=n/1e3),i.details.live?this.bwEstimator.update(e.abrEwmaSlowLive,e.abrEwmaFastLive):this.bwEstimator.update(e.abrEwmaSlowVoD,e.abrEwmaFastVoD),this.timer>-1&&this.L(i.levelInfo)},e.onFragLoaded=function(t,i){var e=i.frag,s=i.part,n=s?s.stats:e.stats;if(e.type===N.MAIN&&this.bwEstimator.sampleTTFB(n.loading.first-n.loading.start),!this.ignoreFragment(e)){if(this.clearTimer(),e.level===this.O&&(this.O=-1),this.firstSelection=-1,this.hls.config.abrMaxWithRealBitrate){var o=s?s.duration:e.duration,r=this.hls.levels[e.level],a=(r.loaded?r.loaded.bytes:0)+n.loaded,h=(r.loaded?r.loaded.duration:0)+o;r.loaded={bytes:a,duration:h},r.realBitrate=Math.round(8*a/h)}if(e.bitrateTest){var l={stats:n,frag:e,part:s,id:e.type};this.onFragBuffered(D.FRAG_BUFFERED,l),e.bitrateTest=!1}else this.lastLoadedFragLevel=e.level}},e.onFragBuffered=function(t,i){var e=i.frag,s=i.part,n=null!=s&&s.stats.loaded?s.stats:e.stats;if(!n.aborted&&!this.ignoreFragment(e)){var o=n.parsing.end-n.loading.start-Math.min(n.loading.first-n.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(o,n.loaded),n.bwEstimate=this.getBwEstimate(),e.bitrateTest?this.bitrateTestDelay=o/1e3:this.bitrateTestDelay=0}},e.ignoreFragment=function(t){return t.type!==N.MAIN||"initSegment"===t.sn},e.clearTimer=function(){this.timer>-1&&(self.clearInterval(this.timer),this.timer=-1)},e.getAutoLevelKey=function(){return this.getBwEstimate()+"_"+this.getStarvationDelay().toFixed(2)},e.getNextABRAutoLevel=function(){var t=this.fragCurrent,i=this.partCurrent,e=this.hls;if(e.levels.length<=1)return e.loadLevel;var s=e.maxAutoLevel,n=e.config,o=e.minAutoLevel,r=i?i.duration:t?t.duration:0,a=this.getBwEstimate(),h=this.getStarvationDelay(),l=n.abrBandWidthFactor,u=n.abrBandWidthUpFactor;if(h){var d=this.findBestLevel(a,o,s,h,0,l,u);if(d>=0)return this.rebufferNotice=-1,d}var c=r?Math.min(r,n.maxStarvationDelay):n.maxStarvationDelay;if(!h){var v=this.bitrateTestDelay;v&&(c=(r?Math.min(r,n.maxLoadingDelay):n.maxLoadingDelay)-v,this.info("bitrate test took "+Math.round(1e3*v)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*c)+" ms"),l=u=1)}var f=this.findBestLevel(a,o,s,h,c,l,u);if(this.rebufferNotice!==f&&(this.rebufferNotice=f,this.info((h?"rebuffering expected":"buffer is empty")+", optimal quality level "+f)),f>-1)return f;var p=e.levels[o],m=e.loadLevelObj;return m&&(null==p?void 0:p.bitrate)<m.bitrate?o:e.loadLevel},e.getStarvationDelay=function(){var t=this.hls,i=t.media;if(!i)return 1/0;var e=i&&0!==i.playbackRate?Math.abs(i.playbackRate):1,s=t.mainForwardBufferInfo;return(s?s.len:0)/e},e.getBwEstimate=function(){return this.bwEstimator.canEstimate()?this.bwEstimator.getEstimate():this.hls.config.abrEwmaDefaultEstimate},e.findBestLevel=function(t,i,e,s,n,o,r){var a,h=this,l=s+n,u=this.lastLoadedFragLevel,d=-1===u?this.hls.firstLevel:u,c=this.fragCurrent,v=this.partCurrent,f=this.hls,p=f.levels,m=f.allAudioTracks,g=f.loadLevel,A=f.config;if(1===p.length)return 0;var b,y=p[d],w=!(null==(a=this.hls.latestLevelDetails)||!a.live),_=-1===g||-1===u,j="SDR",x=(null==y?void 0:y.frameRate)||0,k=A.audioPreference,E=A.videoPreference,T=this.audioTracksByGroup||(this.audioTracksByGroup=wi(m)),C=-1;if(_){if(-1!==this.firstSelection)return this.firstSelection;var I=bi(this.codecTiers||(this.codecTiers=_i(p,T,i,e)),j,t,k,E),M=I.codecSet,D=I.videoRanges,B=I.minFramerate,N=I.minBitrate,R=I.minIndex,U=I.preferHDR;C=R,b=M,j=U?D[D.length-1]:D[0],x=B,t=Math.max(t,N),this.log("picked start tier "+Ai(I))}else b=null==y?void 0:y.codecSet,j=null==y?void 0:y.videoRange;for(var P,O=v?v.duration:c?c.duration:0,L=this.bwEstimator.getEstimateTTFB()/1e3,z=[],F=function(){var i,a=p[G],c=G>d;if(!a)return 0;if((b&&a.codecSet!==b||j&&a.videoRange!==j||c&&x>a.frameRate||!c&&x>0&&x<a.frameRate||a.supportedResult&&(null==(i=a.supportedResult.decodingInfoResults)||!i[0].smooth))&&(!_||G!==C))return z.push(G),0;var f,m=a.details,A=(v?null==m?void 0:m.partTarget:null==m?void 0:m.averagetargetduration)||O;f=c?r*t:o*t;var y=O&&s>=2*O&&0===n?a.averageBitrate:a.maxBitrate,k=h.getTimeToLoadFrag(L,f,y*A,void 0===m);if(f>=y&&(G===u||0===a.loadError&&0===a.fragmentError)&&(k<=L||!S(k)||w&&!h.bitrateTestDelay||k<l)){var E=h.forcedAutoLevel;return G===g||-1!==E&&E===g||(z.length&&h.trace("Skipped level(s) "+z.join(",")+" of "+e+' max with CODECS and VIDEO-RANGE:"'+p[z[0]].codecs+'" '+p[z[0]].videoRange+'; not compatible with "'+b+'" '+j),h.info("switch candidate:"+d+"->"+G+" adjustedbw("+Math.round(f)+")-bitrate="+Math.round(f-y)+" ttfb:"+L.toFixed(1)+" avgDuration:"+A.toFixed(1)+" maxFetchDuration:"+l.toFixed(1)+" fetchDuration:"+k.toFixed(1)+" firstSelection:"+_+" codecSet:"+a.codecSet+" videoRange:"+a.videoRange+" hls.loadLevel:"+g)),_&&(h.firstSelection=G),{v:G}}},G=e;G>=i;G--)if(0!==(P=F())&&P)return P.v;return-1},e.deriveNextAutoLevel=function(t){var i=this.hls,e=i.maxAutoLevel,s=i.minAutoLevel;return Math.min(Math.max(t,s),e)},n(i,[{key:"firstAutoLevel",get:function(){var t=this.hls,i=t.maxAutoLevel,e=t.minAutoLevel,s=this.getBwEstimate(),n=this.hls.config.maxStarvationDelay,o=this.findBestLevel(s,e,i,0,n,1,1);if(o>-1)return o;var r=this.hls.firstLevel,a=Math.min(Math.max(r,e),i);return this.warn("Could not find best starting auto level. Defaulting to first in playlist "+r+" clamped to "+a),a}},{key:"forcedAutoLevel",get:function(){return this.nextAutoLevelKey?-1:this.O}},{key:"nextAutoLevel",get:function(){var t=this.forcedAutoLevel,i=this.bwEstimator.canEstimate(),e=this.lastLoadedFragLevel>-1;if(!(-1===t||i&&e&&this.nextAutoLevelKey!==this.getAutoLevelKey()))return t;var s=i&&e?this.getNextABRAutoLevel():this.firstAutoLevel;if(-1!==t){var n=this.hls.levels;if(n.length>Math.max(t,s)&&n[t].loadError<=n[s].loadError)return t}return this.O=s,this.nextAutoLevelKey=this.getAutoLevelKey(),s},set:function(t){var i=this.deriveNextAutoLevel(t);this.O!==i&&(this.nextAutoLevelKey="",this.O=i)}}])}(P),ki=function(){function t(t){this.tracks=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.tracks=t}var i=t.prototype;return i.destroy=function(){this.tracks=this.queues=null},i.append=function(t,i,e){if(null!==this.queues&&null!==this.tracks){var s=this.queues[i];s.push(t),1!==s.length||e||this.executeNext(i)}},i.appendBlocker=function(t){var i=this;return new Promise((function(e){var s={label:"async-blocker",execute:e,onStart:function(){},onComplete:function(){},onError:function(){}};i.append(s,t)}))},i.prependBlocker=function(t){var i=this;return new Promise((function(e){if(i.queues){var s={label:"async-blocker-prepend",execute:e,onStart:function(){},onComplete:function(){},onError:function(){}};i.queues[t].unshift(s)}}))},i.removeBlockers=function(){null!==this.queues&&[this.queues.video,this.queues.audio,this.queues.audiovideo].forEach((function(t){var i,e=null==(i=t[0])?void 0:i.label;"async-blocker"!==e&&"async-blocker-prepend"!==e||(t[0].execute(),t.splice(0,1))}))},i.unblockAudio=function(t){null!==this.queues&&this.queues.audio[0]===t&&this.shiftAndExecuteNext("audio")},i.executeNext=function(t){if(null!==this.queues&&null!==this.tracks){var i=this.queues[t];if(i.length){var e=i[0];try{e.execute()}catch(i){var s;if(e.onError(i),null===this.queues||null===this.tracks)return;var n=null==(s=this.tracks[t])?void 0:s.buffer;null!=n&&n.updating||this.shiftAndExecuteNext(t)}}}},i.shiftAndExecuteNext=function(t){null!==this.queues&&(this.queues[t].shift(),this.executeNext(t))},i.current=function(t){var i;return(null==(i=this.queues)?void 0:i[t][0])||null},i.toString=function(){var t=this.queues,i=this.tracks;return null===t||null===i?"<destroyed>":"\n"+this.list("video")+"\n"+this.list("audio")+"\n"+this.list("audiovideo")+"}"},i.list=function(t){var i,e;return null!=(i=this.queues)&&i[t]||null!=(e=this.tracks)&&e[t]?t+": ("+this.listSbInfo(t)+") "+this.listOps(t):""},i.listSbInfo=function(t){var i,e=null==(i=this.tracks)?void 0:i[t],s=null==e?void 0:e.buffer;return s?"SourceBuffer"+(s.updating?" updating":"")+(e.ended?" ended":"")+(e.ending?" ending":""):"none"},i.listOps=function(t){var i;return(null==(i=this.queues)?void 0:i[t].map((function(t){return t.label})).join(", "))||""},t}(),Ei={search:function(t,i){for(var e=0,s=t.length-1,n=null,o=null;e<=s;){var r=i(o=t[n=(e+s)/2|0]);if(r>0)e=n+1;else{if(!(r<0))return o;s=n-1}}return null}};function Si(t,i,e){if(null===i||!Array.isArray(t)||!t.length||!S(i))return null;if(i<(t[0].programDateTime||0))return null;if(i>=(t[t.length-1].endProgramDateTime||0))return null;e=e||0;for(var s=0;s<t.length;++s){var n=t[s];if(Mi(i,e,n))return n}return null}function Ti(t,i,e,s,n){void 0===e&&(e=0),void 0===s&&(s=0),void 0===n&&(n=.005);var o=null;if(t){o=i[1+t.sn-i[0].sn]||null;var r=t.endDTS-e;r>0&&r<15e-7&&(e+=15e-7),o&&t.level!==o.level&&o.end<=t.end&&(o=i[2+t.sn-i[0].sn]||null)}else 0===e&&0===i[0].start&&(o=i[0]);if(o&&((!t||t.level===o.level)&&0===Ii(e,s,o)||Ci(o,t,Math.min(n,s))))return o;var a=Ei.search(i,Ii.bind(null,e,s));return!a||a===t&&o?o:a}function Ci(t,i,e){if(i&&0===i.start&&i.level<t.level&&(i.endPTS||0)>0){var s=i.tagList.reduce((function(t,i){return"INF"===i[0]&&(t+=parseFloat(i[1])),t}),e);return t.start<=s}return!1}function Ii(t,i,e){if(void 0===t&&(t=0),void 0===i&&(i=0),e.start<=t&&e.start+e.duration>t)return 0;var s=Math.min(i,e.duration+(e.deltaPTS?e.deltaPTS:0));return e.start+e.duration-s<=t?1:e.start-s>t&&e.start?-1:0}function Mi(t,i,e){var s=1e3*Math.min(i,e.duration+(e.deltaPTS?e.deltaPTS:0));return(e.endProgramDateTime||0)-s>t}function Di(t,i){return Ei.search(t,(function(t){return t.cc<i?1:t.cc>i?-1:0}))}function Bi(t){switch(t.details){case M.FRAG_LOAD_TIMEOUT:case M.KEY_LOAD_TIMEOUT:case M.LEVEL_LOAD_TIMEOUT:case M.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function Ni(t,i){var e=Bi(i);return t.default[(e?"timeout":"error")+"Retry"]}function Ri(t,i){var e="linear"===t.backoff?1:Math.pow(2,i);return Math.min(e*t.retryDelayMs,t.maxRetryDelayMs)}function Ui(t){return c(c({},t),{errorRetry:null,timeoutRetry:null})}function Pi(t,i,e,s){if(!t)return!1;var n=null==s?void 0:s.code,o=i<t.maxNumRetry&&(Oi(n)||!!e);return t.shouldRetry?t.shouldRetry(t,i,e,s,o):o}function Oi(t){return 0===t&&!1===navigator.onLine||!!t&&(t<400||t>499)}var Li={DoNothing:0,SendAlternateToPenaltyBox:2,RemoveAlternatePermanently:3,RetryRequest:5},zi={None:0,MoveAllAlternatesMatchingHost:1,MoveAllAlternatesMatchingHDCP:2},Fi=function(t){function i(i){var e;return(e=t.call(this,"error-controller",i.logger)||this).hls=void 0,e.playlistError=0,e.penalizedRenditions={},e.hls=i,e.registerListeners(),e}h(i,t);var e=i.prototype;return e.registerListeners=function(){var t=this.hls;t.on(D.ERROR,this.onError,this),t.on(D.MANIFEST_LOADING,this.onManifestLoading,this),t.on(D.LEVEL_UPDATED,this.onLevelUpdated,this)},e.unregisterListeners=function(){var t=this.hls;t&&(t.off(D.ERROR,this.onError,this),t.off(D.ERROR,this.onErrorOut,this),t.off(D.MANIFEST_LOADING,this.onManifestLoading,this),t.off(D.LEVEL_UPDATED,this.onLevelUpdated,this))},e.destroy=function(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}},e.startLoad=function(t){},e.stopLoad=function(){this.playlistError=0},e.getVariantLevelIndex=function(t){return(null==t?void 0:t.type)===N.MAIN?t.level:this.hls.loadLevel},e.onManifestLoading=function(){this.playlistError=0,this.penalizedRenditions={}},e.onLevelUpdated=function(){this.playlistError=0},e.onError=function(t,i){var e;if(!i.fatal){var s=this.hls,n=i.context;switch(i.details){case M.FRAG_LOAD_ERROR:case M.FRAG_LOAD_TIMEOUT:case M.KEY_LOAD_ERROR:case M.KEY_LOAD_TIMEOUT:return void(i.errorAction=this.getFragRetryOrSwitchAction(i));case M.FRAG_PARSING_ERROR:if(null!=(e=i.frag)&&e.gap)return void(i.errorAction=Gi());case M.FRAG_GAP:case M.FRAG_DECRYPT_ERROR:return i.errorAction=this.getFragRetryOrSwitchAction(i),void(i.errorAction.action=Li.SendAlternateToPenaltyBox);case M.LEVEL_EMPTY_ERROR:case M.LEVEL_PARSING_ERROR:var o,r,a=i.parent===N.MAIN?i.level:s.loadLevel;return void(i.details===M.LEVEL_EMPTY_ERROR&&null!=(o=i.context)&&null!=(r=o.levelDetails)&&r.live?i.errorAction=this.getPlaylistRetryOrSwitchAction(i,a):(i.levelRetry=!1,i.errorAction=this.getLevelSwitchAction(i,a)));case M.LEVEL_LOAD_ERROR:case M.LEVEL_LOAD_TIMEOUT:return void("number"==typeof(null==n?void 0:n.level)&&(i.errorAction=this.getPlaylistRetryOrSwitchAction(i,n.level)));case M.AUDIO_TRACK_LOAD_ERROR:case M.AUDIO_TRACK_LOAD_TIMEOUT:case M.SUBTITLE_LOAD_ERROR:case M.SUBTITLE_TRACK_LOAD_TIMEOUT:if(n){var h=s.loadLevelObj;if(h&&(n.type===B.AUDIO_TRACK&&h.hasAudioGroup(n.groupId)||n.type===B.SUBTITLE_TRACK&&h.hasSubtitleGroup(n.groupId)))return i.errorAction=this.getPlaylistRetryOrSwitchAction(i,s.loadLevel),i.errorAction.action=Li.SendAlternateToPenaltyBox,void(i.errorAction.flags=zi.MoveAllAlternatesMatchingHost)}return;case M.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:var l=s.loadLevelObj,u=null==l?void 0:l.attrs["HDCP-LEVEL"];return void(u?i.errorAction={action:Li.SendAlternateToPenaltyBox,flags:zi.MoveAllAlternatesMatchingHDCP,hdcpLevel:u}:this.keySystemError(i));case M.BUFFER_ADD_CODEC_ERROR:case M.REMUX_ALLOC_ERROR:case M.BUFFER_APPEND_ERROR:var d;return void(i.errorAction||(i.errorAction=this.getLevelSwitchAction(i,null!=(d=i.level)?d:s.loadLevel)));case M.INTERNAL_EXCEPTION:case M.BUFFER_APPENDING_ERROR:case M.BUFFER_FULL_ERROR:case M.LEVEL_SWITCH_ERROR:case M.BUFFER_STALLED_ERROR:case M.BUFFER_SEEK_OVER_HOLE:case M.BUFFER_NUDGE_ON_STALL:return void(i.errorAction=Gi())}i.type===I.KEY_SYSTEM_ERROR&&this.keySystemError(i)}},e.keySystemError=function(t){var i=this.getVariantLevelIndex(t.frag);t.levelRetry=!1,t.errorAction=this.getLevelSwitchAction(t,i)},e.getPlaylistRetryOrSwitchAction=function(t,i){var e=Ni(this.hls.config.playlistLoadPolicy,t),s=this.playlistError++;if(Pi(e,s,Bi(t),t.response))return{action:Li.RetryRequest,flags:zi.None,retryConfig:e,retryCount:s};var n=this.getLevelSwitchAction(t,i);return e&&(n.retryConfig=e,n.retryCount=s),n},e.getFragRetryOrSwitchAction=function(t){var i=this.hls,e=this.getVariantLevelIndex(t.frag),s=i.levels[e],n=i.config,o=n.fragLoadPolicy,r=n.keyLoadPolicy,a=Ni(t.details.startsWith("key")?r:o,t),h=i.levels.reduce((function(t,i){return t+i.fragmentError}),0);if(s&&(t.details!==M.FRAG_GAP&&s.fragmentError++,Pi(a,h,Bi(t),t.response)))return{action:Li.RetryRequest,flags:zi.None,retryConfig:a,retryCount:h};var l=this.getLevelSwitchAction(t,e);return a&&(l.retryConfig=a,l.retryCount=h),l},e.getLevelSwitchAction=function(t,i){var e=this.hls;null==i&&(i=e.loadLevel);var s=this.hls.levels[i];if(s){var n,o,r=t.details;s.loadError++,r===M.BUFFER_APPEND_ERROR&&s.fragmentError++;var a=-1,h=e.levels,l=e.loadLevel,u=e.minAutoLevel,d=e.maxAutoLevel;e.autoLevelEnabled||(e.loadLevel=-1);for(var c,v=null==(n=t.frag)?void 0:n.type,f=(v===N.AUDIO&&r===M.FRAG_PARSING_ERROR||"audio"===t.sourceBufferName&&(r===M.BUFFER_ADD_CODEC_ERROR||r===M.BUFFER_APPEND_ERROR))&&h.some((function(t){var i=t.audioCodec;return s.audioCodec!==i})),p="video"===t.sourceBufferName&&(r===M.BUFFER_ADD_CODEC_ERROR||r===M.BUFFER_APPEND_ERROR)&&h.some((function(t){var i=t.codecSet,e=t.audioCodec;return s.codecSet!==i&&s.audioCodec===e})),m=null!=(o=t.context)?o:{},g=m.type,A=m.groupId,b=function(){var i=(y+l)%h.length;if(i!==l&&i>=u&&i<=d&&0===h[i].loadError){var e,n,o=h[i];if(r===M.FRAG_GAP&&v===N.MAIN&&t.frag){var c=h[i].details;if(c){var m=Ti(t.frag,c.fragments,t.frag.start);if(null!=m&&m.gap)return 0}}else{if(g===B.AUDIO_TRACK&&o.hasAudioGroup(A)||g===B.SUBTITLE_TRACK&&o.hasSubtitleGroup(A))return 0;if(v===N.AUDIO&&null!=(e=s.audioGroups)&&e.some((function(t){return o.hasAudioGroup(t)}))||v===N.SUBTITLE&&null!=(n=s.subtitleGroups)&&n.some((function(t){return o.hasSubtitleGroup(t)}))||f&&s.audioCodec===o.audioCodec||!f&&s.audioCodec!==o.audioCodec||p&&s.codecSet===o.codecSet)return 0}return a=i,1}},y=h.length;y--&&(0===(c=b())||1!==c););if(a>-1&&e.loadLevel!==a)return t.levelRetry=!0,this.playlistError=0,{action:Li.SendAlternateToPenaltyBox,flags:zi.None,nextAutoLevel:a}}return{action:Li.SendAlternateToPenaltyBox,flags:zi.MoveAllAlternatesMatchingHost}},e.onErrorOut=function(t,i){var e;switch(null==(e=i.errorAction)?void 0:e.action){case Li.DoNothing:break;case Li.SendAlternateToPenaltyBox:this.sendAlternateToPenaltyBox(i),i.errorAction.resolved||i.details===M.FRAG_GAP?/MediaSource readyState: ended/.test(i.error.message)&&(this.warn('MediaSource ended after "'+i.sourceBufferName+'" sourceBuffer append error. Attempting to recover from media error.'),this.hls.recoverMediaError()):i.fatal=!0}i.fatal&&this.hls.stopLoad()},e.sendAlternateToPenaltyBox=function(t){var i=this.hls,e=t.errorAction;if(e){var s=e.flags,n=e.hdcpLevel,o=e.nextAutoLevel;switch(s){case zi.None:this.switchLevel(t,o);break;case zi.MoveAllAlternatesMatchingHDCP:n&&(i.maxHdcpLevel=ri[ri.indexOf(n)-1],e.resolved=!0),this.warn('Restricting playback to HDCP-LEVEL of "'+i.maxHdcpLevel+'" or lower')}e.resolved||this.switchLevel(t,o)}},e.switchLevel=function(t,i){if(void 0!==i&&t.errorAction&&(this.warn("switching to level "+i+" after "+t.details),this.hls.nextAutoLevel=i,t.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel,t.details===M.BUFFER_ADD_CODEC_ERROR&&t.mimeType&&"audiovideo"!==t.sourceBufferName))for(var e=oi(t.mimeType),s=this.hls.levels,n=s.length;n--;)s[n][t.sourceBufferName+"Codec"]===e&&this.hls.removeLevel(n)},i}(P);function Gi(t){var i={action:Li.DoNothing,flags:zi.None};return t&&(i.resolved=!0),i}var Hi={length:0,start:function(){return 0},end:function(){return 0}},Vi=function(){function t(){}return t.isBuffered=function(i,e){if(i)for(var s=t.getBuffered(i),n=s.length;n--;)if(e>=s.start(n)&&e<=s.end(n))return!0;return!1},t.bufferedRanges=function(i){if(i){var e=t.getBuffered(i);return t.timeRangesToArray(e)}return[]},t.timeRangesToArray=function(t){for(var i=[],e=0;e<t.length;e++)i.push({start:t.start(e),end:t.end(e)});return i},t.bufferInfo=function(i,e,s){if(i){var n=t.bufferedRanges(i);if(n.length)return t.bufferedInfo(n,e,s)}return{len:0,start:e,end:e,bufferedIndex:-1}},t.bufferedInfo=function(t,i,e){i=Math.max(0,i),t.length>1&&t.sort((function(t,i){return t.start-i.start||i.end-t.end}));var s=-1,n=[];if(e)for(var o=0;o<t.length;o++){i>=t[o].start&&i<=t[o].end&&(s=o);var r=n.length;if(r){var a=n[r-1].end;t[o].start-a<e?t[o].end>a&&(n[r-1].end=t[o].end):n.push(t[o])}else n.push(t[o])}else n=t;for(var h,l=0,u=i,d=i,c=0;c<n.length;c++){var v=n[c].start,f=n[c].end;if(-1===s&&i>=v&&i<=f&&(s=c),i+e>=v&&i<f)u=v,l=(d=f)-i;else if(i+e<v){h=v;break}}return{len:l,start:u||0,end:d||0,nextStart:h,buffered:t,bufferedIndex:s}},t.getBuffered=function(t){try{return t.buffered||Hi}catch(t){return J.log("failed to get media.buffered",t),Hi}},t}(),Yi=/(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/,Qi="HlsJsTrackRemovedError",Ji=function(t){function i(i){var e;return(e=t.call(this,i)||this).name=Qi,e}return h(i,t),i}(m(Error)),Wi=function(t){function i(i,e){var s;return(s=t.call(this,"buffer-controller",i.logger)||this).hls=void 0,s.fragmentTracker=void 0,s.details=null,s.F=null,s.operationQueue=null,s.bufferCodecEventsTotal=0,s.media=null,s.mediaSource=null,s.lastMpegAudioChunk=null,s.blockedAudioAppend=null,s.lastVideoAppendEnd=0,s.appendSource=void 0,s.transferData=void 0,s.overrides=void 0,s.appendErrors={audio:0,video:0,audiovideo:0},s.tracks={},s.sourceBuffers=[[null,null],[null,null]],s.G=function(t){var i;s.hls&&"open"===(null==(i=s.mediaSource)?void 0:i.readyState)&&s.hls.pauseBuffering()},s.H=function(t){s.hls&&s.hls.resumeBuffering()},s.V=function(t){var i=s,e=i.media,n=i.mediaSource;t&&s.log("Media source opened"),e&&n&&(n.removeEventListener("sourceopen",s.V),e.removeEventListener("emptied",s.Y),s.updateDuration(),s.hls.trigger(D.MEDIA_ATTACHED,{media:e,mediaSource:n}),null!==s.mediaSource&&s.checkPendingTracks())},s.J=function(){s.log("Media source closed")},s.W=function(){s.log("Media source ended")},s.Y=function(){var t=s,i=t.mediaSrc,e=t.F;i!==e&&s.error("Media element src was set while attaching MediaSource ("+e+" > "+i+")")},s.hls=i,s.fragmentTracker=e,s.appendSource=zt(Lt(i.config.preferManagedMediaSource)),s.initTracks(),s.registerListeners(),s}h(i,t);var e=i.prototype;return e.hasSourceTypes=function(){return Object.keys(this.tracks).length>0},e.destroy=function(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.transferData=this.overrides=void 0,this.operationQueue&&(this.operationQueue.destroy(),this.operationQueue=null),this.hls=this.fragmentTracker=null,this.V=this.J=null,this.W=null,this.H=this.G=null},e.registerListeners=function(){var t=this.hls;t.on(D.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(D.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(D.MANIFEST_LOADING,this.onManifestLoading,this),t.on(D.MANIFEST_PARSED,this.onManifestParsed,this),t.on(D.BUFFER_RESET,this.onBufferReset,this),t.on(D.BUFFER_APPENDING,this.onBufferAppending,this),t.on(D.BUFFER_CODECS,this.onBufferCodecs,this),t.on(D.BUFFER_EOS,this.onBufferEos,this),t.on(D.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(D.LEVEL_UPDATED,this.onLevelUpdated,this),t.on(D.FRAG_PARSED,this.onFragParsed,this),t.on(D.FRAG_CHANGED,this.onFragChanged,this),t.on(D.ERROR,this.onError,this)},e.unregisterListeners=function(){var t=this.hls;t.off(D.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(D.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(D.MANIFEST_LOADING,this.onManifestLoading,this),t.off(D.MANIFEST_PARSED,this.onManifestParsed,this),t.off(D.BUFFER_RESET,this.onBufferReset,this),t.off(D.BUFFER_APPENDING,this.onBufferAppending,this),t.off(D.BUFFER_CODECS,this.onBufferCodecs,this),t.off(D.BUFFER_EOS,this.onBufferEos,this),t.off(D.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(D.LEVEL_UPDATED,this.onLevelUpdated,this),t.off(D.FRAG_PARSED,this.onFragParsed,this),t.off(D.FRAG_CHANGED,this.onFragChanged,this),t.off(D.ERROR,this.onError,this)},e.transferMedia=function(){var t=this,i=this.media,e=this.mediaSource;if(!i)return null;var s={};if(this.operationQueue){var n=this.isUpdating();n||this.operationQueue.removeBlockers();var o=this.isQueued();(n||o)&&this.warn("Transfering MediaSource with"+(o?" operations in queue":"")+(n?" updating SourceBuffer(s)":"")+" "+this.operationQueue),this.operationQueue.destroy()}var a=this.transferData;return!this.sourceBufferCount&&a&&a.mediaSource===e?r(s,a.tracks):this.sourceBuffers.forEach((function(i){var e=i[0];e&&(s[e]=r({},t.tracks[e]),t.removeBuffer(e)),i[0]=i[1]=null})),{media:i,mediaSource:e,tracks:s}},e.initTracks=function(){var t={};this.sourceBuffers=[[null,null],[null,null]],this.tracks=t,this.resetQueue(),this.resetAppendErrors(),this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.lastVideoAppendEnd=0},e.onManifestLoading=function(){this.bufferCodecEventsTotal=0,this.details=null},e.onManifestParsed=function(t,i){var e,s=2;(i.audio&&!i.video||!i.altAudio)&&(s=1),this.bufferCodecEventsTotal=s,this.log(s+" bufferCodec event(s) expected."),null!=(e=this.transferData)&&e.mediaSource&&this.sourceBufferCount&&s&&this.bufferCreated()},e.onMediaAttaching=function(t,i){var e=this.media=i.media,s=Lt(this.appendSource);if(this.transferData=this.overrides=void 0,e&&s){var n=!!i.mediaSource;(n||i.overrides)&&(this.transferData=i,this.overrides=i.overrides);var o=this.mediaSource=i.mediaSource||new s;if(this.assignMediaSource(o),n)this.F=e.src,this.attachTransferred();else{var r=this.F=self.URL.createObjectURL(o);if(this.appendSource)try{e.removeAttribute("src");var a=self.ManagedMediaSource;e.disableRemotePlayback=e.disableRemotePlayback||a&&o instanceof a,Zi(e),qi(e,r),e.load()}catch(t){e.src=r}else e.src=r}e.addEventListener("emptied",this.Y)}},e.assignMediaSource=function(t){var i,e;this.log(((null==(i=this.transferData)?void 0:i.mediaSource)===t?"transferred":"created")+" media source: "+(null==(e=t.constructor)?void 0:e.name)),t.addEventListener("sourceopen",this.V),t.addEventListener("sourceended",this.W),t.addEventListener("sourceclose",this.J),this.appendSource&&(t.addEventListener("startstreaming",this.H),t.addEventListener("endstreaming",this.G))},e.attachTransferred=function(){var t=this,i=this.media,e=this.transferData;if(e&&i){var s=this.tracks,n=e.tracks,o=n?Object.keys(n):null,r=o?o.length:0,a=function(){t.media&&t.mediaSourceOpenOrEnded&&t.V()};if(n&&o&&r){if(!this.tracksReady)return this.hls.config.startFragPrefetch=!0,void this.log("attachTransferred: waiting for SourceBuffer track info");if(this.log("attachTransferred: (bufferCodecEventsTotal "+this.bufferCodecEventsTotal+")\nrequired tracks: "+Ai(s,(function(t,i){return"initSegment"===t?void 0:i}))+";\ntransfer tracks: "+Ai(n,(function(t,i){return"initSegment"===t?void 0:i}))+"}"),!Ft(n,s)){e.mediaSource=null,e.tracks=void 0;var h=i.currentTime,l=this.details,u=Math.max(h,(null==l?void 0:l.fragments[0].start)||0);return u-h>1?void this.log("attachTransferred: waiting for playback to reach new tracks start time "+h+" -> "+u):(this.warn('attachTransferred: resetting MediaSource for incompatible tracks ("'+Object.keys(n)+'"->"'+Object.keys(s)+'") start time: '+u+" currentTime: "+h),this.onMediaDetaching(D.MEDIA_DETACHING,{}),this.onMediaAttaching(D.MEDIA_ATTACHING,e),void(i.currentTime=u))}this.transferData=void 0,o.forEach((function(i){var e=i,s=n[e];if(s){var o=s.buffer;if(o){var r=t.fragmentTracker,a=s.id;if(r.hasFragments(a)||r.hasParts(a)){var h=Vi.getBuffered(o);r.detectEvictedFragments(e,h,a,null,!0)}var l=Xi(e),u=[e,o];t.sourceBuffers[l]=u,o.updating&&t.operationQueue&&t.operationQueue.prependBlocker(e),t.trackSourceBuffer(e,s)}}})),a(),this.bufferCreated()}else this.log("attachTransferred: MediaSource w/o SourceBuffers"),a()}},e.onMediaDetaching=function(t,i){var e=this,s=!!i.transferMedia;this.transferData=this.overrides=void 0;var n=this.media,o=this.mediaSource,r=this.F;if(o){if(this.log("media source "+(s?"transferring":"detaching")),s)this.sourceBuffers.forEach((function(t){var i=t[0];i&&e.removeBuffer(i)})),this.resetQueue();else{if(this.mediaSourceOpenOrEnded){var a="open"===o.readyState;try{for(var h=o.sourceBuffers,l=h.length;l--;)a&&h[l].abort(),o.removeSourceBuffer(h[l]);a&&o.endOfStream()}catch(t){this.warn("onMediaDetaching: "+t.message+" while calling endOfStream")}}this.sourceBufferCount&&this.onBufferReset()}o.removeEventListener("sourceopen",this.V),o.removeEventListener("sourceended",this.W),o.removeEventListener("sourceclose",this.J),this.appendSource&&(o.removeEventListener("startstreaming",this.H),o.removeEventListener("endstreaming",this.G)),this.mediaSource=null,this.F=null}n&&(n.removeEventListener("emptied",this.Y),s||(r&&self.URL.revokeObjectURL(r),this.mediaSrc===r?(n.removeAttribute("src"),this.appendSource&&Zi(n),n.load()):this.warn("media|source.src was changed by a third party - skip cleanup")),this.media=null),this.hls.trigger(D.MEDIA_DETACHED,i)},e.onBufferReset=function(){var t=this;this.sourceBuffers.forEach((function(i){var e=i[0];e&&t.resetBuffer(e)})),this.initTracks()},e.resetBuffer=function(t){var i,e=null==(i=this.tracks[t])?void 0:i.buffer;if(this.removeBuffer(t),e)try{var s;null!=(s=this.mediaSource)&&s.sourceBuffers.length&&this.mediaSource.removeSourceBuffer(e)}catch(i){this.warn("onBufferReset "+t,i)}delete this.tracks[t]},e.removeBuffer=function(t){this.removeBufferListeners(t),this.sourceBuffers[Xi(t)]=[null,null];var i=this.tracks[t];i&&(i.buffer=void 0)},e.resetQueue=function(){this.operationQueue&&this.operationQueue.destroy(),this.operationQueue=new ki(this.tracks)},e.onBufferCodecs=function(t,i){var e=this,s=this.tracks,n=Object.keys(i);this.log('BUFFER_CODECS: "'+n+'" (current SB count '+this.sourceBufferCount+")");var o="audiovideo"in i&&(s.audio||s.video)||s.audiovideo&&("audio"in i||"video"in i),r=!o&&this.sourceBufferCount&&this.media&&n.some((function(t){return!s[t]}));o||r?this.warn('Unsupported transition between "'+Object.keys(s)+'" and "'+n+'" SourceBuffers'):(n.forEach((function(t){var n,o,r,a=i[t],h=a.id,l=a.codec,u=a.levelCodec,d=a.container,c=a.metadata,v=a.supplemental,f=s[t],p=null==(n=e.transferData)||null==(o=n.tracks)?void 0:o[t],m=null!=p&&p.buffer?p:f,g=(null==m?void 0:m.pendingCodec)||(null==m?void 0:m.codec),A=null==m?void 0:m.levelCodec;f||(f=s[t]={buffer:void 0,listeners:[],codec:l,supplemental:v,container:d,levelCodec:u,metadata:c,id:h});var b=ii(g,A),y=null==b?void 0:b.replace(Yi,"$1"),w=ii(l,u),_=null==(r=w)?void 0:r.replace(Yi,"$1");w&&b&&y!==_&&("audio"===t.slice(0,5)&&(w=$t(w,e.appendSource)),e.log("switching codec "+g+" to "+w),w!==(f.pendingCodec||f.codec)&&(f.pendingCodec=w),f.container=d,e.appendChangeType(t,d,w))})),(this.tracksReady||this.sourceBufferCount)&&(i.tracks=this.sourceBufferTracks),this.sourceBufferCount||this.mediaSourceOpenOrEnded&&this.checkPendingTracks())},e.appendChangeType=function(t,i,e){var s=this,n=i+";codecs="+e,o={label:"change-type="+n,execute:function(){var o=s.tracks[t];if(o){var r=o.buffer;null!=r&&r.changeType&&(s.log("changing "+t+" sourceBuffer type to "+n),r.changeType(n),o.codec=e,o.container=i)}s.shiftAndExecuteNext(t)},onStart:function(){},onComplete:function(){},onError:function(i){s.warn("Failed to change "+t+" SourceBuffer type",i)}};this.append(o,t,this.isPending(this.tracks[t]))},e.blockAudio=function(t){var i,e=this,s=t.start,n=s+.05*t.duration;if(!0!==(null==(i=this.fragmentTracker.getAppendedFrag(s,N.MAIN))?void 0:i.gap)){var o={label:"block-audio",execute:function(){var t,i=e.tracks.video;(e.lastVideoAppendEnd>n||null!=i&&i.buffer&&Vi.isBuffered(i.buffer,n)||!0===(null==(t=e.fragmentTracker.getAppendedFrag(n,N.MAIN))?void 0:t.gap))&&(e.blockedAudioAppend=null,e.shiftAndExecuteNext("audio"))},onStart:function(){},onComplete:function(){},onError:function(t){e.warn("Error executing block-audio operation",t)}};this.blockedAudioAppend={op:o,frag:t},this.append(o,"audio",!0)}},e.unblockAudio=function(){var t=this.blockedAudioAppend,i=this.operationQueue;t&&i&&(this.blockedAudioAppend=null,i.unblockAudio(t.op))},e.onBufferAppending=function(t,i){var e=this,s=this.tracks,n=i.data,o=i.type,r=i.parent,a=i.frag,h=i.part,l=i.chunkMeta,u=l.buffering[o],d=a.sn,c=self.performance.now();u.start=c;var v=a.stats.buffering,f=h?h.stats.buffering:null;0===v.start&&(v.start=c),f&&0===f.start&&(f.start=c);var p=s.audio,m=!1;"audio"===o&&"audio/mpeg"===(null==p?void 0:p.container)&&(m=!this.lastMpegAudioChunk||1===l.id||this.lastMpegAudioChunk.sn!==l.sn,this.lastMpegAudioChunk=l);var g=this.tracks.video,A=null==g?void 0:g.buffer;if(A&&"initSegment"!==d){var b=h||a,y=this.blockedAudioAppend;if("audio"!==o||"main"===r||this.blockedAudioAppend){if("video"===o){var w=b.end;if(y){var _=y.frag.start;(w>_||w<this.lastVideoAppendEnd||Vi.isBuffered(A,_))&&this.unblockAudio()}this.lastVideoAppendEnd=w}}else{var j=b.start+.05*b.duration,x=A.buffered,k=this.currentOp("video");x.length||k?!k&&!Vi.isBuffered(A,j)&&this.lastVideoAppendEnd<j&&this.blockAudio(b):this.blockAudio(b)}}var E=(h||a).start,S={label:"append-"+o,execute:function(){if(u.executeStart=self.performance.now(),m){var t=e.tracks[o];if(t){var i=t.buffer;if(i){var s=E-i.timestampOffset;Math.abs(s)>=.1&&(e.log("Updating audio SourceBuffer timestampOffset to "+E+" (delta: "+s+") sn: "+d+")"),i.timestampOffset=E)}}}e.appendExecutor(n,o)},onStart:function(){},onComplete:function(){var t=self.performance.now();u.executeEnd=u.end=t,0===v.first&&(v.first=t),f&&0===f.first&&(f.first=t);var i={};e.sourceBuffers.forEach((function(t){var e=t[0],s=t[1];e&&(i[e]=Vi.getBuffered(s))})),e.appendErrors[o]=0,"audio"===o||"video"===o?e.appendErrors.audiovideo=0:(e.appendErrors.audio=0,e.appendErrors.video=0),e.hls.trigger(D.BUFFER_APPENDED,{type:o,frag:a,part:h,chunkMeta:l,parent:a.type,timeRanges:i})},onError:function(t){var i,s={type:I.MEDIA_ERROR,parent:a.type,details:M.BUFFER_APPEND_ERROR,sourceBufferName:o,frag:a,part:h,chunkMeta:l,error:t,err:t,fatal:!1},n=null==(i=e.media)?void 0:i.error;if(t.code===DOMException.QUOTA_EXCEEDED_ERR)s.details=M.BUFFER_FULL_ERROR;else if(t.code===DOMException.INVALID_STATE_ERR&&e.mediaSourceOpenOrEnded&&!n)s.errorAction=Gi(!0);else if(t.name===Qi&&0===e.sourceBufferCount)s.errorAction=Gi(!0);else{var r=++e.appendErrors[o];e.warn("Failed "+r+"/"+e.hls.config.appendErrorMaxRetry+' times to append segment in "'+o+'" sourceBuffer ('+(n||"no media error")+")"),(r>=e.hls.config.appendErrorMaxRetry||n)&&(s.fatal=!0)}e.hls.trigger(D.ERROR,s)}};this.append(S,o,this.isPending(this.tracks[o]))},e.getFlushOp=function(t,i,e){var s=this;return this.log('queuing "'+t+'" remove '+i+"-"+e),{label:"remove",execute:function(){s.removeExecutor(t,i,e)},onStart:function(){},onComplete:function(){s.hls.trigger(D.BUFFER_FLUSHED,{type:t})},onError:function(n){s.warn("Failed to remove "+i+"-"+e+' from "'+t+'" SourceBuffer',n)}}},e.onBufferFlushing=function(t,i){var e=this,s=i.type,n=i.startOffset,o=i.endOffset;s?this.append(this.getFlushOp(s,n,o),s):this.sourceBuffers.forEach((function(t){var i=t[0];i&&e.append(e.getFlushOp(i,n,o),i)}))},e.onFragParsed=function(t,i){var e=this,s=i.frag,n=i.part,o=[],r=n?n.elementaryStreams:s.elementaryStreams;r[tt.AUDIOVIDEO]?o.push("audiovideo"):(r[tt.AUDIO]&&o.push("audio"),r[tt.VIDEO]&&o.push("video"));var a=function(){var t=self.performance.now();s.stats.buffering.end=t,n&&(n.stats.buffering.end=t);var i=n?n.stats:s.stats;e.hls.trigger(D.FRAG_BUFFERED,{frag:s,part:n,stats:i,id:s.type})};0===o.length&&this.warn("Fragments must have at least one ElementaryStreamType set. type: "+s.type+" level: "+s.level+" sn: "+s.sn),this.blockBuffers(a,o).catch((function(t){e.warn("Fragment buffered callback "+t),e.stepOperationQueue(e.sourceBufferTypes)}))},e.onFragChanged=function(t,i){this.trimBuffers()},e.onBufferEos=function(t,i){var e,s=this;this.sourceBuffers.forEach((function(t){var e=t[0];if(e){var n=s.tracks[e];i.type&&i.type!==e||(n.ending=!0,n.ended||(n.ended=!0,s.log(e+" buffer reached EOS")))}}));var n=!1!==(null==(e=this.overrides)?void 0:e.endOfStream);this.sourceBufferCount>0&&!this.sourceBuffers.some((function(t){var i,e=t[0];return e&&!(null!=(i=s.tracks[e])&&i.ended)}))&&(n?(this.log("Queueing EOS"),this.blockUntilOpen((function(){s.tracksEnded();var t=s.mediaSource;t&&"open"===t.readyState?(s.log("Calling mediaSource.endOfStream()"),t.endOfStream(),s.hls.trigger(D.BUFFERED_TO_END,void 0)):t&&s.log("Could not call mediaSource.endOfStream(). mediaSource.readyState: "+t.readyState)}))):(this.tracksEnded(),this.hls.trigger(D.BUFFERED_TO_END,void 0)))},e.tracksEnded=function(){var t=this;this.sourceBuffers.forEach((function(i){var e=i[0];if(null!==e){var s=t.tracks[e];s&&(s.ending=!1)}}))},e.onLevelUpdated=function(t,i){var e=i.details;e.fragments.length&&(this.details=e,this.updateDuration())},e.updateDuration=function(){var t=this,i=this.getDurationAndRange();i&&this.blockUntilOpen((function(){return t.updateMediaSource(i)}))},e.onError=function(t,i){if(i.details===M.BUFFER_APPEND_ERROR&&i.frag){var e,s=null==(e=i.errorAction)?void 0:e.nextAutoLevel;S(s)&&s!==i.frag.level&&this.resetAppendErrors()}},e.resetAppendErrors=function(){this.appendErrors={audio:0,video:0,audiovideo:0}},e.trimBuffers=function(){var t=this.hls,i=this.details,e=this.media;if(e&&null!==i&&this.sourceBufferCount){var s=t.config,n=e.currentTime,o=i.levelTargetDuration,r=i.live&&null!==s.liveBackBufferLength?s.liveBackBufferLength:s.backBufferLength;if(S(r)&&r>=0){var a=Math.max(r,o),h=Math.floor(n/o)*o-a;this.flushBackBuffer(n,o,h)}if(S(s.frontBufferFlushThreshold)&&s.frontBufferFlushThreshold>0){var l=Math.max(s.maxBufferLength,s.frontBufferFlushThreshold),u=Math.max(l,o),d=Math.floor(n/o)*o+u;this.flushFrontBuffer(n,o,d)}}},e.flushBackBuffer=function(t,i,e){var s=this;this.sourceBuffers.forEach((function(t){var i=t[0],n=t[1];if(n){var o=Vi.getBuffered(n);if(o.length>0&&e>o.start(0)){var r;s.hls.trigger(D.BACK_BUFFER_REACHED,{bufferEnd:e});var a=s.tracks[i];if(null!=(r=s.details)&&r.live)s.hls.trigger(D.LIVE_BACK_BUFFER_REACHED,{bufferEnd:e});else if(null!=a&&a.ended)return void s.log("Cannot flush "+i+" back buffer while SourceBuffer is in ended state");s.hls.trigger(D.BUFFER_FLUSHING,{startOffset:0,endOffset:e,type:i})}}}))},e.flushFrontBuffer=function(t,i,e){var s=this;this.sourceBuffers.forEach((function(i){var n=i[0],o=i[1];if(o){var r=Vi.getBuffered(o),a=r.length;if(a<2)return;var h=r.start(a-1),l=r.end(a-1);if(e>h||t>=h&&t<=l)return;s.hls.trigger(D.BUFFER_FLUSHING,{startOffset:h,endOffset:1/0,type:n})}}))},e.getDurationAndRange=function(){var t,i=this.details,e=this.mediaSource;if(!i||!this.media||"open"!==(null==e?void 0:e.readyState))return null;var s=i.edge;if(i.live&&this.hls.config.liveDurationInfinity){if(i.fragments.length&&i.live&&e.setLiveSeekableRange){var n=Math.max(0,i.fragmentStart);return{duration:1/0,start:n,end:Math.max(n,s)}}return{duration:1/0}}var o=null==(t=this.overrides)?void 0:t.duration;if(o)return S(o)?{duration:o}:null;var r=this.media.duration;return s>(S(e.duration)?e.duration:0)&&s>r||!S(r)?{duration:s}:null},e.updateMediaSource=function(t){var i=t.duration,e=t.start,s=t.end,n=this.mediaSource;this.media&&n&&"open"===n.readyState&&(n.duration!==i&&(S(i)&&this.log("Updating MediaSource duration to "+i.toFixed(3)),n.duration=i),void 0!==e&&void 0!==s&&(this.log("MediaSource duration is set to "+n.duration+". Setting seekable range to "+e+"-"+s+"."),n.setLiveSeekableRange(e,s)))},e.checkPendingTracks=function(){var t=this.bufferCodecEventsTotal,i=this.pendingTrackCount,e=this.tracks;if(this.log("checkPendingTracks (pending: "+i+" codec events expected: "+t+") "+Ai(e)),this.tracksReady){var s,n=null==(s=this.transferData)?void 0:s.tracks;n&&Object.keys(n).length?this.attachTransferred():this.createSourceBuffers()}},e.bufferCreated=function(){var t=this;if(this.sourceBufferCount){var i={};this.sourceBuffers.forEach((function(e){var s=e[0],n=e[1];if(s){var o=t.tracks[s];i[s]={buffer:n,container:o.container,codec:o.codec,supplemental:o.supplemental,levelCodec:o.levelCodec,id:o.id,metadata:o.metadata}}})),this.hls.trigger(D.BUFFER_CREATED,{tracks:i}),this.log("SourceBuffers created. Running queue: "+this.operationQueue),this.sourceBuffers.forEach((function(i){var e=i[0];t.executeNext(e)}))}else{var e=new Error("could not create source buffer for media codec(s)");this.hls.trigger(D.ERROR,{type:I.MEDIA_ERROR,details:M.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:e,reason:e.message})}},e.createSourceBuffers=function(){var t=this.tracks,i=this.sourceBuffers,e=this.mediaSource;if(!e)throw new Error("createSourceBuffers called when mediaSource was null");for(var s in t){var n=s,o=t[n];if(this.isPending(o)){var r=this.getTrackCodec(o,n),a=o.container+";codecs="+r;o.codec=r,this.log("creating sourceBuffer("+a+")"+(this.currentOp(n)?" Queued":"")+" "+Ai(o));try{var h=e.addSourceBuffer(a),l=Xi(n),u=[n,h];i[l]=u,o.buffer=h}catch(t){var d;return this.error("error while trying to add sourceBuffer: "+t.message),this.shiftAndExecuteNext(n),null==(d=this.operationQueue)||d.removeBlockers(),delete this.tracks[n],void this.hls.trigger(D.ERROR,{type:I.MEDIA_ERROR,details:M.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:t,sourceBufferName:n,mimeType:a,parent:o.id})}this.trackSourceBuffer(n,o)}}this.bufferCreated()},e.getTrackCodec=function(t,i){var e=t.supplemental,s=t.codec;e&&("video"===i||"audiovideo"===i)&&Yt(e,"video")&&(s=ti(s,e));var n=ii(s,t.levelCodec);return n?"audio"===i.slice(0,5)?$t(n,this.appendSource):n:""},e.trackSourceBuffer=function(t,i){var e=this,s=i.buffer;if(s){var n=this.getTrackCodec(i,t);this.tracks[t]={buffer:s,codec:n,container:i.container,levelCodec:i.levelCodec,supplemental:i.supplemental,metadata:i.metadata,id:i.id,listeners:[]},this.removeBufferListeners(t),this.addBufferListener(t,"updatestart",this.onSBUpdateStart),this.addBufferListener(t,"updateend",this.onSBUpdateEnd),this.addBufferListener(t,"error",this.onSBUpdateError),this.appendSource&&this.addBufferListener(t,"bufferedchange",(function(t,i){var s=i.removedRanges;null!=s&&s.length&&e.hls.trigger(D.BUFFER_FLUSHED,{type:t})}))}},e.onSBUpdateStart=function(t){var i=this.currentOp(t);i&&i.onStart()},e.onSBUpdateEnd=function(t){var i;if("closed"!==(null==(i=this.mediaSource)?void 0:i.readyState)){var e=this.currentOp(t);e&&(e.onComplete(),this.shiftAndExecuteNext(t))}else this.resetBuffer(t)},e.onSBUpdateError=function(t,i){var e,s=new Error(t+" SourceBuffer error. MediaSource readyState: "+(null==(e=this.mediaSource)?void 0:e.readyState));this.error(""+s,i),this.hls.trigger(D.ERROR,{type:I.MEDIA_ERROR,details:M.BUFFER_APPENDING_ERROR,sourceBufferName:t,error:s,fatal:!1});var n=this.currentOp(t);n&&n.onError(s)},e.removeExecutor=function(t,i,e){var s=this.media,n=this.mediaSource,o=this.tracks[t],r=null==o?void 0:o.buffer;if(!s||!n||!r)return this.warn("Attempting to remove from the "+t+" SourceBuffer, but it does not exist"),void this.shiftAndExecuteNext(t);var a=S(s.duration)?s.duration:1/0,h=S(n.duration)?n.duration:1/0,l=Math.max(0,i),u=Math.min(e,a,h);u>l&&(!o.ending||o.ended)?(o.ended=!1,this.log("Removing ["+l+","+u+"] from the "+t+" SourceBuffer"),r.remove(l,u)):this.shiftAndExecuteNext(t)},e.appendExecutor=function(t,i){var e=this.tracks[i],s=null==e?void 0:e.buffer;if(!s)throw new Ji("Attempting to append to the "+i+" SourceBuffer, but it does not exist");e.ending=!1,e.ended=!1,s.appendBuffer(t)},e.blockUntilOpen=function(t){var i=this;if(this.isUpdating()||this.isQueued())this.blockBuffers(t).catch((function(t){i.warn("SourceBuffer blocked callback "+t),i.stepOperationQueue(i.sourceBufferTypes)}));else try{t()}catch(t){this.warn("Callback run without blocking "+this.operationQueue+" "+t)}},e.isUpdating=function(){return this.sourceBuffers.some((function(t){var i=t[0],e=t[1];return i&&e.updating}))},e.isQueued=function(){var t=this;return this.sourceBuffers.some((function(i){var e=i[0];return e&&!!t.currentOp(e)}))},e.isPending=function(t){return!!t&&!t.buffer},e.blockBuffers=function(t,i){var e=this;if(void 0===i&&(i=this.sourceBufferTypes),!i.length)return this.log("Blocking operation requested, but no SourceBuffers exist"),Promise.resolve().then(t);var s=this.operationQueue,n=i.map((function(t){return e.appendBlocker(t)}));return i.length>1&&!!this.blockedAudioAppend&&this.unblockAudio(),Promise.all(n).then((function(i){s===e.operationQueue&&(t(),e.stepOperationQueue(e.sourceBufferTypes))}))},e.stepOperationQueue=function(t){var i=this;t.forEach((function(t){var e,s=null==(e=i.tracks[t])?void 0:e.buffer;s&&!s.updating&&i.shiftAndExecuteNext(t)}))},e.append=function(t,i,e){this.operationQueue&&this.operationQueue.append(t,i,e)},e.appendBlocker=function(t){if(this.operationQueue)return this.operationQueue.appendBlocker(t)},e.currentOp=function(t){return this.operationQueue?this.operationQueue.current(t):null},e.executeNext=function(t){t&&this.operationQueue&&this.operationQueue.executeNext(t)},e.shiftAndExecuteNext=function(t){this.operationQueue&&this.operationQueue.shiftAndExecuteNext(t)},e.addBufferListener=function(t,i,e){var s=this.tracks[t];if(s){var n=s.buffer;if(n){var o=e.bind(this,t);s.listeners.push({event:i,listener:o}),n.addEventListener(i,o)}}},e.removeBufferListeners=function(t){var i=this.tracks[t];if(i){var e=i.buffer;e&&(i.listeners.forEach((function(t){e.removeEventListener(t.event,t.listener)})),i.listeners.length=0)}},n(i,[{key:"mediaSourceOpenOrEnded",get:function(){var t,i=null==(t=this.mediaSource)?void 0:t.readyState;return"open"===i||"ended"===i}},{key:"sourceBufferTracks",get:function(){var t=this;return Object.keys(this.tracks).reduce((function(i,e){var s=t.tracks[e];return i[e]={id:s.id,container:s.container,codec:s.codec,levelCodec:s.levelCodec},i}),{})}},{key:"bufferedToEnd",get:function(){var t=this;return this.sourceBufferCount>0&&!this.sourceBuffers.some((function(i){var e,s,n=i[0];return n&&(!(null!=(e=t.tracks[n])&&e.ended)||(null==(s=t.tracks[n])?void 0:s.ending))}))}},{key:"tracksReady",get:function(){var t=this.pendingTrackCount;return t>0&&(t>=this.bufferCodecEventsTotal||this.isPending(this.tracks.audiovideo))}},{key:"mediaSrc",get:function(){var t,i,e=(null==(t=this.media)||null==(i=t.querySelector)?void 0:i.call(t,"source"))||this.media;return null==e?void 0:e.src}},{key:"pendingTrackCount",get:function(){var t=this;return Object.keys(this.tracks).reduce((function(i,e){return i+(t.isPending(t.tracks[e])?1:0)}),0)}},{key:"sourceBufferCount",get:function(){return this.sourceBuffers.reduce((function(t,i){return t+(i[0]?1:0)}),0)}},{key:"sourceBufferTypes",get:function(){return this.sourceBuffers.map((function(t){return t[0]})).filter((function(t){return!!t}))}}])}(P);function Zi(t){var i=t.querySelectorAll("source");[].slice.call(i).forEach((function(i){t.removeChild(i)}))}function qi(t,i){var e=self.document.createElement("source");e.type="video/mp4",e.src=i,t.appendChild(e)}function Xi(t){return"audio"===t?1:0}var Ki=function(){function t(t){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=t,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}var i=t.prototype;return i.setStreamController=function(t){this.streamController=t},i.destroy=function(){this.hls&&this.unregisterListener(),this.timer&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null},i.registerListeners=function(){var t=this.hls;t.on(D.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),t.on(D.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(D.MANIFEST_PARSED,this.onManifestParsed,this),t.on(D.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(D.BUFFER_CODECS,this.onBufferCodecs,this),t.on(D.MEDIA_DETACHING,this.onMediaDetaching,this)},i.unregisterListener=function(){var t=this.hls;t.off(D.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),t.off(D.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(D.MANIFEST_PARSED,this.onManifestParsed,this),t.off(D.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(D.BUFFER_CODECS,this.onBufferCodecs,this),t.off(D.MEDIA_DETACHING,this.onMediaDetaching,this)},i.onFpsDropLevelCapping=function(t,i){var e=this.hls.levels[i.droppedLevel];this.isLevelAllowed(e)&&this.restrictedLevels.push({bitrate:e.bitrate,height:e.height,width:e.width})},i.onMediaAttaching=function(t,i){this.media=i.media instanceof HTMLVideoElement?i.media:null,this.clientRect=null,this.timer&&this.hls.levels.length&&this.detectPlayerSize()},i.onManifestParsed=function(t,i){var e=this.hls;this.restrictedLevels=[],this.firstLevel=i.firstLevel,e.config.capLevelToPlayerSize&&i.video&&this.startCapping()},i.onLevelsUpdated=function(t,i){this.timer&&S(this.autoLevelCapping)&&this.detectPlayerSize()},i.onBufferCodecs=function(t,i){this.hls.config.capLevelToPlayerSize&&i.video&&this.startCapping()},i.onMediaDetaching=function(){this.stopCapping(),this.media=null},i.detectPlayerSize=function(){if(this.media){if(this.mediaHeight<=0||this.mediaWidth<=0)return void(this.clientRect=null);var t=this.hls.levels;if(t.length){var i=this.hls,e=this.getMaxLevel(t.length-1);e!==this.autoLevelCapping&&i.logger.log("Setting autoLevelCapping to "+e+": "+t[e].height+"p@"+t[e].bitrate+" for media "+this.mediaWidth+"x"+this.mediaHeight),i.autoLevelCapping=e,i.autoLevelEnabled&&i.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=i.autoLevelCapping}}},i.getMaxLevel=function(i){var e=this,s=this.hls.levels;if(!s.length)return-1;var n=s.filter((function(t,s){return e.isLevelAllowed(t)&&s<=i}));return this.clientRect=null,t.getMaxLevelByMediaSize(n,this.mediaWidth,this.mediaHeight)},i.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},i.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)},i.getDimensions=function(){if(this.clientRect)return this.clientRect;var t=this.media,i={width:0,height:0};if(t){var e=t.getBoundingClientRect();i.width=e.width,i.height=e.height,i.width||i.height||(i.width=e.right-e.left||t.width||0,i.height=e.bottom-e.top||t.height||0)}return this.clientRect=i,i},i.isLevelAllowed=function(t){return!this.restrictedLevels.some((function(i){return t.bitrate===i.bitrate&&t.width===i.width&&t.height===i.height}))},t.getMaxLevelByMediaSize=function(t,i,e){if(null==t||!t.length)return-1;for(var s=function(t,i){return!i||t.width!==i.width||t.height!==i.height},n=t.length-1,o=Math.max(i,e),r=0;r<t.length;r+=1){var a=t[r];if((a.width>=o||a.height>=o)&&s(a,t[r+1])){n=r;break}}return n},n(t,[{key:"mediaWidth",get:function(){return this.getDimensions().width*this.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*this.contentScaleFactor}},{key:"contentScaleFactor",get:function(){var t=1;if(!this.hls.config.ignoreDevicePixelRatio)try{t=self.devicePixelRatio}catch(t){}return Math.min(t,this.hls.config.maxDevicePixelRatio)}}])}(),$i=/^(\d+)x(\d+)$/,te=/(.+?)=(".*?"|.*?)(?:,|$)/g,ie=function(){function t(i,e){"string"==typeof i&&(i=t.parseAttrList(i,e)),r(this,i)}var i=t.prototype;return i.decimalInteger=function(t){var i=parseInt(this[t],10);return i>Number.MAX_SAFE_INTEGER?1/0:i},i.hexadecimalInteger=function(t){if(this[t]){var i=(this[t]||"0x").slice(2);i=(1&i.length?"0":"")+i;for(var e=new Uint8Array(i.length/2),s=0;s<i.length/2;s++)e[s]=parseInt(i.slice(2*s,2*s+2),16);return e}return null},i.hexadecimalIntegerAsNumber=function(t){var i=parseInt(this[t],16);return i>Number.MAX_SAFE_INTEGER?1/0:i},i.decimalFloatingPoint=function(t){return parseFloat(this[t])},i.optionalFloat=function(t,i){var e=this[t];return e?parseFloat(e):i},i.enumeratedString=function(t){return this[t]},i.enumeratedStringList=function(t,i){var e=this[t];return(e?e.split(/[ ,]+/):[]).reduce((function(t,i){return t[i.toLowerCase()]=!0,t}),i)},i.bool=function(t){return"YES"===this[t]},i.decimalResolution=function(t){var i=$i.exec(this[t]);if(null!==i)return{width:parseInt(i[1],10),height:parseInt(i[2],10)}},t.parseAttrList=function(t,i){var e,s={},n='"';for(te.lastIndex=0;null!==(e=te.exec(t));){var o=e[1].trim(),r=e[2],a=0===r.indexOf(n)&&r.lastIndexOf(n)===r.length-1,h=!1;if(a)r=r.slice(1,-1);else switch(o){case"IV":case"SCTE35-CMD":case"SCTE35-IN":case"SCTE35-OUT":h=!0}if(i&&(a||h));else if(!h&&!a)switch(o){case"CLOSED-CAPTIONS":if("NONE"===r)break;case"ALLOWED-CPC":case"CLASS":case"ASSOC-LANGUAGE":case"AUDIO":case"BYTERANGE":case"CHANNELS":case"CHARACTERISTICS":case"CODECS":case"DATA-ID":case"END-DATE":case"GROUP-ID":case"ID":case"IMPORT":case"INSTREAM-ID":case"KEYFORMAT":case"KEYFORMATVERSIONS":case"LANGUAGE":case"NAME":case"PATHWAY-ID":case"QUERYPARAM":case"RECENTLY-REMOVED-DATERANGES":case"SERVER-URI":case"STABLE-RENDITION-ID":case"STABLE-VARIANT-ID":case"START-DATE":case"SUBTITLES":case"SUPPLEMENTAL-CODECS":case"URI":case"VALUE":case"VIDEO":case"X-ASSET-LIST":case"X-ASSET-URI":J.warn(t+": attribute "+o+" is missing quotes")}s[o]=r}return s},n(t,[{key:"clientAttrs",get:function(){return Object.keys(this).filter((function(t){return"X-"===t.substring(0,2)}))}}])}(),ee="com.apple.hls.interstitial";function se(t){return"ID"!==t&&"CLASS"!==t&&"CUE"!==t&&"START-DATE"!==t&&"DURATION"!==t&&"END-DATE"!==t&&"END-ON-NEXT"!==t}function ne(t){return"SCTE35-OUT"===t||"SCTE35-IN"===t||"SCTE35-CMD"===t}var oe=function(){function t(t,i,e){var s;if(void 0===e&&(e=0),this.attr=void 0,this.tagAnchor=void 0,this.tagOrder=void 0,this.Z=void 0,this.q=void 0,this.X=void 0,this.K=void 0,this.$=void 0,this.tagAnchor=(null==i?void 0:i.tagAnchor)||null,this.tagOrder=null!=(s=null==i?void 0:i.tagOrder)?s:e,i){var n=i.attr;for(var o in n)if(Object.prototype.hasOwnProperty.call(t,o)&&t[o]!==n[o]){J.warn('DATERANGE tag attribute: "'+o+'" does not match for tags with ID: "'+t.ID+'"'),this.$=o;break}t=r(new ie({}),n,t)}if(this.attr=t,i?(this.Z=i.Z,this.K=i.K,this.q=i.q,this.X=i.X):this.Z=new Date(t["START-DATE"]),"END-DATE"in this.attr){var a=(null==i?void 0:i.endDate)||new Date(this.attr["END-DATE"]);S(a.getTime())&&(this.q=a)}}return n(t,[{key:"id",get:function(){return this.attr.ID}},{key:"class",get:function(){return this.attr.CLASS}},{key:"cue",get:function(){var t=this.K;return void 0===t?this.K=this.attr.enumeratedStringList(this.attr.CUE?"CUE":"X-CUE",{pre:!1,post:!1,once:!1}):t}},{key:"startTime",get:function(){var t=this.tagAnchor;return null===t||null===t.programDateTime?(J.warn('Expected tagAnchor Fragment with PDT set for DateRange "'+this.id+'": '+t),NaN):t.start+(this.startDate.getTime()-t.programDateTime)/1e3}},{key:"startDate",get:function(){return this.Z}},{key:"endDate",get:function(){var t=this.q||this.X;if(t)return t;var i=this.duration;return null!==i?this.X=new Date(this.Z.getTime()+1e3*i):null}},{key:"duration",get:function(){if("DURATION"in this.attr){var t=this.attr.decimalFloatingPoint("DURATION");if(S(t))return t}else if(this.q)return(this.q.getTime()-this.Z.getTime())/1e3;return null}},{key:"plannedDuration",get:function(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}},{key:"endOnNext",get:function(){return this.attr.bool("END-ON-NEXT")}},{key:"isInterstitial",get:function(){return this.class===ee}},{key:"isValid",get:function(){return!!this.id&&!this.$&&S(this.startDate.getTime())&&(null===this.duration||this.duration>=0)&&(!this.endOnNext||!!this.class)&&(!this.attr.CUE||!this.cue.pre&&!this.cue.post||this.cue.pre!==this.cue.post)&&(!this.isInterstitial||"X-ASSET-URI"in this.attr||"X-ASSET-LIST"in this.attr)}}])}(),re=10,ae=function(){function t(t){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.dateRangeTagCount=0,this.live=!0,this.requestScheduled=-1,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.appliedTimelineOffset=void 0,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=t}return t.prototype.reloaded=function(t){if(!t)return this.advanced=!0,void(this.updated=!0);var i=this.lastPartSn-t.lastPartSn,e=this.lastPartIndex-t.lastPartIndex;this.updated=this.endSN!==t.endSN||!!e||!!i||!this.live,this.advanced=this.endSN>t.endSN||i>0||0===i&&e>0,this.updated||this.advanced?this.misses=Math.floor(.6*t.misses):this.misses=t.misses+1},n(t,[{key:"hasProgramDateTime",get:function(){return!!this.fragments.length&&S(this.fragments[this.fragments.length-1].programDateTime)}},{key:"levelTargetDuration",get:function(){return this.averagetargetduration||this.targetduration||re}},{key:"drift",get:function(){var t=this.driftEndTime-this.driftStartTime;return t>0?1e3*(this.driftEnd-this.driftStart)/t:1}},{key:"edge",get:function(){return this.partEnd||this.fragmentEnd}},{key:"partEnd",get:function(){var t;return null!=(t=this.partList)&&t.length?this.partList[this.partList.length-1].end:this.fragmentEnd}},{key:"fragmentEnd",get:function(){var t;return null!=(t=this.fragments)&&t.length?this.fragments[this.fragments.length-1].end:0}},{key:"fragmentStart",get:function(){var t;return null!=(t=this.fragments)&&t.length?this.fragments[0].start:0}},{key:"age",get:function(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}},{key:"lastPartIndex",get:function(){var t;return null!=(t=this.partList)&&t.length?this.partList[this.partList.length-1].index:-1}},{key:"maxPartIndex",get:function(){var t=this.partList;if(t){var i=this.lastPartIndex;if(-1!==i){for(var e=t.length;e--;)if(t[e].index>i)return t[e].index;return i}}return 0}},{key:"lastPartSn",get:function(){var t;return null!=(t=this.partList)&&t.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}},{key:"expired",get:function(){if(this.live&&this.age&&this.misses<3){var t=this.partEnd-this.fragmentStart;return this.age>Math.max(t,this.totalduration)+this.levelTargetDuration}return!1}}])}(),he={cbc:0,ctr:1};function le(t){return"AES-128"===t||"AES-256"===t||"AES-256-CTR"===t}function ue(t){switch(t){case"AES-128":case"AES-256":return he.cbc;case"AES-256-CTR":return he.ctr;default:throw new Error("invalid full segment method "+t)}}var de=function(){function t(t,i,e,s,n){void 0===s&&(s=[1]),void 0===n&&(n=null),this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=t,this.uri=i,this.keyFormat=e,this.keyFormatVersions=s,this.iv=n,this.encrypted=!!t&&"NONE"!==t,this.isCommonEncryption=this.encrypted&&!le(t)}t.clearKeyUriToKeyIdMap=function(){};var i=t.prototype;return i.isSupported=function(){if(this.method){if(le(this.method)||"NONE"===this.method)return!0;if("identity"===this.keyFormat)return"SAMPLE-AES"===this.method}return!1},i.getDecryptData=function(i){if(!this.encrypted||!this.uri)return null;if(le(this.method)&&this.uri&&!this.iv){"number"!=typeof i&&(J.warn('missing IV for initialization segment with method="'+this.method+'" - compliance issue'),i=0);var e=ce(i);return new t(this.method,this.uri,"identity",this.keyFormatVersions,e)}return this},t}();function ce(t){for(var i=new Uint8Array(16),e=12;e<16;e++)i[e]=t>>8*(15-e)&255;return i}var ve=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,fe=/#EXT-X-MEDIA:(.*)/g,pe=/^#EXT(?:INF|-X-TARGETDURATION):/m,me=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[^\r\n]*)/.source,/#.*/.source].join("|"),"g"),ge=new RegExp([/#EXT-X-(PROGRAM-DATE-TIME|BYTERANGE|DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|")),Ae=function(){function t(){}return t.findGroup=function(t,i){for(var e=0;e<t.length;e++){var s=t[e];if(s.id===i)return s}},t.resolve=function(t,i){return E.buildAbsoluteURL(i,t,{alwaysNormalize:!0})},t.isMediaPlaylist=function(t){return pe.test(t)},t.parseMasterPlaylist=function(i,e){var s,n={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:!1},o=[];for(ve.lastIndex=0;null!=(s=ve.exec(i));)if(s[1]){var r,a=new ie(s[1],n),h=s[2],l={attrs:a,bitrate:a.decimalInteger("BANDWIDTH")||a.decimalInteger("AVERAGE-BANDWIDTH"),name:a.NAME,url:t.resolve(h,e)},u=a.decimalResolution("RESOLUTION");u&&(l.width=u.width,l.height=u.height),je(a.CODECS,l);var d=a["SUPPLEMENTAL-CODECS"];d&&(l.supplemental={},je(d,l.supplemental)),null!=(r=l.unknownCodecs)&&r.length||o.push(l),n.levels.push(l)}else if(s[3]){var c=s[3],v=s[4];switch(c){case"SESSION-DATA":var f=new ie(v,n),p=f["DATA-ID"];p&&(null===n.sessionData&&(n.sessionData={}),n.sessionData[p]=f);break;case"SESSION-KEY":var m=we(v,e,n);m.encrypted&&m.isSupported()?(null===n.sessionKeys&&(n.sessionKeys=[]),n.sessionKeys.push(m)):J.warn('[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "'+v+'"');break;case"DEFINE":break;case"CONTENT-STEERING":var g=new ie(v,n);n.contentSteering={uri:t.resolve(g["SERVER-URI"],e),pathwayId:g["PATHWAY-ID"]||"."};break;case"START":n.startTimeOffset=_e(v)}}var A=o.length>0&&o.length<n.levels.length;return n.levels=A?o:n.levels,0===n.levels.length&&(n.playlistParsingError=new Error("no levels found in manifest")),n},t.parseMasterPlaylistMedia=function(i,e,s){var n,o={},r=s.levels,a={AUDIO:r.map((function(t){return{id:t.attrs.AUDIO,audioCodec:t.audioCodec}})),SUBTITLES:r.map((function(t){return{id:t.attrs.SUBTITLES,textCodec:t.textCodec}})),"CLOSED-CAPTIONS":[]},h=0;for(fe.lastIndex=0;null!==(n=fe.exec(i));){var l=new ie(n[1],s),u=l.TYPE;if(u){var d=a[u],c=o[u]||[];o[u]=c;var v=l.LANGUAGE,f=l["ASSOC-LANGUAGE"],p=l.CHANNELS,m=l.CHARACTERISTICS,g=l["INSTREAM-ID"],A={attrs:l,bitrate:0,id:h++,groupId:l["GROUP-ID"]||"",name:l.NAME||v||"",type:u,default:l.bool("DEFAULT"),autoselect:l.bool("AUTOSELECT"),forced:l.bool("FORCED"),lang:v,url:l.URI?t.resolve(l.URI,e):""};if(f&&(A.assocLang=f),p&&(A.channels=p),m&&(A.characteristics=m),g&&(A.instreamId=g),null!=d&&d.length){var b=t.findGroup(d,A.groupId)||d[0];xe(A,b,"audioCodec"),xe(A,b,"textCodec")}c.push(A)}}return o},t.parseLevelPlaylist=function(t,i,e,s,n,o){var a,h,l,u,d,c={url:i},v=new ae(i),f=v.fragments,p=[],m=null,g=0,A=0,b=0,y=0,w=0,_=null,j=new st(s,c),x=-1,k=!1,E=null;if(me.lastIndex=0,v.m3u8=t,v.hasVariableRefs=!1,"#EXTM3U"!==(null==(a=me.exec(t))?void 0:a[0]))return v.playlistParsingError=new Error("Missing format identifier #EXTM3U"),v;for(;null!==(h=me.exec(t));){k&&(k=!1,(j=new st(s,c)).playlistOffset=b,j.start=b,j.sn=g,j.cc=y,w&&(j.bitrate=w),j.level=e,m&&(j.initSegment=m,m.rawProgramDateTime&&(j.rawProgramDateTime=m.rawProgramDateTime,m.rawProgramDateTime=null),E&&(j.setByteRange(E),E=null)));var T=h[1];if(T){j.duration=parseFloat(T);var C=(" "+h[2]).slice(1);j.title=C||null,j.tagList.push(C?["INF",T,C]:["INF",T])}else if(h[3]){if(S(j.duration)){j.playlistOffset=b,j.start=b,u&&Te(j,u,v),j.sn=g,j.level=e,j.cc=y,f.push(j);var I=(" "+h[3]).slice(1);j.relurl=I,Ee(j,_,p),_=j,b+=j.duration,g++,A=0,k=!0}}else{if(!(h=h[0].match(ge))){J.warn("No matches on slow regex match for level playlist!");continue}for(l=1;l<h.length&&void 0===h[l];l++);var M=(" "+h[l]).slice(1),D=(" "+h[l+1]).slice(1),B=h[l+2]?(" "+h[l+2]).slice(1):null;switch(M){case"BYTERANGE":_?j.setByteRange(D,_):j.setByteRange(D);break;case"PROGRAM-DATE-TIME":j.rawProgramDateTime=D,j.tagList.push(["PROGRAM-DATE-TIME",D]),-1===x&&(x=f.length);break;case"PLAYLIST-TYPE":v.type&&Ce(v,M,h),v.type=D.toUpperCase();break;case"MEDIA-SEQUENCE":0!==v.startSN?Ce(v,M,h):f.length>0&&Ie(v,M,h),g=v.startSN=parseInt(D);break;case"SKIP":v.skippedSegments&&Ce(v,M,h);var N=new ie(D,v),R=N.decimalInteger("SKIPPED-SEGMENTS");if(S(R)){v.skippedSegments+=R;for(var U=R;U--;)f.push(null);g+=R}var P=N.enumeratedString("RECENTLY-REMOVED-DATERANGES");P&&(v.recentlyRemovedDateranges=(v.recentlyRemovedDateranges||[]).concat(P.split("\t")));break;case"TARGETDURATION":0!==v.targetduration&&Ce(v,M,h),v.targetduration=Math.max(parseInt(D),1);break;case"VERSION":null!==v.version&&Ce(v,M,h),v.version=parseInt(D);break;case"INDEPENDENT-SEGMENTS":case"DEFINE":break;case"ENDLIST":v.live||Ce(v,M,h),v.live=!1;break;case"#":(D||B)&&j.tagList.push(B?[D,B]:[D]);break;case"DISCONTINUITY":y++,j.tagList.push(["DIS"]);break;case"GAP":j.gap=!0,j.tagList.push([M]);break;case"BITRATE":j.tagList.push([M,D]),w=1e3*parseInt(D),S(w)?j.bitrate=w:w=0;break;case"DATERANGE":var O=new ie(D,v),L=new oe(O,v.dateRanges[O.ID],v.dateRangeTagCount);v.dateRangeTagCount++,L.isValid||v.skippedSegments?v.dateRanges[L.id]=L:J.warn('Ignoring invalid DATERANGE tag: "'+D+'"'),j.tagList.push(["EXT-X-DATERANGE",D]);break;case"DISCONTINUITY-SEQUENCE":0!==v.startCC?Ce(v,M,h):f.length>0&&Ie(v,M,h),v.startCC=y=parseInt(D);break;case"KEY":var z=we(D,i,v);if(z.isSupported()){if("NONE"===z.method){u=void 0;break}u||(u={}),u[z.keyFormat]&&(u=r({},u)),u[z.keyFormat]=z}else J.warn('[Keys] Ignoring invalid EXT-X-KEY tag: "'+D+'"');break;case"START":v.startTimeOffset=_e(D);break;case"MAP":var F=new ie(D,v);if(j.duration){var G=new st(s,c);Se(G,F,e,u),m=G,j.initSegment=m,m.rawProgramDateTime&&!j.rawProgramDateTime&&(j.rawProgramDateTime=m.rawProgramDateTime)}else{var H=j.byteRangeEndOffset;if(H){var V=j.byteRangeStartOffset;E=H-V+"@"+V}else E=null;Se(j,F,e,u),m=j,k=!0}m.cc=y;break;case"SERVER-CONTROL":d&&Ce(v,M,h),d=new ie(D),v.canBlockReload=d.bool("CAN-BLOCK-RELOAD"),v.canSkipUntil=d.optionalFloat("CAN-SKIP-UNTIL",0),v.canSkipDateRanges=v.canSkipUntil>0&&d.bool("CAN-SKIP-DATERANGES"),v.partHoldBack=d.optionalFloat("PART-HOLD-BACK",0),v.holdBack=d.optionalFloat("HOLD-BACK",0);break;case"PART-INF":v.partTarget&&Ce(v,M,h);var Y=new ie(D);v.partTarget=Y.decimalFloatingPoint("PART-TARGET");break;case"PART":var Q=v.partList;Q||(Q=v.partList=[]);var W=A>0?Q[Q.length-1]:void 0,Z=A++,q=new ie(D,v),X=new nt(q,j,c,Z,W);Q.push(X),j.duration+=X.duration;break;case"PRELOAD-HINT":var K=new ie(D,v);v.preloadHint=K;break;case"RENDITION-REPORT":var $=new ie(D,v);v.renditionReports=v.renditionReports||[],v.renditionReports.push($);break;default:J.warn("line parsed but not handled: "+h)}}}_&&!_.relurl?(f.pop(),b-=_.duration,v.partList&&(v.fragmentHint=_)):v.partList&&(Ee(j,_,p),j.cc=y,v.fragmentHint=j,u&&Te(j,u,v)),v.targetduration||(v.playlistParsingError=new Error("#EXT-X-TARGETDURATION is required"));var tt=f.length,it=f[0],et=f[tt-1];if((b+=v.skippedSegments*v.targetduration)>0&&tt&&et){v.averagetargetduration=b/tt;var ot=et.sn;v.endSN="initSegment"!==ot?ot:0,v.live||(et.endList=!0),it&&void 0===v.startCC&&(v.startCC=it.cc),x>0&&(ke(f,x),it&&p.unshift(it))}else v.endSN=0,v.startCC=0;return v.fragmentHint&&(b+=v.fragmentHint.duration),v.totalduration=b,p.length&&v.dateRangeTagCount&&it&&be(p,v),v.endCC=y,v},t}();function be(t,i){for(var e=t.length,s=t[e-1],n=i.live?1/0:i.totalduration,o=Object.keys(i.dateRanges),r=o.length;r--;){var a=i.dateRanges[o[r]],h=a.startDate.getTime();a.tagAnchor=s.ref;for(var l=e;l--;){var u=ye(i,h,t,l,n);if(-1!==u){a.tagAnchor=i.fragments[u].ref;break}}}}function ye(t,i,e,s,n){var o=e[s];if(o){var r,a=o.programDateTime;if((i>=a||0===s)&&i<=a+1e3*(((null==(r=e[s+1])?void 0:r.start)||n)-o.start)){var h=e[s].sn-t.startSN,l=t.fragments;if(l.length>e.length)for(var u=(e[s+1]||l[l.length-1]).sn-t.startSN;u>h;u--){var d=l[u].programDateTime;if(i>=d&&i<d+1e3*l[u].duration)return u}return h}}return-1}function we(t,i,e){var s,n,o=new ie(t,e),r=null!=(s=o.METHOD)?s:"",a=o.URI,h=o.hexadecimalInteger("IV"),l=o.KEYFORMATVERSIONS,u=null!=(n=o.KEYFORMAT)?n:"identity";a&&o.IV&&!h&&J.error("Invalid IV: "+o.IV);var d=a?Ae.resolve(a,i):"",c=(l||"1").split("/").map(Number).filter(Number.isFinite);return new de(r,d,u,c,h)}function _e(t){var i=new ie(t).decimalFloatingPoint("TIME-OFFSET");return S(i)?i:null}function je(t,i){var e=(t||"").split(/[ ,]+/).filter((function(t){return t}));["video","audio","text"].forEach((function(t){var s=e.filter((function(i){return Vt(i,t)}));s.length&&(i[t+"Codec"]=s.map((function(t){return t.split("/")[0]})).join(","),e=e.filter((function(t){return-1===s.indexOf(t)})))})),i.unknownCodecs=e}function xe(t,i,e){var s=i[e];s&&(t[e]=s)}function ke(t,i){for(var e=t[i],s=i;s--;){var n=t[s];if(!n)return;n.programDateTime=e.programDateTime-1e3*n.duration,e=n}}function Ee(t,i,e){t.rawProgramDateTime?e.push(t):null!=i&&i.programDateTime&&(t.programDateTime=i.endProgramDateTime)}function Se(t,i,e,s){t.relurl=i.URI,i.BYTERANGE&&t.setByteRange(i.BYTERANGE),t.level=e,t.sn="initSegment",s&&(t.levelkeys=s),t.initSegment=null}function Te(t,i,e){t.levelkeys=i;var s=e.encryptedFragments;s.length&&s[s.length-1].levelkeys===i||!Object.keys(i).some((function(t){return i[t].isCommonEncryption}))||s.push(t)}function Ce(t,i,e){t.playlistParsingError=new Error("#EXT-X-"+i+" must not appear more than once ("+e[0]+")")}function Ie(t,i,e){t.playlistParsingError=new Error("#EXT-X-"+i+" must appear before the first Media Segment ("+e[0]+")")}function Me(t,i){var e=i.startPTS;if(S(e)){var s,n=0;i.sn>t.sn?(n=e-t.start,s=t):(n=t.start-e,s=i),s.duration!==n&&s.setDuration(n)}else i.sn>t.sn?t.cc===i.cc&&t.minEndPTS?i.setStart(t.start+(t.minEndPTS-t.start)):i.setStart(t.start+t.duration):i.setStart(Math.max(t.start-i.duration,0))}function De(t,i,e,s,n,o){s-e<=0&&(J.warn("Fragment should have a positive duration",i),s=e+i.duration,o=n+i.duration);var r=e,a=s,h=i.startPTS,l=i.endPTS;if(S(h)){var u=Math.abs(h-e);S(i.deltaPTS)?i.deltaPTS=Math.max(u,i.deltaPTS):i.deltaPTS=u,r=Math.max(e,h),e=Math.min(e,h),n=Math.min(n,i.startDTS),a=Math.min(s,l),s=Math.max(s,l),o=Math.max(o,i.endDTS)}var d=e-i.start;0!==i.start&&i.setStart(e),i.setDuration(s-i.start),i.startPTS=e,i.maxStartPTS=r,i.startDTS=n,i.endPTS=s,i.minEndPTS=a,i.endDTS=o;var c,v=i.sn;if(!t||v<t.startSN||v>t.endSN)return 0;var f=v-t.startSN,p=t.fragments;for(p[f]=i,c=f;c>0;c--)Me(p[c],p[c-1]);for(c=f;c<p.length-1;c++)Me(p[c],p[c+1]);return t.fragmentHint&&Me(p[p.length-1],t.fragmentHint),t.PTSKnown=t.alignedSliding=!0,d}function Be(t,i){if(t!==i){for(var e,s=null,n=t.fragments,o=n.length-1;o>=0;o--){var r=n[o].initSegment;if(r){s=r;break}}t.fragmentHint&&delete t.fragmentHint.endPTS,Ue(t,i,(function(n,o,r,a){if(!i.startCC&&o.cc!==n.cc){for(var h,l,u=n.cc-o.cc,d=r;d<a.length;d++)a[d].cc+=u;i.startCC=null!=(h=null==(l=Fe(t,i.startSN-1))?void 0:l.cc)?h:a[0].cc,i.endCC=a[a.length-1].cc}S(n.startPTS)&&S(n.endPTS)&&(o.setStart(o.startPTS=n.startPTS),o.startDTS=n.startDTS,o.maxStartPTS=n.maxStartPTS,o.endPTS=n.endPTS,o.endDTS=n.endDTS,o.minEndPTS=n.minEndPTS,o.setDuration(n.endPTS-n.startPTS),o.duration&&(e=o),i.PTSKnown=i.alignedSliding=!0),n.hasStreams&&(o.elementaryStreams=n.elementaryStreams),o.loader=n.loader,n.hasStats&&(o.stats=n.stats),n.initSegment&&(o.initSegment=n.initSegment,s=n.initSegment)}));var a=i.fragments,h=i.fragmentHint?a.concat(i.fragmentHint):a;if(s&&h.forEach((function(t){var i;!t||t.initSegment&&t.initSegment.relurl!==(null==(i=s)?void 0:i.relurl)||(t.initSegment=s)})),i.skippedSegments)if(i.deltaUpdateFailed=a.some((function(t){return!t})),i.deltaUpdateFailed){J.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(var l=i.skippedSegments;l--;)a.shift();i.startSN=a[0].sn}else{i.endCC=a[a.length-1].cc,i.canSkipDateRanges&&(i.dateRanges=Ne(t.dateRanges,i));var u=t.fragments.filter((function(t){return t.rawProgramDateTime}));if(t.hasProgramDateTime&&!i.hasProgramDateTime)for(var d=1;d<h.length;d++)null===h[d].programDateTime&&Ee(h[d],h[d-1],u);be(u,i)}Re(t.partList,i.partList,(function(t,i){i.elementaryStreams=t.elementaryStreams,i.stats=t.stats})),e?De(i,e,e.startPTS,e.endPTS,e.startDTS,e.endDTS):Oe(t,i),a.length&&(i.totalduration=i.edge-a[0].start),i.driftStartTime=t.driftStartTime,i.driftStart=t.driftStart;var c=i.advancedDateTime;if(i.advanced&&c){var v=i.edge;i.driftStart||(i.driftStartTime=c,i.driftStart=v),i.driftEndTime=c,i.driftEnd=v}else i.driftEndTime=t.driftEndTime,i.driftEnd=t.driftEnd,i.advancedDateTime=t.advancedDateTime;-1===i.requestScheduled&&(i.requestScheduled=t.requestScheduled)}}function Ne(t,i){var e=i.dateRanges,s=i.recentlyRemovedDateranges,n=r({},t);s&&s.forEach((function(t){delete n[t]}));var o=Object.keys(n).length;return o&&Object.keys(e).forEach((function(t){var i=n[t],s=new oe(e[t].attr,i);s.isValid?(n[t]=s,i||(s.tagOrder+=o)):J.warn('Ignoring invalid Playlist Delta Update DATERANGE tag: "'+Ai(e[t].attr)+'"')})),n}function Re(t,i,e){if(t&&i)for(var s=0,n=0,o=t.length;n<=o;n++){var r=t[n],a=i[n+s];r&&a&&r.index===a.index&&r.fragment.sn===a.fragment.sn?e(r,a):s--}}function Ue(t,i,e){for(var s=i.skippedSegments,n=Math.max(t.startSN,i.startSN)-i.startSN,o=(t.fragmentHint?1:0)+(s?i.endSN:Math.min(t.endSN,i.endSN))-i.startSN,r=i.startSN-t.startSN,a=i.fragmentHint?i.fragments.concat(i.fragmentHint):i.fragments,h=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments,l=n;l<=o;l++){var u=h[r+l],d=a[l];if(s&&!d&&u&&(d=i.fragments[l]=u),u&&d){if(e(u,d,l,a),u.url&&u.url!==d.url)return void(i.playlistParsingError=Pe("media sequence mismatch "+d.sn+":",t,i,u,d));if(u.cc!==d.cc)return void(i.playlistParsingError=Pe("discontinuity sequence mismatch ("+u.cc+"!="+d.cc+")",t,i,u,d))}}}function Pe(t,i,e,s,n){return new Error(t+" "+n.url+"\nPlaylist starting @"+i.startSN+"\n"+i.m3u8+"\n\nPlaylist starting @"+e.startSN+"\n"+e.m3u8)}function Oe(t,i,e){void 0===e&&(e=!0);var s=i.startSN+i.skippedSegments-t.startSN,n=t.fragments,o=s>=0,r=0;if(o&&s<n.length)r=n[s].start;else if(o&&i.startSN===t.endSN+1)r=t.fragmentEnd;else if(o&&e)r=t.fragmentStart+s*i.levelTargetDuration;else{if(i.skippedSegments||0!==i.fragmentStart)return;r=t.fragmentStart}Le(i,r)}function Le(t,i){if(i){for(var e=t.fragments,s=t.skippedSegments;s<e.length;s++)e[s].addStart(i);t.fragmentHint&&t.fragmentHint.addStart(i)}}function ze(t,i){void 0===i&&(i=1/0);var e=1e3*t.targetduration;if(t.updated){var s=t.fragments,n=4;if(s.length&&e*n>i){var o=1e3*s[s.length-1].duration;o<e&&(e=o)}}else e/=2;return Math.round(e)}function Fe(t,i,e){if(!t)return null;var s=t.fragments[i-t.startSN];return s||((s=t.fragmentHint)&&s.sn===i?s:i<t.startSN&&e&&e.sn===i?e:null)}function Ge(t,i,e){return t?He(t.partList,i,e):null}function He(t,i,e){if(t)for(var s=t.length;s--;){var n=t[s];if(n.index===e&&n.fragment.sn===i)return n}return null}function Ve(t){t.forEach((function(t,i){var e;null==(e=t.details)||e.fragments.forEach((function(t){t.level=i,t.initSegment&&(t.initSegment.level=i)}))}))}var Ye=3e5,Qe=function(t){function i(i){var e;return(e=t.call(this,"content-steering",i.logger)||this).hls=void 0,e.loader=null,e.uri=null,e.pathwayId=".",e.tt=null,e.timeToLoad=300,e.reloadTimer=-1,e.updated=0,e.started=!1,e.enabled=!0,e.levels=null,e.audioTracks=null,e.subtitleTracks=null,e.penalizedPathways={},e.hls=i,e.registerListeners(),e}h(i,t);var e=i.prototype;return e.registerListeners=function(){var t=this.hls;t.on(D.MANIFEST_LOADING,this.onManifestLoading,this),t.on(D.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(D.MANIFEST_PARSED,this.onManifestParsed,this),t.on(D.ERROR,this.onError,this)},e.unregisterListeners=function(){var t=this.hls;t&&(t.off(D.MANIFEST_LOADING,this.onManifestLoading,this),t.off(D.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(D.MANIFEST_PARSED,this.onManifestParsed,this),t.off(D.ERROR,this.onError,this))},e.pathways=function(){return(this.levels||[]).reduce((function(t,i){return-1===t.indexOf(i.pathwayId)&&t.push(i.pathwayId),t}),[])},e.startLoad=function(){if(this.started=!0,this.clearTimeout(),this.enabled&&this.uri){if(this.updated){var t=1e3*this.timeToLoad-(performance.now()-this.updated);if(t>0)return void this.scheduleRefresh(this.uri,t)}this.loadSteeringManifest(this.uri)}},e.stopLoad=function(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),this.clearTimeout()},e.clearTimeout=function(){-1!==this.reloadTimer&&(self.clearTimeout(this.reloadTimer),this.reloadTimer=-1)},e.destroy=function(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null},e.removeLevel=function(t){var i=this.levels;i&&(this.levels=i.filter((function(i){return i!==t})))},e.onManifestLoading=function(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null},e.onManifestLoaded=function(t,i){var e=i.contentSteering;null!==e&&(this.pathwayId=e.pathwayId,this.uri=e.uri,this.started&&this.startLoad())},e.onManifestParsed=function(t,i){this.audioTracks=i.audioTracks,this.subtitleTracks=i.subtitleTracks},e.onError=function(t,i){var e=i.errorAction;if((null==e?void 0:e.action)===Li.SendAlternateToPenaltyBox&&e.flags===zi.MoveAllAlternatesMatchingHost){var s=this.levels,n=this.tt,o=this.pathwayId;if(i.context){var r=i.context,a=r.groupId,h=r.pathwayId,l=r.type;a&&s?o=this.getPathwayForGroupId(a,l,o):h&&(o=h)}o in this.penalizedPathways||(this.penalizedPathways[o]=performance.now()),!n&&s&&(n=this.pathways()),n&&n.length>1&&(this.updatePathwayPriority(n),e.resolved=this.pathwayId!==o),e.resolved||this.warn("Could not resolve "+i.details+' ("'+i.error.message+'") with content-steering for Pathway: '+o+" levels: "+(s?s.length:s)+" priorities: "+Ai(n)+" penalized: "+Ai(this.penalizedPathways))}},e.filterParsedLevels=function(t){this.levels=t;var i=this.getLevelsForPathway(this.pathwayId);if(0===i.length){var e=t[0].pathwayId;this.log("No levels found in Pathway "+this.pathwayId+'. Setting initial Pathway to "'+e+'"'),i=this.getLevelsForPathway(e),this.pathwayId=e}return i.length!==t.length&&this.log("Found "+i.length+"/"+t.length+' levels in Pathway "'+this.pathwayId+'"'),i},e.getLevelsForPathway=function(t){return null===this.levels?[]:this.levels.filter((function(i){return t===i.pathwayId}))},e.updatePathwayPriority=function(t){var i;this.tt=t;var e=this.penalizedPathways,s=performance.now();Object.keys(e).forEach((function(t){s-e[t]>Ye&&delete e[t]}));for(var n=0;n<t.length;n++){var o=t[n];if(!(o in e)){if(o===this.pathwayId)return;var r=this.hls.nextLoadLevel,a=this.hls.levels[r];if((i=this.getLevelsForPathway(o)).length>0){this.log('Setting Pathway to "'+o+'"'),this.pathwayId=o,Ve(i),this.hls.trigger(D.LEVELS_UPDATED,{levels:i});var h=this.hls.levels[r];a&&h&&this.levels&&(h.attrs["STABLE-VARIANT-ID"]!==a.attrs["STABLE-VARIANT-ID"]&&h.bitrate!==a.bitrate&&this.log("Unstable Pathways change from bitrate "+a.bitrate+" to "+h.bitrate),this.hls.nextLoadLevel=r);break}}}},e.getPathwayForGroupId=function(t,i,e){for(var s=this.getLevelsForPathway(e).concat(this.levels||[]),n=0;n<s.length;n++)if(i===B.AUDIO_TRACK&&s[n].hasAudioGroup(t)||i===B.SUBTITLE_TRACK&&s[n].hasSubtitleGroup(t))return s[n].pathwayId;return e},e.clonePathways=function(t){var i=this,e=this.levels;if(e){var s={},n={};t.forEach((function(t){var o=t.ID,r=t["BASE-ID"],a=t["URI-REPLACEMENT"];if(!e.some((function(t){return t.pathwayId===o}))){var h=i.getLevelsForPathway(r).map((function(t){var i=new ie(t.attrs);i["PATHWAY-ID"]=o;var e=i.AUDIO&&i.AUDIO+"_clone_"+o,r=i.SUBTITLES&&i.SUBTITLES+"_clone_"+o;e&&(s[i.AUDIO]=e,i.AUDIO=e),r&&(n[i.SUBTITLES]=r,i.SUBTITLES=r);var h=We(t.uri,i["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",a),l=new vi({attrs:i,audioCodec:t.audioCodec,bitrate:t.bitrate,height:t.height,name:t.name,url:h,videoCodec:t.videoCodec,width:t.width});if(t.audioGroups)for(var u=1;u<t.audioGroups.length;u++)l.addGroupId("audio",t.audioGroups[u]+"_clone_"+o);if(t.subtitleGroups)for(var d=1;d<t.subtitleGroups.length;d++)l.addGroupId("text",t.subtitleGroups[d]+"_clone_"+o);return l}));e.push.apply(e,h),Je(i.audioTracks,s,a,o),Je(i.subtitleTracks,n,a,o)}}))}},e.loadSteeringManifest=function(t){var i,e=this,s=this.hls.config,n=s.loader;this.loader&&this.loader.destroy(),this.loader=new n(s);try{i=new self.URL(t)}catch(i){return this.enabled=!1,void this.log("Failed to parse Steering Manifest URI: "+t)}if("data:"!==i.protocol){var o=0|(this.hls.bandwidthEstimate||s.abrEwmaDefaultEstimate);i.searchParams.set("_HLS_pathway",this.pathwayId),i.searchParams.set("_HLS_throughput",""+o)}var r={responseType:"json",url:i.href},a=s.steeringManifestLoadPolicy.default,h=a.errorRetry||a.timeoutRetry||{},l={loadPolicy:a,timeout:a.maxLoadTimeMs,maxRetry:h.maxNumRetry||0,retryDelay:h.retryDelayMs||0,maxRetryDelay:h.maxRetryDelayMs||0},u={onSuccess:function(t,s,n,o){e.log('Loaded steering manifest: "'+i+'"');var r=t.data;if(1===(null==r?void 0:r.VERSION)){e.updated=performance.now(),e.timeToLoad=r.TTL;var a=r["RELOAD-URI"],h=r["PATHWAY-CLONES"],l=r["PATHWAY-PRIORITY"];if(a)try{e.uri=new self.URL(a,i).href}catch(t){return e.enabled=!1,void e.log("Failed to parse Steering Manifest RELOAD-URI: "+a)}e.scheduleRefresh(e.uri||n.url),h&&e.clonePathways(h);var u={steeringManifest:r,url:i.toString()};e.hls.trigger(D.STEERING_MANIFEST_LOADED,u),l&&e.updatePathwayPriority(l)}else e.log("Steering VERSION "+r.VERSION+" not supported!")},onError:function(t,i,s,n){if(e.log("Error loading steering manifest: "+t.code+" "+t.text+" ("+i.url+")"),e.stopLoad(),410===t.code)return e.enabled=!1,void e.log("Steering manifest "+i.url+" no longer available");var o=1e3*e.timeToLoad;if(429!==t.code)e.scheduleRefresh(e.uri||i.url,o);else{var r=e.loader;if("function"==typeof(null==r?void 0:r.getResponseHeader)){var a=r.getResponseHeader("Retry-After");a&&(o=1e3*parseFloat(a))}e.log("Steering manifest "+i.url+" rate limited")}},onTimeout:function(t,i,s){e.log("Timeout loading steering manifest ("+i.url+")"),e.scheduleRefresh(e.uri||i.url)}};this.log("Requesting steering manifest: "+i),this.loader.load(r,l,u)},e.scheduleRefresh=function(t,i){var e=this;void 0===i&&(i=1e3*this.timeToLoad),this.clearTimeout(),this.reloadTimer=self.setTimeout((function(){var i,s=null==(i=e.hls)?void 0:i.media;!s||s.ended?e.scheduleRefresh(t,1e3*e.timeToLoad):e.loadSteeringManifest(t)}),i)},n(i,[{key:"pathwayPriority",get:function(){return this.tt},set:function(t){this.updatePathwayPriority(t)}}])}(P);function Je(t,i,e,s){t&&Object.keys(i).forEach((function(n){var o=t.filter((function(t){return t.groupId===n})).map((function(t){var o=r({},t);return o.details=void 0,o.attrs=new ie(o.attrs),o.url=o.attrs.URI=We(t.url,t.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",e),o.groupId=o.attrs["GROUP-ID"]=i[n],o.attrs["PATHWAY-ID"]=s,o}));t.push.apply(t,o)}))}function We(t,i,e,s){var n,o=s.HOST,r=s.PARAMS,a=s[e];i&&(n=null==a?void 0:a[i])&&(t=n);var h=new self.URL(t);return o&&!n&&(h.host=o),r&&Object.keys(r).sort().forEach((function(t){t&&h.searchParams.set(t,r[t])})),h.href}var Ze=function(){function t(t){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=t,this.registerListeners()}var i=t.prototype;return i.setStreamController=function(t){this.streamController=t},i.registerListeners=function(){this.hls.on(D.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.on(D.MEDIA_DETACHING,this.onMediaDetaching,this)},i.unregisterListeners=function(){this.hls.off(D.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.off(D.MEDIA_DETACHING,this.onMediaDetaching,this)},i.destroy=function(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null},i.onMediaAttaching=function(t,i){var e=this.hls.config;if(e.capLevelOnFPSDrop){var s=i.media instanceof self.HTMLVideoElement?i.media:null;this.media=s,s&&"function"==typeof s.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),e.fpsDroppedMonitoringPeriod)}},i.onMediaDetaching=function(){this.media=null},i.checkFPS=function(t,i,e){var s=performance.now();if(i){if(this.lastTime){var n=s-this.lastTime,o=e-this.lastDroppedFrames,r=i-this.lastDecodedFrames,a=1e3*o/n,h=this.hls;if(h.trigger(D.FPS_DROP,{currentDropped:o,currentDecoded:r,totalDroppedFrames:e}),a>0&&o>h.config.fpsDroppedMonitoringThreshold*r){var l=h.currentLevel;h.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+l),l>0&&(-1===h.autoLevelCapping||h.autoLevelCapping>=l)&&(l-=1,h.trigger(D.FPS_DROP_LEVEL_CAPPING,{level:l,droppedLevel:h.currentLevel}),h.autoLevelCapping=l,this.streamController.nextLevelSwitch())}}this.lastTime=s,this.lastDroppedFrames=e,this.lastDecodedFrames=i}},i.checkFPSInterval=function(){var t=this.media;if(t)if(this.isVideoPlaybackQualityAvailable){var i=t.getVideoPlaybackQuality();this.checkFPS(t,i.totalVideoFrames,i.droppedVideoFrames)}else this.checkFPS(t,t.webkitDecodedFrameCount,t.webkitDroppedFrameCount)},t}(),qe=function(){function t(){this.chunks=[],this.dataLength=0}var i=t.prototype;return i.push=function(t){this.chunks.push(t),this.dataLength+=t.length},i.flush=function(){var t,i=this.chunks,e=this.dataLength;return i.length?(t=1===i.length?i[0]:Xe(i,e),this.reset(),t):new Uint8Array(0)},i.reset=function(){this.chunks.length=0,this.dataLength=0},t}();function Xe(t,i){for(var e=new Uint8Array(i),s=0,n=0;n<t.length;n++){var o=t[n];e.set(o,s),s+=o.length}return e}function Ke(t,i){return i+10<=t.length&&51===t[i]&&68===t[i+1]&&73===t[i+2]&&t[i+3]<255&&t[i+4]<255&&t[i+6]<128&&t[i+7]<128&&t[i+8]<128&&t[i+9]<128}function $e(t,i){return i+10<=t.length&&73===t[i]&&68===t[i+1]&&51===t[i+2]&&t[i+3]<255&&t[i+4]<255&&t[i+6]<128&&t[i+7]<128&&t[i+8]<128&&t[i+9]<128}function ts(t,i){var e=0;return e=(127&t[i])<<21,e|=(127&t[i+1])<<14,e|=(127&t[i+2])<<7,e|=127&t[i+3]}function is(t,i){for(var e=i,s=0;$e(t,i);)s+=10,s+=ts(t,i+6),Ke(t,i+10)&&(s+=10),i+=s;if(s>0)return t.subarray(e,e+s)}function es(t,i,e,s){var n=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],o=i[e+2],r=o>>2&15;if(!(r>12)){var a=1+(o>>6&3),h=i[e+3]>>6&3|(1&o)<<2,l="mp4a.40."+a,u=n[r],d=r;5!==a&&29!==a||(d-=3);var c=[a<<3|(14&d)>>1,(1&d)<<7|h<<3];return J.log("manifest codec:"+s+", parsed codec:"+l+", channels:"+h+", rate:"+u+" (ADTS object type:"+a+" sampling index:"+r+")"),{config:c,samplerate:u,channelCount:h,codec:l,parsedCodec:l,manifestCodec:s}}var v=new Error("invalid ADTS sampling index:"+r);t.emit(D.ERROR,D.ERROR,{type:I.MEDIA_ERROR,details:M.FRAG_PARSING_ERROR,fatal:!0,error:v,reason:v.message})}function ss(t,i){return 255===t[i]&&240==(246&t[i+1])}function ns(t,i){return 1&t[i+1]?7:9}function os(t,i){return(3&t[i+3])<<11|t[i+4]<<3|(224&t[i+5])>>>5}function rs(t,i){return i+5<t.length}function as(t,i){return i+1<t.length&&ss(t,i)}function hs(t,i){return rs(t,i)&&ss(t,i)&&os(t,i)<=t.length-i}function ls(t,i){if(as(t,i)){var e=ns(t,i);if(i+e>=t.length)return!1;var s=os(t,i);if(s<=e)return!1;var n=i+s;return n===t.length||as(t,n)}return!1}function us(t,i,e,s,n){if(!t.samplerate){var o=es(i,e,s,n);if(!o)return;r(t,o)}}function ds(t){return 9216e4/t}function cs(t,i){var e=ns(t,i);if(i+e<=t.length){var s=os(t,i)-e;if(s>0)return{headerLength:e,frameLength:s}}}function vs(t,i,e,s,n){var o,r=s+n*ds(t.samplerate),a=cs(i,e);if(a){var h=a.frameLength,l=a.headerLength,u=l+h,d=Math.max(0,e+u-i.length);d?(o=new Uint8Array(u-l)).set(i.subarray(e+l,i.length),0):o=i.subarray(e+l,e+u);var c={unit:o,pts:r};return d||t.samples.push(c),{sample:c,length:u,missing:d}}var v=i.length-e;return(o=new Uint8Array(v)).set(i.subarray(e,i.length),0),{sample:{unit:o,pts:r},length:v,missing:-1}}function fs(t,i){return $e(t,i)&&ts(t,i+6)+10<=t.length-i}function ps(t){if(!(t.size<2)){var i=X(t.data,!0),e=new Uint8Array(t.data.subarray(i.length+1));return{key:t.type,info:i,data:e.buffer}}}function ms(t){if(!(t.size<2)){if("TXXX"===t.type){var i=1,e=X(t.data.subarray(i),!0);i+=e.length+1;var s=X(t.data.subarray(i));return{key:t.type,info:e,data:s}}var n=X(t.data.subarray(1));return{key:t.type,info:"",data:n}}}function gs(t){if("WXXX"===t.type){if(t.size<2)return;var i=1,e=X(t.data.subarray(i),!0);i+=e.length+1;var s=X(t.data.subarray(i));return{key:t.type,info:e,data:s}}var n=X(t.data);return{key:t.type,info:"",data:n}}function As(t){return t instanceof ArrayBuffer?t:0==t.byteOffset&&t.byteLength==t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer}function bs(t,i,e){return void 0===i&&(i=0),void 0===e&&(e=1/0),ys(t,i,e,Uint8Array)}function ys(t,i,e,s){var n=ws(t),o=1;"BYTES_PER_ELEMENT"in s&&(o=s.BYTES_PER_ELEMENT);var r=_s(t)?t.byteOffset:0,a=(r+t.byteLength)/o,h=(r+i)/o,l=Math.floor(Math.max(0,Math.min(h,a)));return new s(n,l,Math.floor(Math.min(l+Math.max(e,0),a))-l)}function ws(t){return t instanceof ArrayBuffer?t:t.buffer}function _s(t){return t&&t.buffer instanceof ArrayBuffer&&void 0!==t.byteLength&&void 0!==t.byteOffset}function js(t){var i={key:t.type,description:"",data:"",mimeType:null,pictureType:null},e=3;if(!(t.size<2)&&t.data[0]===e){var s=t.data.subarray(1).indexOf(0);if(-1!==s){var n=X(bs(t.data,1,s)),o=t.data[2+s],r=t.data.subarray(3+s).indexOf(0);if(-1!==r){var a,h=X(bs(t.data,3+s,r));return a="--\x3e"===n?X(bs(t.data,4+s+r)):As(t.data.subarray(4+s+r)),i.mimeType=n,i.pictureType=o,i.description=h,i.data=a,i}}}}function xs(t){return"PRIV"===t.type?ps(t):"W"===t.type[0]?gs(t):"APIC"===t.type?js(t):ms(t)}function ks(t){var i=String.fromCharCode(t[0],t[1],t[2],t[3]),e=ts(t,4),s=10;return{type:i,size:e,data:t.subarray(s,s+e)}}var Es=10,Ss=10;function Ts(t){for(var i=0,e=[];$e(t,i);){var s=ts(t,i+6);t[i+5]>>6&1&&(i+=Es);for(var n=(i+=Es)+s;i+Ss<n;){var o=ks(t.subarray(i)),r=xs(o);r&&e.push(r),i+=o.size+Es}Ke(t,i)&&(i+=Es)}return e}function Cs(t){return t&&"PRIV"===t.key&&"com.apple.streaming.transportStreamTimestamp"===t.info}function Is(t){if(8===t.data.byteLength){var i=new Uint8Array(t.data),e=1&i[3],s=(i[4]<<23)+(i[5]<<15)+(i[6]<<7)+i[7];return s/=45,e&&(s+=47721858.84),Math.round(s)}}function Ms(t){for(var i=Ts(t),e=0;e<i.length;e++){var s=i[e];if(Cs(s))return Is(s)}}var Ds=function(t){return t.audioId3="org.id3",t.dateRange="com.apple.quicktime.HLS",t.emsg="https://aomedia.org/emsg/ID3",t.misbklv="urn:misb:KLV:bin:1910.1",t}({});function Bs(t,i){return void 0===t&&(t=""),void 0===i&&(i=9e4),{type:t,id:-1,pid:-1,inputTimeScale:i,sequenceNumber:-1,samples:[],dropped:0}}var Ns=function(){function t(){this.it=void 0,this.et=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}var i=t.prototype;return i.resetInitSegment=function(t,i,e,s){this.et={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}},i.resetTimeStamp=function(t){this.initPTS=t,this.resetContiguity()},i.resetContiguity=function(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0},i.canParse=function(t,i){return!1},i.appendFrame=function(t,i,e){},i.demux=function(t,i){this.cachedData&&(t=Dt(this.cachedData,t),this.cachedData=null);var e,s=is(t,0),n=s?s.length:0,o=this.it,r=this.et,a=s?Ms(s):void 0,h=t.length;for((null===this.basePTS||0===this.frameIndex&&S(a))&&(this.basePTS=Rs(a,i,this.initPTS),this.lastPTS=this.basePTS),null===this.lastPTS&&(this.lastPTS=this.basePTS),s&&s.length>0&&r.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:s,type:Ds.audioId3,duration:Number.POSITIVE_INFINITY});n<h;){if(this.canParse(t,n)){var l=this.appendFrame(o,t,n);l?(this.frameIndex++,this.lastPTS=l.sample.pts,e=n+=l.length):n=h}else fs(t,n)?(s=is(t,n),r.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:s,type:Ds.audioId3,duration:Number.POSITIVE_INFINITY}),e=n+=s.length):n++;if(n===h&&e!==h){var u=t.slice(e);this.cachedData?this.cachedData=Dt(this.cachedData,u):this.cachedData=u}}return{audioTrack:o,videoTrack:Bs(),id3Track:r,textTrack:Bs()}},i.demuxSampleAes=function(t,i,e){return Promise.reject(new Error("["+this+"] This demuxer does not support Sample-AES decryption"))},i.flush=function(t){var i=this.cachedData;return i&&(this.cachedData=null,this.demux(i,0)),{audioTrack:this.it,videoTrack:Bs(),id3Track:this.et,textTrack:Bs()}},i.destroy=function(){this.cachedData=null,this.it=this.et=void 0},t}(),Rs=function(t,i,e){return S(t)?90*t:9e4*i+(e?9e4*e.baseTime/e.timescale:0)},Us=null,Ps=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],Os=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],Ls=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],zs=[0,1,1,4];function Fs(t,i,e,s,n){if(!(e+24>i.length)){var o=Gs(i,e);if(o&&e+o.frameLength<=i.length){var r=s+n*(9e4*o.samplesPerFrame/o.sampleRate),a={unit:i.subarray(e,e+o.frameLength),pts:r,dts:r};return t.config=[],t.channelCount=o.channelCount,t.samplerate=o.sampleRate,t.samples.push(a),{sample:a,length:o.frameLength,missing:0}}}}function Gs(t,i){var e=t[i+1]>>3&3,s=t[i+1]>>1&3,n=t[i+2]>>4&15,o=t[i+2]>>2&3;if(1!==e&&0!==n&&15!==n&&3!==o){var r=t[i+2]>>1&1,a=t[i+3]>>6,h=1e3*Ps[14*(3===e?3-s:3===s?3:4)+n-1],l=Os[3*(3===e?0:2===e?1:2)+o],u=3===a?1:2,d=Ls[e][s],c=zs[s],v=8*d*c,f=Math.floor(d*h/l+r)*c;if(null===Us){var p=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Us=p?parseInt(p[1]):0}return!!Us&&Us<=87&&2===s&&h>=224e3&&0===a&&(t[i+3]=128|t[i+3]),{sampleRate:l,channelCount:u,frameLength:f,samplesPerFrame:v}}}function Hs(t,i){return!(255!==t[i]||224&~t[i+1]||!(6&t[i+1]))}function Vs(t,i){return i+1<t.length&&Hs(t,i)}function Ys(t,i){var e=4;return Hs(t,i)&&e<=t.length-i}function Qs(t,i){if(i+1<t.length&&Hs(t,i)){var e=4,s=Gs(t,i),n=e;null!=s&&s.frameLength&&(n=s.frameLength);var o=i+n;return o===t.length||Vs(t,o)}return!1}var Js=function(t){function i(i,e){var s;return(s=t.call(this)||this).observer=void 0,s.config=void 0,s.observer=i,s.config=e,s}h(i,t);var e=i.prototype;return e.resetInitSegment=function(i,e,s,n){t.prototype.resetInitSegment.call(this,i,e,s,n),this.it={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:e,duration:n,inputTimeScale:9e4,dropped:0}},i.probe=function(t,i){if(!t)return!1;var e=is(t,0),s=(null==e?void 0:e.length)||0;if(Qs(t,s))return!1;for(var n=t.length;s<n;s++)if(ls(t,s))return i.log("ADTS sync word found !"),!0;return!1},e.canParse=function(t,i){return hs(t,i)},e.appendFrame=function(t,i,e){us(t,this.observer,i,e,t.manifestCodec);var s=vs(t,i,e,this.basePTS,this.frameIndex);if(s&&0===s.missing)return s},i}(Ns),Ws=function(t,i){var e=0,s=5;i+=s;for(var n=new Uint32Array(1),o=new Uint32Array(1),r=new Uint8Array(1);s>0;){r[0]=t[i];var a=Math.min(s,8),h=8-a;o[0]=4278190080>>>24+h<<h,n[0]=(r[0]&o[0])>>h,e=e?e<<a|n[0]:n[0],i+=1,s-=a}return e},Zs=function(t){function i(){return t.apply(this,arguments)||this}h(i,t);var e=i.prototype;return e.resetInitSegment=function(i,e,s,n){t.prototype.resetInitSegment.call(this,i,e,s,n),this.it={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:e,duration:n,inputTimeScale:9e4,dropped:0}},i.probe=function(t){if(!t)return!1;var i=is(t,0),e=(null==i?void 0:i.length)||0;if(i&&11===t[e]&&119===t[e+1]&&void 0!==Ms(i)&&Ws(t,e)<=16)return!1;for(var s=t.length;e<s;e++)if(Qs(t,e))return J.log("MPEG Audio sync word found !"),!0;return!1},e.canParse=function(t,i){return Ys(t,i)},e.appendFrame=function(t,i,e){if(null!==this.basePTS)return Fs(t,i,e,this.basePTS,this.frameIndex)},i}(Ns),qs=function(){function t(t,i,e){this.subtle=void 0,this.aesIV=void 0,this.aesMode=void 0,this.subtle=t,this.aesIV=i,this.aesMode=e}return t.prototype.decrypt=function(t,i){switch(this.aesMode){case he.cbc:return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},i,t);case he.ctr:return this.subtle.decrypt({name:"AES-CTR",counter:this.aesIV,length:64},i,t);default:throw new Error("[AESCrypto] invalid aes mode "+this.aesMode)}},t}();function Xs(t){var i=t.byteLength,e=i&&new DataView(t.buffer).getUint8(i-1);return e?t.slice(0,i-e):t}var Ks=function(){function t(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}var i=t.prototype;return i.uint8ArrayToUint32Array_=function(t){for(var i=new DataView(t),e=new Uint32Array(4),s=0;s<4;s++)e[s]=i.getUint32(4*s);return e},i.initTable=function(){var t=this.sBox,i=this.invSBox,e=this.subMix,s=e[0],n=e[1],o=e[2],r=e[3],a=this.invSubMix,h=a[0],l=a[1],u=a[2],d=a[3],c=new Uint32Array(256),v=0,f=0,p=0;for(p=0;p<256;p++)c[p]=p<128?p<<1:p<<1^283;for(p=0;p<256;p++){var m=f^f<<1^f<<2^f<<3^f<<4;m=m>>>8^255&m^99,t[v]=m,i[m]=v;var g=c[v],A=c[g],b=c[A],y=257*c[m]^16843008*m;s[v]=y<<24|y>>>8,n[v]=y<<16|y>>>16,o[v]=y<<8|y>>>24,r[v]=y,y=16843009*b^65537*A^257*g^16843008*v,h[m]=y<<24|y>>>8,l[m]=y<<16|y>>>16,u[m]=y<<8|y>>>24,d[m]=y,v?(v=g^c[c[c[b^g]]],f^=c[c[f]]):v=f=1}},i.expandKey=function(t){for(var i=this.uint8ArrayToUint32Array_(t),e=!0,s=0;s<i.length&&e;)e=i[s]===this.key[s],s++;if(!e){this.key=i;var n=this.keySize=i.length;if(4!==n&&6!==n&&8!==n)throw new Error("Invalid aes key size="+n);var o,r,a,h,l=this.ksRows=4*(n+6+1),u=this.keySchedule=new Uint32Array(l),d=this.invKeySchedule=new Uint32Array(l),c=this.sBox,v=this.rcon,f=this.invSubMix,p=f[0],m=f[1],g=f[2],A=f[3];for(o=0;o<l;o++)o<n?a=u[o]=i[o]:(h=a,o%n==0?(h=c[(h=h<<8|h>>>24)>>>24]<<24|c[h>>>16&255]<<16|c[h>>>8&255]<<8|c[255&h],h^=v[o/n|0]<<24):n>6&&o%n==4&&(h=c[h>>>24]<<24|c[h>>>16&255]<<16|c[h>>>8&255]<<8|c[255&h]),u[o]=a=(u[o-n]^h)>>>0);for(r=0;r<l;r++)o=l-r,h=3&r?u[o]:u[o-4],d[r]=r<4||o<=4?h:p[c[h>>>24]]^m[c[h>>>16&255]]^g[c[h>>>8&255]]^A[c[255&h]],d[r]=d[r]>>>0}},i.networkToHostOrderSwap=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},i.decrypt=function(t,i,e){for(var s,n,o,r,a,h,l,u,d,c,v,f,p,m,g=this.keySize+6,A=this.invKeySchedule,b=this.invSBox,y=this.invSubMix,w=y[0],_=y[1],j=y[2],x=y[3],k=this.uint8ArrayToUint32Array_(e),E=k[0],S=k[1],T=k[2],C=k[3],I=new Int32Array(t),M=new Int32Array(I.length),D=this.networkToHostOrderSwap;i<I.length;){for(d=D(I[i]),c=D(I[i+1]),v=D(I[i+2]),f=D(I[i+3]),a=d^A[0],h=f^A[1],l=v^A[2],u=c^A[3],p=4,m=1;m<g;m++)s=w[a>>>24]^_[h>>16&255]^j[l>>8&255]^x[255&u]^A[p],n=w[h>>>24]^_[l>>16&255]^j[u>>8&255]^x[255&a]^A[p+1],o=w[l>>>24]^_[u>>16&255]^j[a>>8&255]^x[255&h]^A[p+2],r=w[u>>>24]^_[a>>16&255]^j[h>>8&255]^x[255&l]^A[p+3],a=s,h=n,l=o,u=r,p+=4;s=b[a>>>24]<<24^b[h>>16&255]<<16^b[l>>8&255]<<8^b[255&u]^A[p],n=b[h>>>24]<<24^b[l>>16&255]<<16^b[u>>8&255]<<8^b[255&a]^A[p+1],o=b[l>>>24]<<24^b[u>>16&255]<<16^b[a>>8&255]<<8^b[255&h]^A[p+2],r=b[u>>>24]<<24^b[a>>16&255]<<16^b[h>>8&255]<<8^b[255&l]^A[p+3],M[i]=D(s^E),M[i+1]=D(r^S),M[i+2]=D(o^T),M[i+3]=D(n^C),E=d,S=c,T=v,C=f,i+=4}return M.buffer},t}(),$s=function(){function t(t,i,e){this.subtle=void 0,this.key=void 0,this.aesMode=void 0,this.subtle=t,this.key=i,this.aesMode=e}return t.prototype.expandKey=function(){var t=tn(this.aesMode);return this.subtle.importKey("raw",this.key,{name:t},!1,["encrypt","decrypt"])},t}();function tn(t){switch(t){case he.cbc:return"AES-CBC";case he.ctr:return"AES-CTR";default:throw new Error("[FastAESKey] invalid aes mode "+t)}}var en=16,sn=function(){function t(t,i){var e=(void 0===i?{}:i).removePKCS7Padding,s=void 0===e||e;if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.enableSoftwareAES=void 0,this.enableSoftwareAES=t.enableSoftwareAES,this.removePKCS7Padding=s,s)try{var n=self.crypto;n&&(this.subtle=n.subtle||n.webkitSubtle)}catch(t){}this.useSoftware=!this.subtle}var i=t.prototype;return i.destroy=function(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null},i.isSync=function(){return this.useSoftware},i.flush=function(){var t=this.currentResult,i=this.remainderData;if(!t||i)return this.reset(),null;var e=new Uint8Array(t);return this.reset(),this.removePKCS7Padding?Xs(e):e},i.reset=function(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)},i.decrypt=function(t,i,e,s){var n=this;return this.useSoftware?new Promise((function(o,r){var a=ArrayBuffer.isView(t)?t:new Uint8Array(t);n.softwareDecrypt(a,i,e,s);var h=n.flush();h?o(h.buffer):r(new Error("[softwareDecrypt] Failed to decrypt data"))})):this.webCryptoDecrypt(new Uint8Array(t),i,e,s)},i.softwareDecrypt=function(t,i,e,s){var n=this.currentIV,o=this.currentResult,r=this.remainderData;if(s!==he.cbc||16!==i.byteLength)return J.warn("SoftwareDecrypt: can only handle AES-128-CBC"),null;this.logOnce("JS AES decrypt"),r&&(t=Dt(r,t),this.remainderData=null);var a=this.getValidChunk(t);if(!a.length)return null;n&&(e=n);var h=this.softwareDecrypter;h||(h=this.softwareDecrypter=new Ks),h.expandKey(i);var l=o;return this.currentResult=h.decrypt(a.buffer,0,e),this.currentIV=a.slice(-16).buffer,l||null},i.webCryptoDecrypt=function(t,i,e,s){var n=this;if(this.key!==i||!this.fastAesKey){if(!this.subtle)return Promise.resolve(this.onWebCryptoError(t,i,e,s));this.key=i,this.fastAesKey=new $s(this.subtle,i,s)}return this.fastAesKey.expandKey().then((function(i){return n.subtle?(n.logOnce("WebCrypto AES decrypt"),new qs(n.subtle,new Uint8Array(e),s).decrypt(t.buffer,i)):Promise.reject(new Error("web crypto not initialized"))})).catch((function(o){return J.warn("[decrypter]: WebCrypto Error, disable WebCrypto API, "+o.name+": "+o.message),n.onWebCryptoError(t,i,e,s)}))},i.onWebCryptoError=function(t,i,e,s){var n=this.enableSoftwareAES;if(n){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(t,i,e,s);var o=this.flush();if(o)return o.buffer}throw new Error("WebCrypto"+(n?" and softwareDecrypt":"")+": failed to decrypt data")},i.getValidChunk=function(t){var i=t,e=t.length-t.length%en;return e!==t.length&&(i=t.slice(0,e),this.remainderData=t.slice(e)),i},i.logOnce=function(t){this.logEnabled&&(J.log("[decrypter]: "+t),this.logEnabled=!1)},t}(),nn=/\/emsg[-/]ID3/i,on=function(){function t(t,i){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=i}var i=t.prototype;return i.resetTimeStamp=function(){},i.resetInitSegment=function(t,i,e,s){var n=this.videoTrack=Bs("video",1),o=this.audioTrack=Bs("audio",1),r=this.txtTrack=Bs("text",1);if(this.id3Track=Bs("id3",1),this.timeOffset=0,null!=t&&t.byteLength){var a=bt(t);if(a.video){var h=a.video,l=h.id,u=h.timescale,d=h.codec,c=h.supplemental;n.id=l,n.timescale=r.timescale=u,n.codec=d,n.supplemental=c}if(a.audio){var v=a.audio,f=v.id,p=v.timescale,m=v.codec;o.id=f,o.timescale=p,o.codec=m}r.id=lt.text,n.sampleDuration=0,n.duration=o.duration=s}},i.resetContiguity=function(){this.remainderData=null},t.probe=function(t){return mt(t)},i.demux=function(t,i){this.timeOffset=i;var e=t,s=this.videoTrack,n=this.txtTrack;if(this.config.progressive){this.remainderData&&(e=Dt(this.remainderData,t));var o=Mt(e);this.remainderData=o.remainder,s.samples=o.valid||new Uint8Array}else s.samples=e;var r=this.extractID3Track(s,i);return n.samples=Bt(i,s),{videoTrack:s,audioTrack:this.audioTrack,id3Track:r,textTrack:this.txtTrack}},i.flush=function(){var t=this.timeOffset,i=this.videoTrack,e=this.txtTrack;i.samples=this.remainderData||new Uint8Array,this.remainderData=null;var s=this.extractID3Track(i,this.timeOffset);return e.samples=Bt(t,i),{videoTrack:i,audioTrack:Bs(),id3Track:s,textTrack:Bs()}},i.extractID3Track=function(t,i){var e=this,s=this.id3Track;if(t.samples.length){var n=gt(t.samples,["emsg"]);n&&n.forEach((function(t){var n=Ot(t);if(nn.test(n.schemeIdUri)){var o=rn(n,i),r=4294967295===n.eventDuration?Number.POSITIVE_INFINITY:n.eventDuration/n.timeScale;r<=.001&&(r=Number.POSITIVE_INFINITY);var a=n.payload;s.samples.push({data:a,len:a.byteLength,dts:o,pts:o,type:Ds.emsg,duration:r})}else if(e.config.enableEmsgKLVMetadata&&n.schemeIdUri.startsWith("urn:misb:KLV:bin:1910.1")){var h=rn(n,i);s.samples.push({data:n.payload,len:n.payload.byteLength,dts:h,pts:h,type:Ds.misbklv,duration:Number.POSITIVE_INFINITY})}}))}return s},i.demuxSampleAes=function(t,i,e){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))},i.destroy=function(){this.config=null,this.remainderData=null,this.videoTrack=this.audioTrack=this.id3Track=this.txtTrack=void 0},t}();function rn(t,i){return S(t.presentationTime)?t.presentationTime/t.timeScale:i+t.presentationTimeDelta/t.timeScale}var an=function(){function t(t,i,e){this.keyData=void 0,this.decrypter=void 0,this.keyData=e,this.decrypter=new sn(i,{removePKCS7Padding:!1})}var i=t.prototype;return i.decryptBuffer=function(t){return this.decrypter.decrypt(t,this.keyData.key.buffer,this.keyData.iv.buffer,he.cbc)},i.decryptAacSample=function(t,i,e){var s=this,n=t[i].unit;if(!(n.length<=16)){var o=n.subarray(16,n.length-n.length%16),r=o.buffer.slice(o.byteOffset,o.byteOffset+o.length);this.decryptBuffer(r).then((function(o){var r=new Uint8Array(o);n.set(r,16),s.decrypter.isSync()||s.decryptAacSamples(t,i+1,e)}))}},i.decryptAacSamples=function(t,i,e){for(;;i++){if(i>=t.length)return void e();if(!(t[i].unit.length<32||(this.decryptAacSample(t,i,e),this.decrypter.isSync())))return}},i.getAvcEncryptedData=function(t){for(var i=16*Math.floor((t.length-48)/160)+16,e=new Int8Array(i),s=0,n=32;n<t.length-16;n+=160,s+=16)e.set(t.subarray(n,n+16),s);return e},i.getAvcDecryptedUnit=function(t,i){for(var e=new Uint8Array(i),s=0,n=32;n<t.length-16;n+=160,s+=16)t.set(e.subarray(s,s+16),n);return t},i.decryptAvcSample=function(t,i,e,s,n){var o=this,r=Pt(n.data),a=this.getAvcEncryptedData(r);this.decryptBuffer(a.buffer).then((function(a){n.data=o.getAvcDecryptedUnit(r,a),o.decrypter.isSync()||o.decryptAvcSamples(t,i,e+1,s)}))},i.decryptAvcSamples=function(t,i,e,s){if(t instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;i++,e=0){if(i>=t.length)return void s();for(var n=t[i].units;!(e>=n.length);e++){var o=n[e];if(!(o.data.length<=48||1!==o.type&&5!==o.type||(this.decryptAvcSample(t,i,e,s,o),this.decrypter.isSync())))return}}},t}(),hn=function(){function t(){this.VideoSample=null}var i=t.prototype;return i.createVideoSample=function(t,i,e){return{key:t,frame:!1,pts:i,dts:e,units:[],length:0}},i.getLastNalUnit=function(t){var i,e,s=this.VideoSample;if(s&&0!==s.units.length||(s=t[t.length-1]),null!=(i=s)&&i.units){var n=s.units;e=n[n.length-1]}return e},i.pushAccessUnit=function(t,i){if(t.units.length&&t.frame){if(void 0===t.pts){var e=i.samples,s=e.length;if(!s)return void i.dropped++;var n=e[s-1];t.pts=n.pts,t.dts=n.dts}i.samples.push(t)}},i.parseNALu=function(t,i,e){var s,n,o=i.byteLength,r=t.naluState||0,a=r,h=[],l=0,u=-1,d=0;for(-1===r&&(u=0,d=this.getNALuType(i,0),r=0,l=1);l<o;)if(s=i[l++],r)if(1!==r)if(s)if(1===s){if(n=l-r-1,u>=0){var c={data:i.subarray(u,n),type:d};h.push(c)}else{var v=this.getLastNalUnit(t.samples);v&&(a&&l<=4-a&&v.state&&(v.data=v.data.subarray(0,v.data.byteLength-a)),n>0&&(v.data=Dt(v.data,i.subarray(0,n)),v.state=0))}l<o?(u=l,d=this.getNALuType(i,l),r=0):r=-1}else r=0;else r=3;else r=s?0:2;else r=s?0:1;if(u>=0&&r>=0){var f={data:i.subarray(u,o),type:d,state:r};h.push(f)}if(0===h.length){var p=this.getLastNalUnit(t.samples);p&&(p.data=Dt(p.data,i))}return t.naluState=r,h},t}(),ln=function(){function t(t){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}var i=t.prototype;return i.loadWord=function(){var t=this.data,i=this.bytesAvailable,e=t.byteLength-i,s=new Uint8Array(4),n=Math.min(4,i);if(0===n)throw new Error("no bytes available");s.set(t.subarray(e,e+n)),this.word=new DataView(s.buffer).getUint32(0),this.bitsAvailable=8*n,this.bytesAvailable-=n},i.skipBits=function(t){var i;t=Math.min(t,8*this.bytesAvailable+this.bitsAvailable),this.bitsAvailable>t?(this.word<<=t,this.bitsAvailable-=t):(t-=this.bitsAvailable,t-=(i=t>>3)<<3,this.bytesAvailable-=i,this.loadWord(),this.word<<=t,this.bitsAvailable-=t)},i.readBits=function(t){var i=Math.min(this.bitsAvailable,t),e=this.word>>>32-i;if(t>32&&J.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=i,this.bitsAvailable>0)this.word<<=i;else{if(!(this.bytesAvailable>0))throw new Error("no bits available");this.loadWord()}return(i=t-i)>0&&this.bitsAvailable?e<<i|this.readBits(i):e},i.skipLZ=function(){var t;for(t=0;t<this.bitsAvailable;++t)if(this.word&2147483648>>>t)return this.word<<=t,this.bitsAvailable-=t,t;return this.loadWord(),t+this.skipLZ()},i.skipUEG=function(){this.skipBits(1+this.skipLZ())},i.skipEG=function(){this.skipBits(1+this.skipLZ())},i.readUEG=function(){var t=this.skipLZ();return this.readBits(t+1)-1},i.readEG=function(){var t=this.readUEG();return 1&t?1+t>>>1:-1*(t>>>1)},i.readBoolean=function(){return 1===this.readBits(1)},i.readUByte=function(){return this.readBits(8)},i.readUShort=function(){return this.readBits(16)},i.readUInt=function(){return this.readBits(32)},t}(),un=function(t){function i(){return t.apply(this,arguments)||this}h(i,t);var e=i.prototype;return e.parsePES=function(t,i,e,s){var n,o=this,r=this.parseNALu(t,e.data,s),a=this.VideoSample,h=!1;e.data=null,a&&r.length&&!t.audFound&&(this.pushAccessUnit(a,t),a=this.VideoSample=this.createVideoSample(!1,e.pts,e.dts)),r.forEach((function(s){var r,l;switch(s.type){case 1:var u=!1;n=!0;var d,c=s.data;if(h&&c.length>4){var v=o.readSliceType(c);2!==v&&4!==v&&7!==v&&9!==v||(u=!0)}u&&null!=(d=a)&&d.frame&&!a.key&&(o.pushAccessUnit(a,t),a=o.VideoSample=null),a||(a=o.VideoSample=o.createVideoSample(!0,e.pts,e.dts)),a.frame=!0,a.key=u;break;case 5:n=!0,null!=(r=a)&&r.frame&&!a.key&&(o.pushAccessUnit(a,t),a=o.VideoSample=null),a||(a=o.VideoSample=o.createVideoSample(!0,e.pts,e.dts)),a.key=!0,a.frame=!0;break;case 6:n=!0,Ut(s.data,1,e.pts,i.samples);break;case 7:var f,p;n=!0,h=!0;var m=s.data,g=o.readSPS(m);if(!t.sps||t.width!==g.width||t.height!==g.height||(null==(f=t.pixelRatio)?void 0:f[0])!==g.pixelRatio[0]||(null==(p=t.pixelRatio)?void 0:p[1])!==g.pixelRatio[1]){t.width=g.width,t.height=g.height,t.pixelRatio=g.pixelRatio,t.sps=[m];for(var A=m.subarray(1,4),b="avc1.",y=0;y<3;y++){var w=A[y].toString(16);w.length<2&&(w="0"+w),b+=w}t.codec=b}break;case 8:n=!0,t.pps=[s.data];break;case 9:n=!0,t.audFound=!0,null!=(l=a)&&l.frame&&(o.pushAccessUnit(a,t),a=null),a||(a=o.VideoSample=o.createVideoSample(!1,e.pts,e.dts));break;case 12:n=!0;break;default:n=!1}a&&n&&a.units.push(s)})),s&&a&&(this.pushAccessUnit(a,t),this.VideoSample=null)},e.getNALuType=function(t,i){return 31&t[i]},e.readSliceType=function(t){var i=new ln(t);return i.readUByte(),i.readUEG(),i.readUEG()},e.skipScalingList=function(t,i){for(var e=8,s=8,n=0;n<t;n++)0!==s&&(s=(e+i.readEG()+256)%256),e=0===s?e:s},e.readSPS=function(t){var i,e,s,n=new ln(t),o=0,r=0,a=0,h=0,l=n.readUByte.bind(n),u=n.readBits.bind(n),d=n.readUEG.bind(n),c=n.readBoolean.bind(n),v=n.skipBits.bind(n),f=n.skipEG.bind(n),p=n.skipUEG.bind(n),m=this.skipScalingList.bind(this);l();var g=l();if(u(5),v(3),l(),p(),100===g||110===g||122===g||244===g||44===g||83===g||86===g||118===g||128===g){var A=d();if(3===A&&v(1),p(),p(),v(1),c())for(e=3!==A?8:12,s=0;s<e;s++)c()&&m(s<6?16:64,n)}p();var b=d();if(0===b)d();else if(1===b)for(v(1),f(),f(),i=d(),s=0;s<i;s++)f();p(),v(1);var y=d(),w=d(),_=u(1);0===_&&v(1),v(1),c()&&(o=d(),r=d(),a=d(),h=d());var j=[1,1];if(c()&&c())switch(l()){case 1:j=[1,1];break;case 2:j=[12,11];break;case 3:j=[10,11];break;case 4:j=[16,11];break;case 5:j=[40,33];break;case 6:j=[24,11];break;case 7:j=[20,11];break;case 8:j=[32,11];break;case 9:j=[80,33];break;case 10:j=[18,11];break;case 11:j=[15,11];break;case 12:j=[64,33];break;case 13:j=[160,99];break;case 14:j=[4,3];break;case 15:j=[3,2];break;case 16:j=[2,1];break;case 255:j=[l()<<8|l(),l()<<8|l()]}return{width:Math.ceil(16*(y+1)-2*o-2*r),height:(2-_)*(w+1)*16-(_?2:4)*(a+h),pixelRatio:j}},i}(hn),dn=188,cn=function(){function t(t,i,e,s){this.logger=void 0,this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.st=-1,this.nt=void 0,this.it=void 0,this.et=void 0,this.ot=void 0,this.aacOverFlow=null,this.remainderData=null,this.videoParser=void 0,this.observer=t,this.config=i,this.typeSupported=e,this.logger=s,this.videoParser=null}t.probe=function(i,e){var s=t.syncOffset(i);return s>0&&e.warn("MPEG2-TS detected but first sync word found @ offset "+s),-1!==s},t.syncOffset=function(t){for(var i=t.length,e=Math.min(5*dn,i-dn)+1,s=0;s<e;){for(var n=!1,o=-1,r=0,a=s;a<i;a+=dn){if(71!==t[a]||i-a!==dn&&71!==t[a+dn]){if(r)return-1;break}if(r++,-1===o&&0!==(o=a)&&(e=Math.min(o+99*dn,t.length-dn)+1),n||(n=0===vn(t,a)),n&&r>1&&(0===o&&r>2||a+dn>e))return o}s++}return-1},t.createTrack=function(t,i){return{container:"video"===t||"audio"===t?"video/mp2t":void 0,type:t,id:lt[t],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===t?i:void 0}};var i=t.prototype;return i.resetInitSegment=function(i,e,s,n){this.pmtParsed=!1,this.st=-1,this.nt=t.createTrack("video"),this.nt.duration=n,this.it=t.createTrack("audio",n),this.et=t.createTrack("id3"),this.ot=t.createTrack("text"),this.it.segmentCodec="aac",this.aacOverFlow=null,this.remainderData=null,this.audioCodec=e,this.videoCodec=s},i.resetTimeStamp=function(){},i.resetContiguity=function(){var t=this.it,i=this.nt,e=this.et;t&&(t.pesData=null),i&&(i.pesData=null),e&&(e.pesData=null),this.aacOverFlow=null,this.remainderData=null},i.demux=function(i,e,s,n){var o;void 0===s&&(s=!1),void 0===n&&(n=!1),s||(this.sampleAes=null);var r=this.nt,a=this.it,h=this.et,l=this.ot,u=r.pid,d=r.pesData,c=a.pid,v=h.pid,f=a.pesData,p=h.pesData,m=null,g=this.pmtParsed,A=this.st,b=i.length;if(this.remainderData&&(b=(i=Dt(this.remainderData,i)).length,this.remainderData=null),b<dn&&!n)return this.remainderData=i,{audioTrack:a,videoTrack:r,id3Track:h,textTrack:l};var y=Math.max(0,t.syncOffset(i));(b-=(b-y)%dn)<i.byteLength&&!n&&(this.remainderData=new Uint8Array(i.buffer,b,i.buffer.byteLength-b));for(var w=0,_=y;_<b;_+=dn)if(71===i[_]){var j=!!(64&i[_+1]),x=vn(i,_),k=void 0;if((48&i[_+3])>>4>1){if((k=_+5+i[_+4])===_+dn)continue}else k=_+4;switch(x){case u:j&&(d&&(o=An(d,this.logger))&&(null===this.videoParser&&"avc"===r.segmentCodec&&(this.videoParser=new un),null!==this.videoParser&&this.videoParser.parsePES(r,l,o,!1)),d={data:[],size:0}),d&&(d.data.push(i.subarray(k,_+dn)),d.size+=_+dn-k);break;case c:if(j){if(f&&(o=An(f,this.logger)))switch(a.segmentCodec){case"aac":this.parseAACPES(a,o);break;case"mp3":this.parseMPEGPES(a,o)}f={data:[],size:0}}f&&(f.data.push(i.subarray(k,_+dn)),f.size+=_+dn-k);break;case v:j&&(p&&(o=An(p,this.logger))&&this.parseID3PES(h,o),p={data:[],size:0}),p&&(p.data.push(i.subarray(k,_+dn)),p.size+=_+dn-k);break;case 0:j&&(k+=i[k]+1),A=this.st=fn(i,k);break;case A:j&&(k+=i[k]+1);var E=pn(i,k,this.typeSupported,s,this.observer,this.logger);(u=E.videoPid)>0&&(r.pid=u,r.segmentCodec=E.segmentVideoCodec),(c=E.audioPid)>0&&(a.pid=c,a.segmentCodec=E.segmentAudioCodec),(v=E.id3Pid)>0&&(h.pid=v),null===m||g||(this.logger.warn("MPEG-TS PMT found at "+_+" after unknown PID '"+m+"'. Backtracking to sync byte @"+y+" to parse all TS packets."),m=null,_=y-188),g=this.pmtParsed=!0;break;case 17:case 8191:break;default:m=x}}else w++;w>0&&mn(this.observer,new Error("Found "+w+" TS packet/s that do not start with 0x47"),void 0,this.logger),r.pesData=d,a.pesData=f,h.pesData=p;var S={audioTrack:a,videoTrack:r,id3Track:h,textTrack:l};return n&&this.extractRemainingSamples(S),S},i.flush=function(){var t,i=this.remainderData;return this.remainderData=null,t=i?this.demux(i,-1,!1,!0):{videoTrack:this.nt,audioTrack:this.it,id3Track:this.et,textTrack:this.ot},this.extractRemainingSamples(t),this.sampleAes?this.decrypt(t,this.sampleAes):t},i.extractRemainingSamples=function(t){var i,e=t.audioTrack,s=t.videoTrack,n=t.id3Track,o=t.textTrack,r=s.pesData,a=e.pesData,h=n.pesData;if(r&&(i=An(r,this.logger))?(null===this.videoParser&&"avc"===s.segmentCodec&&(this.videoParser=new un),null!==this.videoParser&&(this.videoParser.parsePES(s,o,i,!0),s.pesData=null)):s.pesData=r,a&&(i=An(a,this.logger))){switch(e.segmentCodec){case"aac":this.parseAACPES(e,i);break;case"mp3":this.parseMPEGPES(e,i)}e.pesData=null}else null!=a&&a.size&&this.logger.log("last AAC PES packet truncated,might overlap between fragments"),e.pesData=a;h&&(i=An(h,this.logger))?(this.parseID3PES(n,i),n.pesData=null):n.pesData=h},i.demuxSampleAes=function(t,i,e){var s=this.demux(t,e,!0,!this.config.progressive),n=this.sampleAes=new an(this.observer,this.config,i);return this.decrypt(s,n)},i.decrypt=function(t,i){return new Promise((function(e){var s=t.audioTrack,n=t.videoTrack;s.samples&&"aac"===s.segmentCodec?i.decryptAacSamples(s.samples,0,(function(){n.samples?i.decryptAvcSamples(n.samples,0,0,(function(){e(t)})):e(t)})):n.samples&&i.decryptAvcSamples(n.samples,0,0,(function(){e(t)}))}))},i.destroy=function(){this.observer&&this.observer.removeAllListeners(),this.config=this.logger=this.observer=null,this.aacOverFlow=this.videoParser=this.remainderData=this.sampleAes=null,this.nt=this.it=this.et=this.ot=void 0},i.parseAACPES=function(t,i){var e,s,n,o=0,r=this.aacOverFlow,a=i.data;if(r){this.aacOverFlow=null;var h=r.missing,l=r.sample.unit.byteLength;if(-1===h)a=Dt(r.sample.unit,a);else{var u=l-h;r.sample.unit.set(a.subarray(0,h),u),t.samples.push(r.sample),o=r.missing}}for(e=o,s=a.length;e<s-1&&!as(a,e);e++);if(e!==o){var d,c=e<s-1;if(d=c?"AAC PES did not start with ADTS header,offset:"+e:"No ADTS header found in AAC PES",mn(this.observer,new Error(d),c,this.logger),!c)return}if(us(t,this.observer,a,e,this.audioCodec),void 0!==i.pts)n=i.pts;else{if(!r)return void this.logger.warn("[tsdemuxer]: AAC PES unknown PTS");var v=ds(t.samplerate);n=r.sample.pts+v}for(var f,p=0;e<s;){if(e+=(f=vs(t,a,e,n,p)).length,f.missing){this.aacOverFlow=f;break}for(p++;e<s-1&&!as(a,e);e++);}},i.parseMPEGPES=function(t,i){var e=i.data,s=e.length,n=0,o=0,r=i.pts;if(void 0!==r)for(;o<s;)if(Vs(e,o)){var a=Fs(t,e,o,r,n);if(!a)break;o+=a.length,n++}else o++;else this.logger.warn("[tsdemuxer]: MPEG PES unknown PTS")},i.parseAC3PES=function(t,i){},i.parseID3PES=function(t,i){if(void 0!==i.pts){var e=r({},i,{type:this.nt?Ds.emsg:Ds.audioId3,duration:Number.POSITIVE_INFINITY});t.samples.push(e)}else this.logger.warn("[tsdemuxer]: ID3 PES unknown PTS")},t}();function vn(t,i){return((31&t[i+1])<<8)+t[i+2]}function fn(t,i){return(31&t[i+10])<<8|t[i+11]}function pn(t,i,e,s,n,o){var r={audioPid:-1,videoPid:-1,id3Pid:-1,segmentVideoCodec:"avc",segmentAudioCodec:"aac"},a=i+3+((15&t[i+1])<<8|t[i+2])-4;for(i+=12+((15&t[i+10])<<8|t[i+11]);i<a;){var h=vn(t,i),l=(15&t[i+3])<<8|t[i+4];switch(t[i]){case 207:if(!s){gn("ADTS AAC",o);break}case 15:-1===r.audioPid&&(r.audioPid=h);break;case 21:-1===r.id3Pid&&(r.id3Pid=h);break;case 219:if(!s){gn("H.264",o);break}case 27:-1===r.videoPid&&(r.videoPid=h);break;case 3:case 4:e.mpeg||e.mp3?-1===r.audioPid&&(r.audioPid=h,r.segmentAudioCodec="mp3"):o.log("MPEG audio found, not supported in this browser");break;case 193:if(!s){gn("AC-3",o);break}case 129:o.warn("AC-3 in M2TS support not included in build");break;case 6:if(-1===r.audioPid&&l>0)for(var u=i+5,d=l;d>2;){106===t[u]&&o.warn("AC-3 in M2TS support not included in build");var c=t[u+1]+2;u+=c,d-=c}break;case 194:case 135:return mn(n,new Error("Unsupported EC-3 in M2TS found"),void 0,o),r;case 36:return mn(n,new Error("Unsupported HEVC in M2TS found"),void 0,o),r}i+=l+5}return r}function mn(t,i,e,s){s.warn("parsing error: "+i.message),t.emit(D.ERROR,D.ERROR,{type:I.MEDIA_ERROR,details:M.FRAG_PARSING_ERROR,fatal:!1,levelRetry:e,error:i,reason:i.message})}function gn(t,i){i.log(t+" with AES-128-CBC encryption found in unencrypted stream")}function An(t,i){var e,s,n,o,r,a=0,h=t.data;if(!t||0===t.size)return null;for(;h[0].length<19&&h.length>1;)h[0]=Dt(h[0],h[1]),h.splice(1,1);if(1===((e=h[0])[0]<<16)+(e[1]<<8)+e[2]){if((s=(e[4]<<8)+e[5])&&s>t.size-6)return null;var l=e[7];192&l&&(o=536870912*(14&e[9])+4194304*(255&e[10])+16384*(254&e[11])+128*(255&e[12])+(254&e[13])/2,64&l?o-(r=536870912*(14&e[14])+4194304*(255&e[15])+16384*(254&e[16])+128*(255&e[17])+(254&e[18])/2)>54e5&&(i.warn(Math.round((o-r)/9e4)+"s delta between PTS and DTS, align them"),o=r):r=o);var u=(n=e[8])+9;if(t.size<=u)return null;t.size-=u;for(var d=new Uint8Array(t.size),c=0,v=h.length;c<v;c++){var f=(e=h[c]).byteLength;if(u){if(u>f){u-=f;continue}e=e.subarray(u),f-=u,u=0}d.set(e,a),a+=f}return s&&(s-=n+3),{data:d,pts:o,dts:r,len:s}}return null}var bn=function(){function t(){}return t.getSilentFrame=function(t,i){if("mp4a.40.2"===t){if(1===i)return new Uint8Array([0,200,0,128,35,128]);if(2===i)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===i)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===i)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===i)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===i)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===i)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===i)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===i)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}},t}(),yn=Math.pow(2,32)-1,wn=function(){function t(){}return t.init=function(){var i;for(i in t.types={avc1:[],avcC:[],hvc1:[],hvcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],dac3:[],"ac-3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},t.types)t.types.hasOwnProperty(i)&&(t.types[i]=[i.charCodeAt(0),i.charCodeAt(1),i.charCodeAt(2),i.charCodeAt(3)]);var e=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),s=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);t.HDLR_TYPES={video:e,audio:s};var n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),o=new Uint8Array([0,0,0,0,0,0,0,0]);t.STTS=t.STSC=t.STCO=o,t.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),t.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),t.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),t.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var r=new Uint8Array([105,115,111,109]),a=new Uint8Array([97,118,99,49]),h=new Uint8Array([0,0,0,1]);t.FTYP=t.box(t.types.ftyp,r,h,r,a),t.DINF=t.box(t.types.dinf,t.box(t.types.dref,n))},t.box=function(t){for(var i=8,e=arguments.length,s=new Array(e>1?e-1:0),n=1;n<e;n++)s[n-1]=arguments[n];for(var o=s.length,r=o;o--;)i+=s[o].byteLength;var a=new Uint8Array(i);for(a[0]=i>>24&255,a[1]=i>>16&255,a[2]=i>>8&255,a[3]=255&i,a.set(t,4),o=0,i=8;o<r;o++)a.set(s[o],i),i+=s[o].byteLength;return a},t.hdlr=function(i){return t.box(t.types.hdlr,t.HDLR_TYPES[i])},t.mdat=function(i){return t.box(t.types.mdat,i)},t.mdhd=function(i,e){e*=i;var s=Math.floor(e/(yn+1)),n=Math.floor(e%(yn+1));return t.box(t.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,i>>24&255,i>>16&255,i>>8&255,255&i,s>>24,s>>16&255,s>>8&255,255&s,n>>24,n>>16&255,n>>8&255,255&n,85,196,0,0]))},t.mdia=function(i){return t.box(t.types.mdia,t.mdhd(i.timescale||0,i.duration||0),t.hdlr(i.type),t.minf(i))},t.mfhd=function(i){return t.box(t.types.mfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i]))},t.minf=function(i){return"audio"===i.type?t.box(t.types.minf,t.box(t.types.smhd,t.SMHD),t.DINF,t.stbl(i)):t.box(t.types.minf,t.box(t.types.vmhd,t.VMHD),t.DINF,t.stbl(i))},t.moof=function(i,e,s){return t.box(t.types.moof,t.mfhd(i),t.traf(s,e))},t.moov=function(i){for(var e=i.length,s=[];e--;)s[e]=t.trak(i[e]);return t.box.apply(null,[t.types.moov,t.mvhd(i[0].timescale||0,i[0].duration||0)].concat(s).concat(t.mvex(i)))},t.mvex=function(i){for(var e=i.length,s=[];e--;)s[e]=t.trex(i[e]);return t.box.apply(null,[t.types.mvex].concat(s))},t.mvhd=function(i,e){e*=i;var s=Math.floor(e/(yn+1)),n=Math.floor(e%(yn+1)),o=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,i>>24&255,i>>16&255,i>>8&255,255&i,s>>24,s>>16&255,s>>8&255,255&s,n>>24,n>>16&255,n>>8&255,255&n,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t.box(t.types.mvhd,o)},t.sdtp=function(i){var e,s,n=i.samples||[],o=new Uint8Array(4+n.length);for(e=0;e<n.length;e++)s=n[e].flags,o[e+4]=s.dependsOn<<4|s.isDependedOn<<2|s.hasRedundancy;return t.box(t.types.sdtp,o)},t.stbl=function(i){return t.box(t.types.stbl,t.stsd(i),t.box(t.types.stts,t.STTS),t.box(t.types.stsc,t.STSC),t.box(t.types.stsz,t.STSZ),t.box(t.types.stco,t.STCO))},t.avc1=function(i){var e,s,n,o=[],r=[];for(e=0;e<i.sps.length;e++)n=(s=i.sps[e]).byteLength,o.push(n>>>8&255),o.push(255&n),o=o.concat(Array.prototype.slice.call(s));for(e=0;e<i.pps.length;e++)n=(s=i.pps[e]).byteLength,r.push(n>>>8&255),r.push(255&n),r=r.concat(Array.prototype.slice.call(s));var a=t.box(t.types.avcC,new Uint8Array([1,o[3],o[4],o[5],255,224|i.sps.length].concat(o).concat([i.pps.length]).concat(r))),h=i.width,l=i.height,u=i.pixelRatio[0],d=i.pixelRatio[1];return t.box(t.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,h>>8&255,255&h,l>>8&255,255&l,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),a,t.box(t.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),t.box(t.types.pasp,new Uint8Array([u>>24,u>>16&255,u>>8&255,255&u,d>>24,d>>16&255,d>>8&255,255&d])))},t.esds=function(t){var i=t.config;return new Uint8Array([0,0,0,0,3,25,0,1,0,4,17,64,21,0,0,0,0,0,0,0,0,0,0,0,5,2].concat(i,[6,1,2]))},t.audioStsd=function(t){var i=t.samplerate||0;return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount||0,0,16,0,0,0,0,i>>8&255,255&i,0,0])},t.mp4a=function(i){return t.box(t.types.mp4a,t.audioStsd(i),t.box(t.types.esds,t.esds(i)))},t.mp3=function(i){return t.box(t.types[".mp3"],t.audioStsd(i))},t.ac3=function(i){return t.box(t.types["ac-3"],t.audioStsd(i),t.box(t.types.dac3,i.config))},t.stsd=function(i){var e=i.segmentCodec;if("audio"===i.type){if("aac"===e)return t.box(t.types.stsd,t.STSD,t.mp4a(i));if("mp3"===e&&"mp3"===i.codec)return t.box(t.types.stsd,t.STSD,t.mp3(i))}else{if(!i.pps||!i.sps)throw new Error("video track missing pps or sps");if("avc"===e)return t.box(t.types.stsd,t.STSD,t.avc1(i))}throw new Error("unsupported "+i.type+" segment codec ("+e+"/"+i.codec+")")},t.tkhd=function(i){var e=i.id,s=(i.duration||0)*(i.timescale||0),n=i.width||0,o=i.height||0,r=Math.floor(s/(yn+1)),a=Math.floor(s%(yn+1));return t.box(t.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r,a>>24,a>>16&255,a>>8&255,255&a,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,n>>8&255,255&n,0,0,o>>8&255,255&o,0,0]))},t.traf=function(i,e){var s=t.sdtp(i),n=i.id,o=Math.floor(e/(yn+1)),r=Math.floor(e%(yn+1));return t.box(t.types.traf,t.box(t.types.tfhd,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n])),t.box(t.types.tfdt,new Uint8Array([1,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,r>>24,r>>16&255,r>>8&255,255&r])),t.trun(i,s.length+16+20+8+16+8+8),s)},t.trak=function(i){return i.duration=i.duration||4294967295,t.box(t.types.trak,t.tkhd(i),t.mdia(i))},t.trex=function(i){var e=i.id;return t.box(t.types.trex,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},t.trun=function(i,e){var s,n,o,r,a,h,l=i.samples||[],u=l.length,d=12+16*u,c=new Uint8Array(d);for(e+=8+d,c.set(["video"===i.type?1:0,0,15,1,u>>>24&255,u>>>16&255,u>>>8&255,255&u,e>>>24&255,e>>>16&255,e>>>8&255,255&e],0),s=0;s<u;s++)o=(n=l[s]).duration,r=n.size,a=n.flags,h=n.cts,c.set([o>>>24&255,o>>>16&255,o>>>8&255,255&o,r>>>24&255,r>>>16&255,r>>>8&255,255&r,a.isLeading<<2|a.dependsOn,a.isDependedOn<<6|a.hasRedundancy<<4|a.paddingValue<<1|a.isNonSync,61440&a.degradPrio,15&a.degradPrio,h>>>24&255,h>>>16&255,h>>>8&255,255&h],12+16*s);return t.box(t.types.trun,c)},t.initSegment=function(i){t.types||t.init();var e=t.moov(i);return Dt(t.FTYP,e)},t.hvc1=function(t){return new Uint8Array},t}();wn.types=void 0,wn.HDLR_TYPES=void 0,wn.STTS=void 0,wn.STSC=void 0,wn.STCO=void 0,wn.STSZ=void 0,wn.VMHD=void 0,wn.SMHD=void 0,wn.STSD=void 0,wn.FTYP=void 0,wn.DINF=void 0;var _n=9e4;function jn(t,i,e,s){var n=t*i*e;return Math.round(n)}function xn(t,i){return jn(t,1e3,1/_n)}var kn=1e4,En=1024,Sn=1152,Tn=1536,Cn=null,In=null;function Mn(t,i,e,s){return{duration:i,size:e,cts:s,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:t?2:1,isNonSync:t?0:1}}}var Dn=function(){function t(t,i,e,s){if(this.logger=void 0,this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this.rt=null,this.ht=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.videoTrackConfig=void 0,this.observer=t,this.config=i,this.typeSupported=e,this.logger=s,this.ISGenerated=!1,null===Cn){var n=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Cn=n?parseInt(n[1]):0}if(null===In){var o=navigator.userAgent.match(/Safari\/(\d+)/i);In=o?parseInt(o[1]):0}}var i=t.prototype;return i.destroy=function(){this.config=this.videoTrackConfig=this.rt=this.ht=null},i.resetTimeStamp=function(t){this.logger.log("[mp4-remuxer]: initPTS & initDTS reset"),this.rt=this.ht=t},i.resetNextTimestamp=function(){this.logger.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1},i.resetInitSegment=function(){this.logger.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1,this.videoTrackConfig=void 0},i.getVideoStartPts=function(t){var i=!1,e=t[0].pts,s=t.reduce((function(t,s){var n=s.pts,o=n-t;return o<-4294967296&&(i=!0,o=(n=Bn(n,e))-t),o>0?t:n}),e);return i&&this.logger.debug("PTS rollover detected"),s},i.remux=function(t,i,e,s,n,o,r,a){var h,l,u,d,c,v,f=n,p=n,m=t.pid>-1,g=i.pid>-1,A=i.samples.length,b=t.samples.length>0,y=r&&A>0||A>1;if((!m||b)&&(!g||y)||this.ISGenerated||r){if(this.ISGenerated){var w,_,j,x,k=this.videoTrackConfig;(k&&(i.width!==k.width||i.height!==k.height||(null==(w=i.pixelRatio)?void 0:w[0])!==(null==(_=k.pixelRatio)?void 0:_[0])||(null==(j=i.pixelRatio)?void 0:j[1])!==(null==(x=k.pixelRatio)?void 0:x[1]))||!k&&y||null===this.nextAudioPts&&b)&&this.resetInitSegment()}this.ISGenerated||(u=this.generateIS(t,i,n,o));var E,S=this.isVideoContiguous,T=-1;if(y&&(T=Nn(i.samples),!S&&this.config.forceKeyFrameOnDiscontinuity))if(v=!0,T>0){this.logger.warn("[mp4-remuxer]: Dropped "+T+" out of "+A+" video samples due to a missing keyframe");var C=this.getVideoStartPts(i.samples);i.samples=i.samples.slice(T),i.dropped+=T,E=p+=(i.samples[0].pts-C)/i.inputTimeScale}else-1===T&&(this.logger.warn("[mp4-remuxer]: No keyframe found out of "+A+" video samples"),v=!1);if(this.ISGenerated){if(b&&y){var I=this.getVideoStartPts(i.samples),M=(Bn(t.samples[0].pts,I)-I)/i.inputTimeScale;f+=Math.max(0,M),p+=Math.max(0,-M)}if(b){if(t.samplerate||(this.logger.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),u=this.generateIS(t,i,n,o)),l=this.remuxAudio(t,f,this.isAudioContiguous,o,g||y||a===N.AUDIO?p:void 0),y){var D=l?l.endPTS-l.startPTS:0;i.inputTimeScale||(this.logger.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),u=this.generateIS(t,i,n,o)),h=this.remuxVideo(i,p,S,D)}}else y&&(h=this.remuxVideo(i,p,S,0));h&&(h.firstKeyFrame=T,h.independent=-1!==T,h.firstKeyFramePTS=E)}}return this.ISGenerated&&this.rt&&this.ht&&(e.samples.length&&(c=Rn(e,n,this.rt,this.ht)),s.samples.length&&(d=Un(s,n,this.rt))),{audio:l,video:h,initSegment:u,independent:v,text:d,id3:c}},i.generateIS=function(t,i,e,s){var n,o,r,a=t.samples,h=i.samples,l=this.typeSupported,u={},d=this.rt,c=!d||s,v="audio/mp4";if(c&&(n=o=1/0),t.config&&a.length){switch(t.timescale=t.samplerate,t.segmentCodec){case"mp3":l.mpeg?(v="audio/mpeg",t.codec=""):l.mp3&&(t.codec="mp3");break;case"ac3":t.codec="ac-3"}u.audio={id:"audio",container:v,codec:t.codec,initSegment:"mp3"===t.segmentCodec&&l.mpeg?new Uint8Array(0):wn.initSegment([t]),metadata:{channelCount:t.channelCount}},c&&(r=t.inputTimeScale,d&&r===d.timescale?c=!1:n=o=a[0].pts-Math.round(r*e))}if(i.sps&&i.pps&&h.length){if(i.timescale=i.inputTimeScale,u.video={id:"main",container:"video/mp4",codec:i.codec,initSegment:wn.initSegment([i]),metadata:{width:i.width,height:i.height}},c)if(r=i.inputTimeScale,d&&r===d.timescale)c=!1;else{var f=this.getVideoStartPts(h),p=Math.round(r*e);o=Math.min(o,Bn(h[0].dts,f)-p),n=Math.min(n,f-p)}this.videoTrackConfig={width:i.width,height:i.height,pixelRatio:i.pixelRatio}}if(Object.keys(u).length)return this.ISGenerated=!0,c?(this.rt={baseTime:n,timescale:r},this.ht={baseTime:o,timescale:r}):n=r=void 0,{tracks:u,initPTS:n,timescale:r}},i.remuxVideo=function(t,i,e,s){var n,o,a=t.inputTimeScale,h=t.samples,l=[],u=h.length,d=this.rt,c=this.nextAvcDts,v=8,f=this.videoSampleDuration,p=Number.POSITIVE_INFINITY,m=Number.NEGATIVE_INFINITY,g=!1;if(!e||null===c){var A=i*a,b=h[0].pts-Bn(h[0].dts,h[0].pts);Cn&&null!==c&&Math.abs(A-b-c)<15e3?e=!0:c=A-b}for(var y=d.baseTime*a/d.timescale,w=0;w<u;w++){var _=h[w];_.pts=Bn(_.pts-y,c),_.dts=Bn(_.dts-y,c),_.dts<h[w>0?w-1:w].dts&&(g=!0)}g&&h.sort((function(t,i){var e=t.dts-i.dts,s=t.pts-i.pts;return e||s})),n=h[0].dts;var j=(o=h[h.length-1].dts)-n,x=j?Math.round(j/(u-1)):f||t.inputTimeScale/30;if(e){var k=n-c,E=k>x,S=k<-1;if((E||S)&&(E?this.logger.warn((t.segmentCodec||"").toUpperCase()+": "+xn(k)+" ms ("+k+"dts) hole between fragments detected at "+i.toFixed(3)):this.logger.warn((t.segmentCodec||"").toUpperCase()+": "+xn(-k)+" ms ("+k+"dts) overlapping between fragments detected at "+i.toFixed(3)),!S||c>=h[0].pts||Cn)){n=c;var T=h[0].pts-k;if(E)h[0].dts=n,h[0].pts=T;else for(var C=!0,B=0;B<h.length&&!(h[B].dts>T&&C);B++){var N=h[B].pts;if(h[B].dts-=k,h[B].pts-=k,B<h.length-1){var R=h[B+1].pts;C=R<=h[B].pts==R<=N}}this.logger.log("Video: Initial PTS/DTS adjusted: "+xn(T)+"/"+xn(n)+", delta: "+xn(k)+" ms")}}for(var U=0,P=0,O=n=Math.max(0,n),L=0;L<u;L++){for(var z=h[L],F=z.units,G=F.length,H=0,V=0;V<G;V++)H+=F[V].data.length;P+=H,U+=G,z.length=H,z.dts<O?(z.dts=O,O+=x/4|0||1):O=z.dts,p=Math.min(z.pts,p),m=Math.max(z.pts,m)}o=h[u-1].dts;var Y,Q=P+4*U+8;try{Y=new Uint8Array(Q)}catch(t){return void this.observer.emit(D.ERROR,D.ERROR,{type:I.MUX_ERROR,details:M.REMUX_ALLOC_ERROR,fatal:!1,error:t,bytes:Q,reason:"fail allocating video mdat "+Q})}var J=new DataView(Y.buffer);J.setUint32(0,Q),Y.set(wn.types.mdat,4);for(var W=!1,Z=Number.POSITIVE_INFINITY,q=Number.POSITIVE_INFINITY,X=Number.NEGATIVE_INFINITY,K=Number.NEGATIVE_INFINITY,$=0;$<u;$++){for(var tt=h[$],it=tt.units,et=0,st=0,nt=it.length;st<nt;st++){var ot=it[st],rt=ot.data,at=ot.data.byteLength;J.setUint32(v,at),v+=4,Y.set(rt,v),v+=at,et+=4+at}var ht=void 0;if($<u-1)f=h[$+1].dts-tt.dts,ht=h[$+1].pts-tt.pts;else{var lt=this.config,ut=$>0?tt.dts-h[$-1].dts:x;if(ht=$>0?tt.pts-h[$-1].pts:x,lt.stretchShortVideoTrack&&null!==this.nextAudioPts){var dt=Math.floor(lt.maxBufferHole*a),ct=(s?p+s*a:this.nextAudioPts)-tt.pts;ct>dt?((f=ct-ut)<0?f=ut:W=!0,this.logger.log("[mp4-remuxer]: It is approximately "+ct/90+" ms to the next segment; using duration "+f/90+" ms for the last video frame.")):f=ut}else f=ut}var vt=Math.round(tt.pts-tt.dts);Z=Math.min(Z,f),X=Math.max(X,f),q=Math.min(q,ht),K=Math.max(K,ht),l.push(Mn(tt.key,f,et,vt))}if(l.length)if(Cn){if(Cn<70){var ft=l[0].flags;ft.dependsOn=2,ft.isNonSync=0}}else if(In&&K-q<X-Z&&x/X<.025&&0===l[0].cts){this.logger.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");for(var pt=n,mt=0,gt=l.length;mt<gt;mt++){var At=pt+l[mt].duration,bt=pt+l[mt].cts;if(mt<gt-1){var yt=At+l[mt+1].cts;l[mt].duration=yt-bt}else l[mt].duration=mt?l[mt-1].duration:x;l[mt].cts=0,pt=At}}f=W||!f?x:f,this.nextAvcDts=c=o+f,this.videoSampleDuration=f,this.isVideoContiguous=!0;var wt={data1:wn.moof(t.sequenceNumber++,n,r(t,{samples:l})),data2:Y,startPTS:p/a,endPTS:(m+f)/a,startDTS:n/a,endDTS:c/a,type:"video",hasAudio:!1,hasVideo:!0,nb:l.length,dropped:t.dropped};return t.samples=[],t.dropped=0,wt},i.getSamplesPerFrame=function(t){switch(t.segmentCodec){case"mp3":return Sn;case"ac3":return Tn;default:return En}},i.remuxAudio=function(t,i,e,s,n){var o=t.inputTimeScale,a=o/(t.samplerate?t.samplerate:o),h=this.getSamplesPerFrame(t),l=h*a,u=this.rt,d="mp3"===t.segmentCodec&&this.typeSupported.mpeg,c=[],v=void 0!==n,f=t.samples,p=d?0:8,m=this.nextAudioPts||-1,g=i*o,A=u.baseTime*o/u.timescale;if(this.isAudioContiguous=e=e||f.length&&m>0&&(s&&Math.abs(g-m)<9e3||Math.abs(Bn(f[0].pts-A,g)-m)<20*l),f.forEach((function(t){t.pts=Bn(t.pts-A,g)})),!e||m<0){if(f=f.filter((function(t){return t.pts>=0})),!f.length)return;m=0===n?0:s&&!v?Math.max(0,g):f[0].pts}if("aac"===t.segmentCodec)for(var b=this.config.maxAudioFramesDrift,y=0,w=m;y<f.length;y++){var _=f[y],j=_.pts,x=j-w,k=Math.abs(1e3*x/o);if(x<=-b*l&&v)0===y&&(this.logger.warn("Audio frame @ "+(j/o).toFixed(3)+"s overlaps nextAudioPts by "+Math.round(1e3*x/o)+" ms."),this.nextAudioPts=m=w=j);else if(x>=b*l&&k<kn&&v){var E=Math.round(x/l);(w=j-E*l)<0&&(E--,w+=l),0===y&&(this.nextAudioPts=m=w),this.logger.warn("[mp4-remuxer]: Injecting "+E+" audio frame @ "+(w/o).toFixed(3)+"s due to "+Math.round(1e3*x/o)+" ms gap.");for(var S=0;S<E;S++){var T=Math.max(w,0),C=bn.getSilentFrame(t.parsedCodec||t.manifestCodec||t.codec,t.channelCount);C||(this.logger.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),C=_.unit.subarray()),f.splice(y,0,{unit:C,pts:T}),w+=l,y++}}_.pts=w,w+=l}for(var B,N=null,R=null,U=0,P=f.length;P--;)U+=f[P].unit.byteLength;for(var O=0,L=f.length;O<L;O++){var z=f[O],F=z.unit,G=z.pts;if(null!==R)c[O-1].duration=Math.round((G-R)/a);else{if(e&&"aac"===t.segmentCodec&&(G=m),N=G,!(U>0))return;U+=p;try{B=new Uint8Array(U)}catch(t){return void this.observer.emit(D.ERROR,D.ERROR,{type:I.MUX_ERROR,details:M.REMUX_ALLOC_ERROR,fatal:!1,error:t,bytes:U,reason:"fail allocating audio mdat "+U})}d||(new DataView(B.buffer).setUint32(0,U),B.set(wn.types.mdat,4))}B.set(F,p);var H=F.byteLength;p+=H,c.push(Mn(!0,h,H,0)),R=G}var V=c.length;if(V){var Y=c[c.length-1];this.nextAudioPts=m=R+a*Y.duration;var Q=d?new Uint8Array(0):wn.moof(t.sequenceNumber++,N/a,r({},t,{samples:c}));t.samples=[];var J=N/o,W=m/o,Z={data1:Q,data2:B,startPTS:J,endPTS:W,startDTS:J,endDTS:W,type:"audio",hasAudio:!0,hasVideo:!1,nb:V};return this.isAudioContiguous=!0,Z}},t}();function Bn(t,i){var e;if(null===i)return t;for(e=i<t?-8589934592:8589934592;Math.abs(t-i)>4294967296;)t+=e;return t}function Nn(t){for(var i=0;i<t.length;i++)if(t[i].key)return i;return-1}function Rn(t,i,e,s){var n=t.samples.length;if(n){for(var o=t.inputTimeScale,r=0;r<n;r++){var a=t.samples[r];a.pts=Bn(a.pts-e.baseTime*o/e.timescale,i*o)/o,a.dts=Bn(a.dts-s.baseTime*o/s.timescale,i*o)/o}var h=t.samples;return t.samples=[],{samples:h}}}function Un(t,i,e){var s=t.samples.length;if(s){for(var n=t.inputTimeScale,o=0;o<s;o++){var r=t.samples[o];r.pts=Bn(r.pts-e.baseTime*n/e.timescale,i*n)/n}t.samples.sort((function(t,i){return t.pts-i.pts}));var a=t.samples;return t.samples=[],{samples:a}}}var Pn,On=function(){function t(t,i,e,s){this.logger=void 0,this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null,this.logger=s}var i=t.prototype;return i.destroy=function(){},i.resetTimeStamp=function(t){this.initPTS=t,this.lastEndTime=null},i.resetNextTimestamp=function(){this.lastEndTime=null},i.resetInitSegment=function(t,i,e,s){this.audioCodec=i,this.videoCodec=e,this.generateInitSegment(kt(t,s)),this.emitInitSegment=!0},i.generateInitSegment=function(t){var i=this.audioCodec,e=this.videoCodec;if(null==t||!t.byteLength)return this.initTracks=void 0,void(this.initData=void 0);var s=this.initData=bt(t);s.audio&&(i=zn(s.audio,tt.AUDIO)),s.video&&(e=zn(s.video,tt.VIDEO));var n={};s.audio&&s.video?n.audiovideo={container:"video/mp4",codec:i+","+e,supplemental:s.video.supplemental,initSegment:t,id:"main"}:s.audio?n.audio={container:"audio/mp4",codec:i,initSegment:t,id:"audio"}:s.video?n.video={container:"video/mp4",codec:e,supplemental:s.video.supplemental,initSegment:t,id:"main"}:this.logger.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=n},i.remux=function(t,i,e,s,n,o){var r,a,h=this.initPTS,l=this.lastEndTime,u={audio:void 0,video:void 0,text:s,id3:e,initSegment:void 0};S(l)||(l=this.lastEndTime=n||0);var d=i.samples;if(null==d||!d.length)return u;var c={initPTS:void 0,timescale:1},v=this.initData;if(null!=(r=v)&&r.length||(this.generateInitSegment(d),v=this.initData),null==(a=v)||!a.length)return this.logger.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),u;this.emitInitSegment&&(c.tracks=this.initTracks,this.emitInitSegment=!1);var f=Tt(d,v),p=St(v,d),m=null===p?n:p;!o&&h||!Ln(h,m,n,f)&&c.timescale===h.timescale||(c.initPTS=m-n,h&&1===h.timescale&&this.logger.warn("Adjusting initPTS @"+n+" from "+h.baseTime/h.timescale+" to "+c.initPTS),this.initPTS=h={baseTime:c.initPTS,timescale:1});var g=t?m-h.baseTime/h.timescale:l,A=g+f;It(v,d,h.baseTime/h.timescale),f>0?this.lastEndTime=A:(this.logger.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());var b=!!v.audio,y=!!v.video,w="";b&&(w+="audio"),y&&(w+="video");var _={data1:d,startPTS:g,startDTS:g,endPTS:A,endDTS:A,type:w,hasAudio:b,hasVideo:y,nb:1,dropped:0};return u.audio="audio"===_.type?_:void 0,u.video="audio"!==_.type?_:void 0,u.initSegment=c,u.id3=Rn(e,n,h,h),s.samples.length&&(u.text=Un(s,n,h)),u},t}();function Ln(t,i,e,s){if(null===t)return!0;var n=Math.max(s,1),o=i-t.baseTime/t.timescale;return Math.abs(o-e)>n}function zn(t,i){var e=null==t?void 0:t.codec;return e&&e.length>4?e:i===tt.AUDIO?"ec-3"===e||"ac-3"===e||"alac"===e?e:"fLaC"===e||"Opus"===e?$t(e,!1):(J.warn('Unhandled audio codec "'+e+'" in mp4 MAP'),e||"mp4a"):(J.warn('Unhandled video codec "'+e+'" in mp4 MAP'),e||"avc1")}try{Pn=self.performance.now.bind(self.performance)}catch(t){Pn=Date.now}var Fn=[{demux:on,remux:On},{demux:cn,remux:Dn},{demux:Js,remux:Dn},{demux:Zs,remux:Dn}],Gn=function(){function t(t,i,e,s,n,o){this.asyncResult=!1,this.logger=void 0,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=t,this.typeSupported=i,this.config=e,this.id=n,this.logger=o}var i=t.prototype;return i.configure=function(t){this.transmuxConfig=t,this.decrypter&&this.decrypter.reset()},i.push=function(t,i,e,s){var n=this,o=e.transmuxing;o.executeStart=Pn();var r=new Uint8Array(t),a=this.currentTransmuxState,h=this.transmuxConfig;s&&(this.currentTransmuxState=s);var l=s||a,u=l.contiguous,d=l.discontinuity,c=l.trackSwitch,v=l.accurateTimeOffset,f=l.timeOffset,p=l.initSegmentChange,m=h.audioCodec,g=h.videoCodec,A=h.defaultInitPts,b=h.duration,y=h.initSegmentData,w=Hn(r,i);if(w&&le(w.method)){var _=this.getDecrypter(),j=ue(w.method);if(!_.isSync())return this.asyncResult=!0,this.decryptionPromise=_.webCryptoDecrypt(r,w.key.buffer,w.iv.buffer,j).then((function(t){var i=n.push(t,null,e);return n.decryptionPromise=null,i})),this.decryptionPromise;var x=_.softwareDecrypt(r,w.key.buffer,w.iv.buffer,j);if(e.part>-1){var k=_.flush();x=k?k.buffer:k}if(!x)return o.executeEnd=Pn(),Vn(e);r=new Uint8Array(x)}var E=this.needsProbing(d,c);if(E){var S=this.configureTransmuxer(r);if(S)return this.logger.warn("[transmuxer] "+S.message),this.observer.emit(D.ERROR,D.ERROR,{type:I.MEDIA_ERROR,details:M.FRAG_PARSING_ERROR,fatal:!1,error:S,reason:S.message}),o.executeEnd=Pn(),Vn(e)}(d||c||p||E)&&this.resetInitSegment(y,m,g,b,i),(d||p||E)&&this.resetInitialTimestamp(A),u||this.resetContiguity();var T=this.transmux(r,w,f,v,e);this.asyncResult=Yn(T);var C=this.currentTransmuxState;return C.contiguous=!0,C.discontinuity=!1,C.trackSwitch=!1,o.executeEnd=Pn(),T},i.flush=function(t){var i=this,e=t.transmuxing;e.executeStart=Pn();var s=this.decrypter,n=this.currentTransmuxState,o=this.decryptionPromise;if(o)return this.asyncResult=!0,o.then((function(){return i.flush(t)}));var r=[],a=n.timeOffset;if(s){var h=s.flush();h&&r.push(this.push(h.buffer,null,t))}var l=this.demuxer,u=this.remuxer;if(!l||!u){e.executeEnd=Pn();var d=[Vn(t)];return this.asyncResult?Promise.resolve(d):d}var c=l.flush(a);return Yn(c)?(this.asyncResult=!0,c.then((function(e){return i.flushRemux(r,e,t),r}))):(this.flushRemux(r,c,t),this.asyncResult?Promise.resolve(r):r)},i.flushRemux=function(t,i,e){var s=i.audioTrack,n=i.videoTrack,o=i.id3Track,r=i.textTrack,a=this.currentTransmuxState,h=a.accurateTimeOffset,l=a.timeOffset;this.logger.log("[transmuxer.ts]: Flushed "+this.id+" sn: "+e.sn+(e.part>-1?" part: "+e.part:"")+" of "+(this.id===N.MAIN?"level":"track")+" "+e.level);var u=this.remuxer.remux(s,n,o,r,l,h,!0,this.id);t.push({remuxResult:u,chunkMeta:e}),e.transmuxing.executeEnd=Pn()},i.resetInitialTimestamp=function(t){var i=this.demuxer,e=this.remuxer;i&&e&&(i.resetTimeStamp(t),e.resetTimeStamp(t))},i.resetContiguity=function(){var t=this.demuxer,i=this.remuxer;t&&i&&(t.resetContiguity(),i.resetNextTimestamp())},i.resetInitSegment=function(t,i,e,s,n){var o=this.demuxer,r=this.remuxer;o&&r&&(o.resetInitSegment(t,i,e,s),r.resetInitSegment(t,i,e,n))},i.destroy=function(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)},i.transmux=function(t,i,e,s,n){return i&&"SAMPLE-AES"===i.method?this.transmuxSampleAes(t,i,e,s,n):this.transmuxUnencrypted(t,e,s,n)},i.transmuxUnencrypted=function(t,i,e,s){var n=this.demuxer.demux(t,i,!1,!this.config.progressive),o=n.audioTrack,r=n.videoTrack,a=n.id3Track,h=n.textTrack;return{remuxResult:this.remuxer.remux(o,r,a,h,i,e,!1,this.id),chunkMeta:s}},i.transmuxSampleAes=function(t,i,e,s,n){var o=this;return this.demuxer.demuxSampleAes(t,i,e).then((function(t){return{remuxResult:o.remuxer.remux(t.audioTrack,t.videoTrack,t.id3Track,t.textTrack,e,s,!1,o.id),chunkMeta:n}}))},i.configureTransmuxer=function(t){for(var i,e=this.config,s=this.observer,n=this.typeSupported,o=0,r=Fn.length;o<r;o++){var a;if(null!=(a=Fn[o].demux)&&a.probe(t,this.logger)){i=Fn[o];break}}if(!i)return new Error("Failed to find demuxer by probing fragment data");var h=this.demuxer,l=this.remuxer,u=i.remux,d=i.demux;l&&l instanceof u||(this.remuxer=new u(s,e,n,this.logger)),h&&h instanceof d||(this.demuxer=new d(s,e,n,this.logger),this.probe=d.probe)},i.needsProbing=function(t,i){return!this.demuxer||!this.remuxer||t||i},i.getDecrypter=function(){var t=this.decrypter;return t||(t=this.decrypter=new sn(this.config)),t},t}();function Hn(t,i){var e=null;return t.byteLength>0&&null!=(null==i?void 0:i.key)&&null!==i.iv&&null!=i.method&&(e=i),e}var Vn=function(t){return{remuxResult:{},chunkMeta:t}};function Yn(t){return"then"in t&&t.then instanceof Function}var Qn=function(t,i,e,s,n){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=t,this.videoCodec=i,this.initSegmentData=e,this.duration=s,this.defaultInitPts=n||null},Jn=function(t,i,e,s,n,o){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=t,this.contiguous=i,this.accurateTimeOffset=e,this.trackSwitch=s,this.timeOffset=n,this.initSegmentChange=o};function Wn(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch(t){}return!1}var Zn=/(\d+)-(\d+)\/(\d+)/,qn=function(){function t(t){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=null,this.response=null,this.controller=void 0,this.context=null,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=t.fetchSetup||to,this.controller=new self.AbortController,this.stats=new $}var i=t.prototype;return i.destroy=function(){this.loader=this.callbacks=this.context=this.config=this.request=null,this.abortInternal(),this.response=null,this.fetchSetup=this.controller=this.stats=null},i.abortInternal=function(){this.controller&&!this.stats.loading.end&&(this.stats.aborted=!0,this.controller.abort())},i.abort=function(){var t;this.abortInternal(),null!=(t=this.callbacks)&&t.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)},i.load=function(t,i,e){var s=this,n=this.stats;if(n.loading.start)throw new Error("Loader can only be used once.");n.loading.start=self.performance.now();var o=Xn(t,this.controller.signal),r="arraybuffer"===t.responseType,a=r?"byteLength":"length",h=i.loadPolicy,l=h.maxTimeToFirstByteMs,u=h.maxLoadTimeMs;this.context=t,this.config=i,this.callbacks=e,this.request=this.fetchSetup(t,o),self.clearTimeout(this.requestTimeout),i.timeout=l&&S(l)?l:u,this.requestTimeout=self.setTimeout((function(){s.callbacks&&(s.abortInternal(),s.callbacks.onTimeout(n,t,s.response))}),i.timeout),(Yn(this.request)?this.request.then(self.fetch):self.fetch(this.request)).then((function(e){var o;s.response=s.loader=e;var a=Math.max(self.performance.now(),n.loading.start);if(self.clearTimeout(s.requestTimeout),i.timeout=u,s.requestTimeout=self.setTimeout((function(){s.callbacks&&(s.abortInternal(),s.callbacks.onTimeout(n,t,s.response))}),u-(a-n.loading.start)),!e.ok){var h=e.status,l=e.statusText;throw new io(l||"fetch, bad network response",h,e)}n.loading.first=a,n.total=$n(e.headers)||n.total;var d=null==(o=s.callbacks)?void 0:o.onProgress;return d&&S(i.highWaterMark)?s.loadProgressively(e,n,t,i.highWaterMark,d):r?e.arrayBuffer():"json"===t.responseType?e.json():e.text()})).then((function(e){var o,r,h=s.response;if(!h)throw new Error("loader destroyed");self.clearTimeout(s.requestTimeout),n.loading.end=Math.max(self.performance.now(),n.loading.first);var l=e[a];l&&(n.loaded=n.total=l);var u={url:h.url,data:e,code:h.status},d=null==(o=s.callbacks)?void 0:o.onProgress;d&&!S(i.highWaterMark)&&d(n,t,e,h),null==(r=s.callbacks)||r.onSuccess(u,n,t,h)})).catch((function(i){var e;if(self.clearTimeout(s.requestTimeout),!n.aborted){var o=i&&i.code||0,r=i?i.message:null;null==(e=s.callbacks)||e.onError({code:o,text:r},t,i?i.details:null,n)}}))},i.getCacheAge=function(){var t=null;if(this.response){var i=this.response.headers.get("age");t=i?parseFloat(i):null}return t},i.getResponseHeader=function(t){return this.response?this.response.headers.get(t):null},i.loadProgressively=function(t,i,e,s,n){void 0===s&&(s=0);var o=new qe,r=t.body.getReader(),a=function(){return r.read().then((function(r){if(r.done)return o.dataLength&&n(i,e,o.flush().buffer,t),Promise.resolve(new ArrayBuffer(0));var h=r.value,l=h.length;return i.loaded+=l,l<s||o.dataLength?(o.push(h),o.dataLength>=s&&n(i,e,o.flush().buffer,t)):n(i,e,h.buffer,t),a()})).catch((function(){return Promise.reject()}))};return a()},t}();function Xn(t,i){var e={method:"GET",mode:"cors",credentials:"same-origin",signal:i,headers:new self.Headers(r({},t.headers))};return t.rangeEnd&&e.headers.set("Range","bytes="+t.rangeStart+"-"+String(t.rangeEnd-1)),e}function Kn(t){var i=Zn.exec(t);if(i)return parseInt(i[2])-parseInt(i[1])+1}function $n(t){var i=t.get("Content-Range");if(i){var e=Kn(i);if(S(e))return e}var s=t.get("Content-Length");if(s)return parseInt(s)}function to(t,i){return new self.Request(t.url,i)}var io=function(t){function i(i,e,s){var n;return(n=t.call(this,i)||this).code=void 0,n.details=void 0,n.code=e,n.details=s,n}return h(i,t),i}(m(Error)),eo=/^age:\s*[\d.]+\s*$/im,so=function(){function t(t){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=null,this.loader=null,this.stats=void 0,this.xhrSetup=t&&t.xhrSetup||null,this.stats=new $,this.retryDelay=0}var i=t.prototype;return i.destroy=function(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null,this.context=null,this.xhrSetup=null},i.abortInternal=function(){var t=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),t&&(t.onreadystatechange=null,t.onprogress=null,4!==t.readyState&&(this.stats.aborted=!0,t.abort()))},i.abort=function(){var t;this.abortInternal(),null!=(t=this.callbacks)&&t.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)},i.load=function(t,i,e){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=t,this.config=i,this.callbacks=e,this.loadInternal()},i.loadInternal=function(){var t=this,i=this.config,e=this.context;if(i&&e){var s=this.loader=new self.XMLHttpRequest,n=this.stats;n.loading.first=0,n.loaded=0,n.aborted=!1;var o=this.xhrSetup;o?Promise.resolve().then((function(){if(t.loader===s&&!t.stats.aborted)return o(s,e.url)})).catch((function(i){if(t.loader===s&&!t.stats.aborted)return s.open("GET",e.url,!0),o(s,e.url)})).then((function(){t.loader!==s||t.stats.aborted||t.openAndSendXhr(s,e,i)})).catch((function(i){var o;null==(o=t.callbacks)||o.onError({code:s.status,text:i.message},e,s,n)})):this.openAndSendXhr(s,e,i)}},i.openAndSendXhr=function(t,i,e){t.readyState||t.open("GET",i.url,!0);var s=i.headers,n=e.loadPolicy,o=n.maxTimeToFirstByteMs,r=n.maxLoadTimeMs;if(s)for(var a in s)t.setRequestHeader(a,s[a]);i.rangeEnd&&t.setRequestHeader("Range","bytes="+i.rangeStart+"-"+(i.rangeEnd-1)),t.onreadystatechange=this.readystatechange.bind(this),t.onprogress=this.loadprogress.bind(this),t.responseType=i.responseType,self.clearTimeout(this.requestTimeout),e.timeout=o&&S(o)?o:r,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),e.timeout),t.send()},i.readystatechange=function(){var t=this.context,i=this.loader,e=this.stats;if(t&&i){var s=i.readyState,n=this.config;if(!e.aborted&&s>=2&&(0===e.loading.first&&(e.loading.first=Math.max(self.performance.now(),e.loading.start),n.timeout!==n.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),n.timeout=n.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),n.loadPolicy.maxLoadTimeMs-(e.loading.first-e.loading.start)))),4===s)){self.clearTimeout(this.requestTimeout),i.onreadystatechange=null,i.onprogress=null;var o=i.status,r="text"===i.responseType?i.responseText:null;if(o>=200&&o<300){var a=null!=r?r:i.response;if(null!=a){var h,l;e.loading.end=Math.max(self.performance.now(),e.loading.first);var u="arraybuffer"===i.responseType?a.byteLength:a.length;e.loaded=e.total=u,e.bwEstimate=8e3*e.total/(e.loading.end-e.loading.first);var d=null==(h=this.callbacks)?void 0:h.onProgress;d&&d(e,t,a,i);var c={url:i.responseURL,data:a,code:o};return void(null==(l=this.callbacks)||l.onSuccess(c,e,t,i))}}var v,f=n.loadPolicy.errorRetry;Pi(f,e.retry,!1,{url:t.url,data:void 0,code:o})?this.retry(f):(J.error(o+" while loading "+t.url),null==(v=this.callbacks)||v.onError({code:o,text:i.statusText},t,i,e))}}},i.loadtimeout=function(){if(this.config){var t=this.config.loadPolicy.timeoutRetry;if(Pi(t,this.stats.retry,!0))this.retry(t);else{var i;J.warn("timeout while loading "+(null==(i=this.context)?void 0:i.url));var e=this.callbacks;e&&(this.abortInternal(),e.onTimeout(this.stats,this.context,this.loader))}}},i.retry=function(t){var i=this.context,e=this.stats;this.retryDelay=Ri(t,e.retry),e.retry++,J.warn((status?"HTTP Status "+status:"Timeout")+" while loading "+(null==i?void 0:i.url)+", retrying "+e.retry+"/"+t.maxNumRetry+" in "+this.retryDelay+"ms"),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)},i.loadprogress=function(t){var i=this.stats;i.loaded=t.loaded,t.lengthComputable&&(i.total=t.total)},i.getCacheAge=function(){var t=null;if(this.loader&&eo.test(this.loader.getAllResponseHeaders())){var i=this.loader.getResponseHeader("age");t=i?parseFloat(i):null}return t},i.getResponseHeader=function(t){return this.loader&&new RegExp("^"+t+":\\s*[\\d.]+\\s*$","im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(t):null},t}(),no={maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null},oo=c(c({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,maxDevicePixelRatio:Number.POSITIVE_INFINITY,preferManagedMediaSource:!0,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,frontBufferFlushThreshold:1/0,maxBufferSize:6e7,maxFragLookUpTolerance:.25,maxBufferHole:.1,detectStallWithCurrentTimeMs:1250,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,nudgeOnVideoHole:!0,liveSyncDurationCount:3,liveSyncOnStallIncrease:1,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,ignorePlaylistParsingErrors:!1,loader:so,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:xi,bufferController:Wi,capLevelController:Ki,errorController:Fi,fpsController:Ze,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrEwmaDefaultEstimateMax:5e6,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:null,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableEmsgKLVMetadata:!1,enableID3MetadataCues:!0,enableInterstitialPlayback:!1,interstitialAppendInPlace:!0,interstitialLiveLookAhead:10,useMediaCapabilities:!1,certLoadPolicy:{default:no},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},interstitialAssetListLoadPolicy:{default:no},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},ro()),{},{subtitleStreamController:void 0,subtitleTrackController:void 0,timelineController:void 0,audioStreamController:void 0,audioTrackController:void 0,emeController:void 0,cmcdController:void 0,contentSteeringController:Qe,interstitialsController:void 0});function ro(){return{cueHandler:q,enableWebVTT:!1,enableIMSC1:!1,enableCEA708Captions:!1,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}function ao(t,i,e){if((i.liveSyncDurationCount||i.liveMaxLatencyDurationCount)&&(i.liveSyncDuration||i.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==i.liveMaxLatencyDurationCount&&(void 0===i.liveSyncDurationCount||i.liveMaxLatencyDurationCount<=i.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==i.liveMaxLatencyDuration&&(void 0===i.liveSyncDuration||i.liveMaxLatencyDuration<=i.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');var s=ho(t),n=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return["manifest","level","frag"].forEach((function(t){var o=("level"===t?"playlist":t)+"LoadPolicy",r=void 0===i[o],a=[];n.forEach((function(e){var n=t+"Loading"+e,h=i[n];if(void 0!==h&&r){a.push(n);var l=s[o].default;switch(i[o]={default:l},e){case"TimeOut":l.maxLoadTimeMs=h,l.maxTimeToFirstByteMs=h;break;case"MaxRetry":l.errorRetry.maxNumRetry=h,l.timeoutRetry.maxNumRetry=h;break;case"RetryDelay":l.errorRetry.retryDelayMs=h,l.timeoutRetry.retryDelayMs=h;break;case"MaxRetryTimeout":l.errorRetry.maxRetryDelayMs=h,l.timeoutRetry.maxRetryDelayMs=h}}})),a.length&&e.warn('hls.js config: "'+a.join('", "')+'" setting(s) are deprecated, use "'+o+'": '+Ai(i[o]))})),c(c({},s),i)}function ho(t){return t&&"object"==typeof t?Array.isArray(t)?t.map(ho):Object.keys(t).reduce((function(i,e){return i[e]=ho(t[e]),i}),{}):t}function lo(t,i){var e=t.loader;e!==qn&&e!==so?(i.log("[config]: Custom loader detected, cannot enable progressive streaming"),t.progressive=!1):Wn()&&(t.loader=qn,t.progressive=!0,t.enableSoftwareAES=!0,i.log("[config]: Progressive streaming enabled, using FetchLoader"))}var uo={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"},co=function(){function t(t){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=t,this.lt()}var i=t.prototype;return i.lt=function(){var t=this.hls;t.on(D.MANIFEST_LOADING,this.onManifestLoading,this),t.on(D.BUFFER_APPENDED,this.onBufferAppended,this),t.on(D.FRAG_BUFFERED,this.onFragBuffered,this),t.on(D.FRAG_LOADED,this.onFragLoaded,this)},i.ut=function(){var t=this.hls;t.off(D.MANIFEST_LOADING,this.onManifestLoading,this),t.off(D.BUFFER_APPENDED,this.onBufferAppended,this),t.off(D.FRAG_BUFFERED,this.onFragBuffered,this),t.off(D.FRAG_LOADED,this.onFragLoaded,this)},i.destroy=function(){this.ut(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null},i.getAppendedFrag=function(t,i){var e=this.activePartLists[i];if(e)for(var s=e.length;s--;){var n=e[s];if(!n)break;var o=n.end;if(n.start<=t&&null!==o&&t<=o)return n}return this.getBufferedFrag(t,i)},i.getBufferedFrag=function(t,i){return this.getFragAtPos(t,i,!0)},i.getFragAtPos=function(t,i,e){for(var s=this.fragments,n=Object.keys(s),o=n.length;o--;){var r=s[n[o]];if((null==r?void 0:r.body.type)===i&&(!e||r.buffered)){var a=r.body;if(a.start<=t&&t<=a.end)return a}}return null},i.detectEvictedFragments=function(t,i,e,s,n){var o=this;this.timeRanges&&(this.timeRanges[t]=i);var r=(null==s?void 0:s.fragment.sn)||-1;Object.keys(this.fragments).forEach((function(s){var a=o.fragments[s];if(a&&!(r>=a.body.sn))if(a.buffered||a.loaded&&!n){var h=a.range[t];h&&(0!==h.time.length?h.time.some((function(t){var e=!o.isTimeBuffered(t.startPTS,t.endPTS,i);return e&&o.removeFragment(a.body),e})):o.removeFragment(a.body))}else a.body.type===e&&o.removeFragment(a.body)}))},i.detectPartialFragments=function(t){var i=this,e=this.timeRanges;if(e&&"initSegment"!==t.frag.sn){var s=t.frag,n=fo(s),o=this.fragments[n];if(!(!o||o.buffered&&s.gap)){var r=!s.relurl;Object.keys(e).forEach((function(n){var a=s.elementaryStreams[n];if(a){var h=e[n],l=r||!0===a.partial;o.range[n]=i.getBufferedTimes(s,t.part,l,h)}})),o.loaded=null,Object.keys(o.range).length?(o.buffered=!0,(o.body.endList=s.endList||o.body.endList)&&(this.endListFragments[o.body.type]=o),vo(o)||this.removeParts(s.sn-1,s.type)):this.removeFragment(o.body)}}},i.removeParts=function(t,i){var e=this.activePartLists[i];e&&(this.activePartLists[i]=po(e,(function(i){return i.fragment.sn>=t})))},i.fragBuffered=function(t,i){var e=fo(t),s=this.fragments[e];!s&&i&&(s=this.fragments[e]={body:t,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},t.gap&&(this.hasGaps=!0)),s&&(s.loaded=null,s.buffered=!0)},i.getBufferedTimes=function(t,i,e,s){for(var n={time:[],partial:e},o=t.start,r=t.end,a=t.minEndPTS||r,h=t.maxStartPTS||o,l=0;l<s.length;l++){var u=s.start(l)-this.bufferPadding,d=s.end(l)+this.bufferPadding;if(h>=u&&a<=d){n.time.push({startPTS:Math.max(o,s.start(l)),endPTS:Math.min(r,s.end(l))});break}if(o<d&&r>u){var c=Math.max(o,s.start(l)),v=Math.min(r,s.end(l));v>c&&(n.partial=!0,n.time.push({startPTS:c,endPTS:v}))}else if(r<=u)break}return n},i.getPartialFragment=function(t){var i,e,s,n=null,o=0,r=this.bufferPadding,a=this.fragments;return Object.keys(a).forEach((function(h){var l=a[h];l&&vo(l)&&(e=l.body.start-r,s=l.body.end+r,t>=e&&t<=s&&(i=Math.min(t-e,s-t),o<=i&&(n=l.body,o=i)))})),n},i.isEndListAppended=function(t){var i=this.endListFragments[t];return void 0!==i&&(i.buffered||vo(i))},i.getState=function(t){var i=fo(t),e=this.fragments[i];return e?e.buffered?vo(e)?uo.PARTIAL:uo.OK:uo.APPENDING:uo.NOT_LOADED},i.isTimeBuffered=function(t,i,e){for(var s,n,o=0;o<e.length;o++){if(s=e.start(o)-this.bufferPadding,n=e.end(o)+this.bufferPadding,t>=s&&i<=n)return!0;if(i<=s)return!1}return!1},i.onManifestLoading=function(){this.removeAllFragments()},i.onFragLoaded=function(t,i){if("initSegment"!==i.frag.sn&&!i.frag.bitrateTest){var e=i.frag,s=i.part?null:i,n=fo(e);this.fragments[n]={body:e,appendedPTS:null,loaded:s,buffered:!1,range:Object.create(null)}}},i.onBufferAppended=function(t,i){var e=i.frag,s=i.part,n=i.timeRanges,o=i.type;if("initSegment"!==e.sn){var r=e.type;if(s){var a=this.activePartLists[r];a||(this.activePartLists[r]=a=[]),a.push(s)}this.timeRanges=n;var h=n[o];this.detectEvictedFragments(o,h,r,s)}},i.onFragBuffered=function(t,i){this.detectPartialFragments(i)},i.hasFragment=function(t){var i=fo(t);return!!this.fragments[i]},i.hasFragments=function(t){var i=this.fragments,e=Object.keys(i);if(!t)return e.length>0;for(var s=e.length;s--;){var n=i[e[s]];if((null==n?void 0:n.body.type)===t)return!0}return!1},i.hasParts=function(t){var i;return!(null==(i=this.activePartLists[t])||!i.length)},i.removeFragmentsInRange=function(t,i,e,s,n){var o=this;s&&!this.hasGaps||Object.keys(this.fragments).forEach((function(r){var a=o.fragments[r];if(a){var h=a.body;h.type!==e||s&&!h.gap||h.start<i&&h.end>t&&(a.buffered||n)&&o.removeFragment(h)}}))},i.removeFragment=function(t){var i=fo(t);t.clearElementaryStreamInfo();var e=this.activePartLists[t.type];if(e){var s=t.sn;this.activePartLists[t.type]=po(e,(function(t){return t.fragment.sn!==s}))}delete this.fragments[i],t.endList&&delete this.endListFragments[t.type]},i.removeAllFragments=function(){var t,i;this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1;var e=null==(t=this.hls)||null==(i=t.latestLevelDetails)?void 0:i.partList;e&&e.forEach((function(t){return t.clearElementaryStreamInfo()}))},t}();function vo(t){var i,e,s;return t.buffered&&(t.body.gap||(null==(i=t.range.video)?void 0:i.partial)||(null==(e=t.range.audio)?void 0:e.partial)||(null==(s=t.range.audiovideo)?void 0:s.partial))}function fo(t){return t.type+"_"+t.level+"_"+t.sn}function po(t,i){return t.filter((function(t){var e=i(t);return e||t.clearElementaryStreamInfo(),e}))}var mo=Math.pow(2,17),go=function(){function t(t){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=t}var i=t.prototype;return i.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},i.abort=function(){this.loader&&this.loader.abort()},i.load=function(t,i){var e=this,s=t.url;if(!s)return Promise.reject(new wo({type:I.NETWORK_ERROR,details:M.FRAG_LOAD_ERROR,fatal:!1,frag:t,error:new Error("Fragment does not have a "+(s?"part list":"url")),networkDetails:null}));this.abort();var n=this.config,o=n.fLoader,r=n.loader;return new Promise((function(a,h){if(e.loader&&e.loader.destroy(),t.gap){if(t.tagList.some((function(t){return"GAP"===t[0]})))return void h(bo(t));t.gap=!1}var l=e.loader=o?new o(n):new r(n),u=Ao(t);t.loader=l;var d=Ui(n.fragLoadPolicy.default),v={loadPolicy:d,timeout:d.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:"initSegment"===t.sn?1/0:mo};t.stats=l.stats;var f={onSuccess:function(i,s,n,o){e.resetLoader(t,l);var r=i.data;n.resetIV&&t.decryptdata&&(t.decryptdata.iv=new Uint8Array(r.slice(0,16)),r=r.slice(16)),a({frag:t,part:null,payload:r,networkDetails:o})},onError:function(i,n,o,r){e.resetLoader(t,l),h(new wo({type:I.NETWORK_ERROR,details:M.FRAG_LOAD_ERROR,fatal:!1,frag:t,response:c({url:s,data:void 0},i),error:new Error("HTTP Error "+i.code+" "+i.text),networkDetails:o,stats:r}))},onAbort:function(i,s,n){e.resetLoader(t,l),h(new wo({type:I.NETWORK_ERROR,details:M.INTERNAL_ABORTED,fatal:!1,frag:t,error:new Error("Aborted"),networkDetails:n,stats:i}))},onTimeout:function(i,s,n){e.resetLoader(t,l),h(new wo({type:I.NETWORK_ERROR,details:M.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t,error:new Error("Timeout after "+v.timeout+"ms"),networkDetails:n,stats:i}))}};i&&(f.onProgress=function(e,s,n,o){return i({frag:t,part:null,payload:n,networkDetails:o})}),l.load(u,v,f)}))},i.loadPart=function(t,i,e){var s=this;this.abort();var n=this.config,o=n.fLoader,r=n.loader;return new Promise((function(a,h){if(s.loader&&s.loader.destroy(),t.gap||i.gap)h(bo(t,i));else{var l=s.loader=o?new o(n):new r(n),u=Ao(t,i);t.loader=l;var d=Ui(n.fragLoadPolicy.default),v={loadPolicy:d,timeout:d.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:mo};i.stats=l.stats,l.load(u,v,{onSuccess:function(n,o,r,h){s.resetLoader(t,l),s.updateStatsFromPart(t,i);var u={frag:t,part:i,payload:n.data,networkDetails:h};e(u),a(u)},onError:function(e,n,o,r){s.resetLoader(t,l),h(new wo({type:I.NETWORK_ERROR,details:M.FRAG_LOAD_ERROR,fatal:!1,frag:t,part:i,response:c({url:u.url,data:void 0},e),error:new Error("HTTP Error "+e.code+" "+e.text),networkDetails:o,stats:r}))},onAbort:function(e,n,o){t.stats.aborted=i.stats.aborted,s.resetLoader(t,l),h(new wo({type:I.NETWORK_ERROR,details:M.INTERNAL_ABORTED,fatal:!1,frag:t,part:i,error:new Error("Aborted"),networkDetails:o,stats:e}))},onTimeout:function(e,n,o){s.resetLoader(t,l),h(new wo({type:I.NETWORK_ERROR,details:M.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t,part:i,error:new Error("Timeout after "+v.timeout+"ms"),networkDetails:o,stats:e}))}})}}))},i.updateStatsFromPart=function(t,i){var e=t.stats,s=i.stats,n=s.total;if(e.loaded+=s.loaded,n){var o=Math.round(t.duration/i.duration),r=Math.min(Math.round(e.loaded/n),o),a=(o-r)*Math.round(e.loaded/r);e.total=e.loaded+a}else e.total=Math.max(e.loaded,e.total);var h=e.loading,l=s.loading;h.start?h.first+=l.first-l.start:(h.start=l.start,h.first=l.first),h.end=l.end},i.resetLoader=function(t,i){t.loader=null,this.loader===i&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),i.destroy()},t}();function Ao(t,i){void 0===i&&(i=null);var e=i||t,s={frag:t,part:i,responseType:"arraybuffer",url:e.url,headers:{},rangeStart:0,rangeEnd:0},n=e.byteRangeStartOffset,o=e.byteRangeEndOffset;if(S(n)&&S(o)){var r,a=n,h=o;if("initSegment"===t.sn&&yo(null==(r=t.decryptdata)?void 0:r.method)){var l=o-n;l%16&&(h=o+(16-l%16)),0!==n&&(s.resetIV=!0,a=n-16)}s.rangeStart=a,s.rangeEnd=h}return s}function bo(t,i){var e=new Error("GAP "+(t.gap?"tag":"attribute")+" found"),s={type:I.MEDIA_ERROR,details:M.FRAG_GAP,fatal:!1,frag:t,error:e,networkDetails:null};return i&&(s.part=i),(i||t).stats.aborted=!0,new wo(s)}function yo(t){return"AES-128"===t||"AES-256"===t}var wo=function(t){function i(i){var e;return(e=t.call(this,i.error.message)||this).data=void 0,e.data=i,e}return h(i,t),i}(m(Error)),_o=function(t){function i(i,e){var s;return(s=t.call(this,i,e)||this).dt=void 0,s.ct=null,s.vt=null,s.ft=0,s.dt=s.tick.bind(s),s}h(i,t);var e=i.prototype;return e.destroy=function(){this.onHandlerDestroying(),this.onHandlerDestroyed()},e.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},e.onHandlerDestroyed=function(){},e.hasInterval=function(){return!!this.vt},e.hasNextTick=function(){return!!this.ct},e.setInterval=function(t){return!this.vt&&(this.ft=0,this.vt=self.setInterval(this.dt,t),!0)},e.clearInterval=function(){return!!this.vt&&(self.clearInterval(this.vt),this.vt=null,!0)},e.clearNextTick=function(){return!!this.ct&&(self.clearTimeout(this.ct),this.ct=null,!0)},e.tick=function(){this.ft++,1===this.ft&&(this.doTick(),this.ft>1&&this.tickImmediate(),this.ft=0)},e.tickImmediate=function(){this.clearNextTick(),this.ct=self.setTimeout(this.dt,0)},e.doTick=function(){},i}(P),jo=function(t,i,e,s,n,o){void 0===s&&(s=0),void 0===n&&(n=-1),void 0===o&&(o=!1),this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing=xo(),this.buffering={audio:xo(),video:xo(),audiovideo:xo()},this.level=t,this.sn=i,this.id=e,this.size=s,this.part=n,this.partial=o};function xo(){return{start:0,executeStart:0,executeEnd:0,end:0}}function ko(t,i){for(var e=0,s=t.length;e<s;e++){var n;if((null==(n=t[e])?void 0:n.cc)===i)return t[e]}return null}function Eo(t,i){return!!(t&&i.startCC<t.endCC&&i.endCC>t.startCC)}function So(t,i){if(t){var e=t.start+i;t.start=t.startPTS=e,t.endPTS=e+t.duration}}function To(t,i){for(var e=i.fragments,s=0,n=e.length;s<n;s++)So(e[s],t);i.fragmentHint&&So(i.fragmentHint,t),i.alignedSliding=!0}function Co(t,i){t&&(Io(i,t),!i.alignedSliding&&t&&Mo(i,t),i.alignedSliding||!t||i.skippedSegments||Oe(t,i,!1))}function Io(t,i){if(Eo(i,t)){var e=Math.min(i.endCC,t.endCC),s=ko(i.fragments,e),n=ko(t.fragments,e);s&&n&&(J.log("Aligning playlist at start of dicontinuity sequence "+e),To(s.start-n.start,t))}}function Mo(t,i){if(t.hasProgramDateTime&&i.hasProgramDateTime){var e=t.fragments,s=i.fragments;if(e.length&&s.length){var n,o,r=Math.min(i.endCC,t.endCC);i.startCC<r&&t.startCC<r&&(n=ko(s,r),o=ko(e,r)),n&&o||(o=ko(e,(n=s[Math.floor(s.length/2)]).cc)||e[Math.floor(e.length/2)]);var a=n.programDateTime,h=o.programDateTime;a&&h&&To((h-a)/1e3-(o.start-n.start),t)}}}var Do={toString:function(t){for(var i="",e=t.length,s=0;s<e;s++)i+="["+t.start(s).toFixed(3)+"-"+t.end(s).toFixed(3)+"]";return i}},Bo={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_LEVEL:"WAITING_LEVEL"},No=function(t){function i(i,e,s,n,o){var r;return(r=t.call(this,n,i.logger)||this).hls=void 0,r.fragPrevious=null,r.fragCurrent=null,r.fragmentTracker=void 0,r.transmuxer=null,r.gt=Bo.STOPPED,r.playlistType=void 0,r.media=null,r.mediaBuffer=null,r.config=void 0,r.bitrateTest=!1,r.lastCurrentTime=0,r.nextLoadPosition=0,r.startPosition=0,r.startTimeOffset=null,r.retryDate=0,r.levels=null,r.fragmentLoader=void 0,r.keyLoader=void 0,r.levelLastLoaded=null,r.startFragRequested=!1,r.decrypter=void 0,r.initPTS=[],r.buffering=!0,r.loadingParts=!1,r.loopSn=void 0,r.onMediaSeeking=function(){var t=r,i=t.config,e=t.fragCurrent,s=t.media,n=t.mediaBuffer,o=t.state,a=s?s.currentTime:0,h=Vi.bufferInfo(n||s,a,i.maxBufferHole);if(r.log("media seeking to "+(S(a)?a.toFixed(3):a)+", state: "+o),r.state===Bo.ENDED)r.resetLoadingState();else if(e){var l=i.maxFragLookUpTolerance,u=e.start-l,d=e.start+e.duration+l;if(!h.len||d<h.start||u>h.end){var c=a>d;(a<u||c)&&(c&&e.loader&&(r.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),e.abortRequests(),r.resetLoadingState()),r.fragPrevious=null)}}if(s&&(r.fragmentTracker.removeFragmentsInRange(a,1/0,r.playlistType,!0),a>r.lastCurrentTime&&(r.lastCurrentTime=a),!r.loadingParts)){var v=Math.max(h.end,a),f=r.shouldLoadParts(r.getLevelDetails(),v);f&&(r.log("LL-Part loading ON after seeking to "+a.toFixed(2)+" with buffer @"+v.toFixed(2)),r.loadingParts=f)}r.hls.hasEnoughToStart||h.len||(r.log("setting startPosition to "+a+" because of seek before start"),r.nextLoadPosition=r.startPosition=a),r.tickImmediate()},r.onMediaEnded=function(){r.log("setting startPosition to 0 because media ended"),r.startPosition=r.lastCurrentTime=0},r.playlistType=o,r.hls=i,r.fragmentLoader=new go(i.config),r.keyLoader=s,r.fragmentTracker=e,r.config=i.config,r.decrypter=new sn(i.config),r}h(i,t);var e=i.prototype;return e.registerListeners=function(){var t=this.hls;t.on(D.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(D.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(D.MANIFEST_LOADING,this.onManifestLoading,this),t.on(D.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(D.ERROR,this.onError,this)},e.unregisterListeners=function(){var t=this.hls;t.off(D.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(D.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(D.MANIFEST_LOADING,this.onManifestLoading,this),t.off(D.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(D.ERROR,this.onError,this)},e.doTick=function(){this.onTickEnd()},e.onTickEnd=function(){},e.startLoad=function(t){},e.stopLoad=function(){if(this.state!==Bo.STOPPED){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);var t=this.fragCurrent;null!=t&&t.loader&&(t.abortRequests(),this.fragmentTracker.removeFragment(t)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=Bo.STOPPED}},e.pauseBuffering=function(){this.buffering=!1},e.resumeBuffering=function(){this.buffering=!0},e.At=function(t,i){if(i.live||!this.media)return!1;var e=t.end||0,s=this.config.timelineOffset||0;if(e<=s)return!1;var n=t.nextStart;if(n&&n>s&&n<i.edge)return!1;if(this.media.currentTime<t.start)return!1;var o=i.partList;if(null!=o&&o.length){var r=o[o.length-1];return Vi.isBuffered(this.media,r.start+r.duration/2)}var a=i.fragments[i.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(a)},e.getLevelDetails=function(){var t;if(this.levels&&null!==this.levelLastLoaded)return null==(t=this.levelLastLoaded)?void 0:t.details},e.onMediaAttached=function(t,i){var e=this.media=this.mediaBuffer=i.media;e.removeEventListener("seeking",this.onMediaSeeking),e.removeEventListener("ended",this.onMediaEnded),e.addEventListener("seeking",this.onMediaSeeking),e.addEventListener("ended",this.onMediaEnded);var s=this.config;this.levels&&s.autoStartLoad&&this.state===Bo.STOPPED&&this.startLoad(s.startPosition)},e.onMediaDetaching=function(t,i){var e=!!i.transferMedia,s=this.media;if(null!==s){if(s.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),s.removeEventListener("seeking",this.onMediaSeeking),s.removeEventListener("ended",this.onMediaEnded),this.keyLoader&&!e&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loopSn=void 0,e)return this.resetLoadingState(),void this.resetTransmuxer();this.loadingParts=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}},e.onManifestLoading=function(){this.initPTS=[],this.levels=this.levelLastLoaded=this.fragCurrent=null,this.lastCurrentTime=this.startPosition=0,this.startFragRequested=!1},e.onError=function(t,i){},e.onManifestLoaded=function(t,i){this.startTimeOffset=i.startTimeOffset},e.onHandlerDestroying=function(){this.stopLoad(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),t.prototype.onHandlerDestroying.call(this),this.hls=this.onMediaSeeking=this.onMediaEnded=null},e.onHandlerDestroyed=function(){this.state=Bo.STOPPED,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,t.prototype.onHandlerDestroyed.call(this)},e.loadFragment=function(t,i,e){this.startFragRequested=!0,this.bt(t,i,e)},e.bt=function(t,i,e){var s=this,n=function(t){var i=t.frag;if(s.fragContextChanged(i))return s.warn(i.type+" sn: "+i.sn+(t.part?" part: "+t.part.index:"")+" of "+s.fragInfo(i,!1,t.part)+") was dropped during download."),void s.fragmentTracker.removeFragment(i);i.stats.chunkCount++,s.yt(t)};this.wt(t,i,e,n).then((function(t){if(t){var i=s.state,e=t.frag;s.fragContextChanged(e)?(i===Bo.FRAG_LOADING||!s.fragCurrent&&i===Bo.PARSING)&&(s.fragmentTracker.removeFragment(e),s.state=Bo.IDLE):("payload"in t&&(s.log("Loaded "+e.type+" sn: "+e.sn+" of "+s.playlistLabel()+" "+e.level),s.hls.trigger(D.FRAG_LOADED,t)),s._t(t))}})).catch((function(i){s.state!==Bo.STOPPED&&s.state!==Bo.ERROR&&(s.warn("Frag error: "+((null==i?void 0:i.message)||i)),s.resetFragmentLoading(t))}))},e.clearTrackerIfNeeded=function(t){var i,e=this.fragmentTracker;if(e.getState(t)===uo.APPENDING){var s=t.type,n=this.getFwdBufferInfo(this.mediaBuffer,s),o=Math.max(t.duration,n?n.len:this.config.maxBufferLength),r=this.backtrackFragment;(1==(r?t.sn-r.sn:0)||this.reduceMaxBufferLength(o,t.duration))&&e.removeFragment(t)}else 0===(null==(i=this.mediaBuffer)?void 0:i.buffered.length)?e.removeAllFragments():e.hasParts(t.type)&&(e.detectPartialFragments({frag:t,part:null,stats:t.stats,id:t.type}),e.getState(t)===uo.PARTIAL&&e.removeFragment(t))},e.checkLiveUpdate=function(t){if(t.updated&&!t.live){var i=t.fragments[t.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:i,part:null,stats:i.stats,id:i.type})}t.fragments[0]||(t.deltaUpdateFailed=!0)},e.waitForLive=function(t){var i=t.details;return(null==i?void 0:i.live)&&"EVENT"!==i.type&&(this.levelLastLoaded!==t||i.expired)},e.flushMainBuffer=function(t,i,e){if(void 0===e&&(e=null),t-i){var s={startOffset:t,endOffset:i,type:e};this.hls.trigger(D.BUFFER_FLUSHING,s)}},e.jt=function(t,i){var e=this;this.wt(t,i).then((function(t){var i=null==t?void 0:t.frag;if(!i||e.fragContextChanged(i)||!e.levels)throw new Error("init load aborted");return t})).then((function(t){var i=e.hls,s=t.frag,n=t.payload,o=s.decryptdata;if(n&&n.byteLength>0&&null!=o&&o.key&&o.iv&&le(o.method)){var r=self.performance.now();return e.decrypter.decrypt(new Uint8Array(n),o.key.buffer,o.iv.buffer,ue(o.method)).catch((function(t){throw i.trigger(D.ERROR,{type:I.MEDIA_ERROR,details:M.FRAG_DECRYPT_ERROR,fatal:!1,error:t,reason:t.message,frag:s}),t})).then((function(n){var o=self.performance.now();return i.trigger(D.FRAG_DECRYPTED,{frag:s,payload:n,stats:{tstart:r,tdecrypt:o}}),t.payload=n,e.completeInitSegmentLoad(t)}))}return e.completeInitSegmentLoad(t)})).catch((function(i){e.state!==Bo.STOPPED&&e.state!==Bo.ERROR&&(e.warn(i),e.resetFragmentLoading(t))}))},e.completeInitSegmentLoad=function(t){if(!this.levels)throw new Error("init load aborted, missing levels");var i=t.frag.stats;this.state!==Bo.STOPPED&&(this.state=Bo.IDLE),t.frag.data=new Uint8Array(t.payload),i.parsing.start=i.buffering.start=self.performance.now(),i.parsing.end=i.buffering.end=self.performance.now(),this.tick()},e.fragContextChanged=function(t){var i=this.fragCurrent;return!t||!i||t.sn!==i.sn||t.level!==i.level},e.fragBufferedComplete=function(t,i){var e=this.mediaBuffer?this.mediaBuffer:this.media;if(this.log("Buffered "+t.type+" sn: "+t.sn+(i?" part: "+i.index:"")+" of "+this.fragInfo(t,!1,i)+" > buffer:"+(e?Do.toString(Vi.getBuffered(e)):"(detached)")+")"),et(t)){var s;if(t.type!==N.SUBTITLE){var n=t.elementaryStreams;if(!Object.keys(n).some((function(t){return!!n[t]})))return void(this.state=Bo.IDLE)}var o=null==(s=this.levels)?void 0:s[t.level];null!=o&&o.fragmentError&&(this.log("Resetting level fragment error count of "+o.fragmentError+" on frag buffered"),o.fragmentError=0)}this.state=Bo.IDLE},e._t=function(t){var i=this.transmuxer;if(i){var e=t.frag,s=t.part,n=t.partsLoaded,o=!n||0===n.length||n.some((function(t){return!t})),r=new jo(e.level,e.sn,e.stats.chunkCount+1,0,s?s.index:-1,!o);i.flush(r)}},e.yt=function(t){},e.wt=function(t,i,e,s){var n,o=this;void 0===e&&(e=null),this.fragCurrent=t;var r=null==i?void 0:i.details;if(!this.levels||!r)throw new Error("frag load aborted, missing level"+(r?"":" detail")+"s");var a=null;!t.encrypted||null!=(n=t.decryptdata)&&n.key?!t.encrypted&&r.encryptedFragments.length&&this.keyLoader.loadClear(t,r.encryptedFragments):(this.log("Loading key for "+t.sn+" of ["+r.startSN+"-"+r.endSN+"], "+this.playlistLabel()+" "+t.level),this.state=Bo.KEY_LOADING,this.fragCurrent=t,a=this.keyLoader.load(t).then((function(t){if(!o.fragContextChanged(t.frag))return o.hls.trigger(D.KEY_LOADED,t),o.state===Bo.KEY_LOADING&&(o.state=Bo.IDLE),t})),this.hls.trigger(D.KEY_LOADING,{frag:t}),null===this.fragCurrent&&(a=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING"))));var h=this.fragPrevious;if(et(t)&&(!h||t.sn!==h.sn)){var l=this.shouldLoadParts(i.details,t.end);l!==this.loadingParts&&(this.log("LL-Part loading "+(l?"ON":"OFF")+" loading sn "+(null==h?void 0:h.sn)+"->"+t.sn),this.loadingParts=l)}if(e=Math.max(t.start,e||0),this.loadingParts&&et(t)){var u=r.partList;if(u&&s){e>t.end&&r.fragmentHint&&(t=r.fragmentHint);var d=this.getNextPart(u,t,e);if(d>-1){var c,v=u[d];return t=this.fragCurrent=v.fragment,this.log("Loading "+t.type+" sn: "+t.sn+" part: "+v.index+" ("+d+"/"+(u.length-1)+") of "+this.fragInfo(t,!1,v)+") cc: "+t.cc+" ["+r.startSN+"-"+r.endSN+"], target: "+parseFloat(e.toFixed(3))),this.nextLoadPosition=v.start+v.duration,this.state=Bo.FRAG_LOADING,c=a?a.then((function(e){return!e||o.fragContextChanged(e.frag)?null:o.doFragPartsLoad(t,v,i,s)})).catch((function(t){return o.handleFragLoadError(t)})):this.doFragPartsLoad(t,v,i,s).catch((function(t){return o.handleFragLoadError(t)})),this.hls.trigger(D.FRAG_LOADING,{frag:t,part:v,targetBufferTime:e}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):c}if(!t.url||this.loadedEndOfParts(u,e))return Promise.resolve(null)}}if(et(t)&&this.loadingParts)this.log("LL-Part loading OFF after next part miss @"+e.toFixed(2)),this.loadingParts=!1;else if(!t.url)return Promise.resolve(null);this.log("Loading "+t.type+" sn: "+t.sn+" of "+this.fragInfo(t,!1)+") cc: "+t.cc+" "+(r?"["+r.startSN+"-"+r.endSN+"]":"")+", target: "+parseFloat(e.toFixed(3))),S(t.sn)&&!this.bitrateTest&&(this.nextLoadPosition=t.start+t.duration),this.state=Bo.FRAG_LOADING;var f,p=this.config.progressive;return f=p&&a?a.then((function(i){return!i||o.fragContextChanged(null==i?void 0:i.frag)?null:o.fragmentLoader.load(t,s)})).catch((function(t){return o.handleFragLoadError(t)})):Promise.all([this.fragmentLoader.load(t,p?s:void 0),a]).then((function(t){var i=t[0];return!p&&i&&s&&s(i),i})).catch((function(t){return o.handleFragLoadError(t)})),this.hls.trigger(D.FRAG_LOADING,{frag:t,targetBufferTime:e}),null===this.fragCurrent?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):f},e.doFragPartsLoad=function(t,i,e,s){var n=this;return new Promise((function(o,r){var a,h=[],l=null==(a=e.details)?void 0:a.partList,u=function(i){n.fragmentLoader.loadPart(t,i,s).then((function(s){h[i.index]=s;var r=s.part;n.hls.trigger(D.FRAG_LOADED,s);var a=Ge(e.details,t.sn,i.index+1)||He(l,t.sn,i.index+1);if(!a)return o({frag:t,part:r,partsLoaded:h});u(a)})).catch(r)};u(i)}))},e.handleFragLoadError=function(t){if("data"in t){var i=t.data;t.data&&i.details===M.INTERNAL_ABORTED?this.handleFragLoadAborted(i.frag,i.part):this.hls.trigger(D.ERROR,i)}else this.hls.trigger(D.ERROR,{type:I.OTHER_ERROR,details:M.INTERNAL_EXCEPTION,err:t,error:t,fatal:!0});return null},e.xt=function(t){var i=this.getCurrentContext(t);if(i&&this.state===Bo.PARSING){var e=i.frag,s=i.part,n=i.level,o=self.performance.now();e.stats.parsing.end=o,s&&(s.stats.parsing.end=o);var r=this.getLevelDetails(),a=r&&e.sn>r.endSN||this.shouldLoadParts(r,e.end);a!==this.loadingParts&&(this.log("LL-Part loading "+(a?"ON":"OFF")+" after parsing segment ending @"+e.end.toFixed(2)),this.loadingParts=a),this.updateLevelTiming(e,s,n,t.partial)}else this.fragCurrent||this.state===Bo.STOPPED||this.state===Bo.ERROR||(this.state=Bo.IDLE)},e.shouldLoadParts=function(t,i){if(this.config.lowLatencyMode){if(!t)return this.loadingParts;if(null!=t&&t.partList){var e,s,n=t.partList[0];if(i>=n.end+((null==(e=t.fragmentHint)?void 0:e.duration)||0)&&(this.hls.hasEnoughToStart?(null==(s=this.media)?void 0:s.currentTime)||this.lastCurrentTime:this.getLoadPosition())>n.start-n.fragment.duration)return!0}}return!1},e.getCurrentContext=function(t){var i=this.levels,e=this.fragCurrent,s=t.level,n=t.sn,o=t.part;if(null==i||!i[s])return this.warn("Levels object was unset while buffering fragment "+n+" of "+this.playlistLabel()+" "+s+". The current chunk will not be buffered."),null;var r=i[s],a=r.details,h=o>-1?Ge(a,n,o):null,l=h?h.fragment:Fe(a,n,e);return l?(e&&e!==l&&(l.stats=e.stats),{frag:l,part:h,level:r}):null},e.bufferFragmentData=function(t,i,e,s,n){var o;if(t&&this.state===Bo.PARSING){var r=t.data1,a=t.data2,h=r;if(r&&a&&(h=Dt(r,a)),null!=(o=h)&&o.length){var l={type:t.type,frag:i,part:e,chunkMeta:s,parent:i.type,data:h};if(this.hls.trigger(D.BUFFER_APPENDING,l),t.dropped&&t.independent&&!e){if(n)return;this.flushBufferGap(i)}}}},e.flushBufferGap=function(t){var i=this.media;if(i)if(Vi.isBuffered(i,i.currentTime)){var e=i.currentTime,s=Vi.bufferInfo(i,e,0),n=t.duration,o=Math.min(2*this.config.maxFragLookUpTolerance,.25*n),r=Math.max(Math.min(t.start-o,s.end-o),e+o);t.start-r>o&&this.flushMainBuffer(r,t.start)}else this.flushMainBuffer(0,t.start)},e.getFwdBufferInfo=function(t,i){var e,s=this.getLoadPosition();if(!S(s))return null;var n=this.lastCurrentTime>s||null!=(e=this.media)&&e.paused?0:this.config.maxBufferHole;return this.getFwdBufferInfoAtPos(t,s,i,n)},e.getFwdBufferInfoAtPos=function(t,i,e,s){var n=Vi.bufferInfo(t,i,s);if(0===n.len&&void 0!==n.nextStart){var o=this.fragmentTracker.getBufferedFrag(i,e);if(o&&(n.nextStart<=o.end||o.gap)){var r=Math.max(Math.min(n.nextStart,o.end)-i,s);return Vi.bufferInfo(t,i,r)}}return n},e.getMaxBufferLength=function(t){var i,e=this.config;return i=t?Math.max(8*e.maxBufferSize/t,e.maxBufferLength):e.maxBufferLength,Math.min(i,e.maxMaxBufferLength)},e.reduceMaxBufferLength=function(t,i){var e=this.config,s=Math.max(Math.min(t-i,e.maxBufferLength),i),n=Math.max(t-3*i,e.maxMaxBufferLength/2,s);return n>=s&&(e.maxMaxBufferLength=n,this.warn("Reduce max buffer length to "+n+"s"),!0)},e.getAppendedFrag=function(t,i){var e;void 0===i&&(i=N.MAIN);var s=null==(e=this.fragmentTracker)?void 0:e.getAppendedFrag(t,i);return s&&"fragment"in s?s.fragment:s},e.getNextFragment=function(t,i){var e=i.fragments,s=e.length;if(!s)return null;var n=this.config,o=e[0].start,r=n.lowLatencyMode&&!!i.partList,a=null;if(i.live){var h=n.initialLiveManifestSize;if(s<h)return this.warn("Not enough fragments to start playback (have: "+s+", need: "+h+")"),null;if(!i.PTSKnown&&!this.startFragRequested&&-1===this.startPosition||t<o){var l;r&&!this.loadingParts&&(this.log("LL-Part loading ON for initial live fragment"),this.loadingParts=!0),a=this.getInitialLiveFragment(i,e);var u=this.hls.startPosition,d=this.hls.liveSyncPosition,c=a?(-1!==u&&u>=o?u:d)||a.start:t;this.log("Setting startPosition to "+c+" to match start frag at live edge. mainStart: "+u+" liveSyncPosition: "+d+" frag.start: "+(null==(l=a)?void 0:l.start)),this.startPosition=this.nextLoadPosition=c}}else t<=o&&(a=e[0]);if(!a){var v=this.loadingParts?i.partEnd:i.fragmentEnd;a=this.getFragmentAtPosition(t,v,i)}var f=this.filterReplacedPrimary(a,i);if(!f&&a){var p=a.sn-i.startSN;f=this.filterReplacedPrimary(e[p+1]||null,i)}return this.mapToInitFragWhenRequired(f)},e.isLoopLoading=function(t,i){var e=this.fragmentTracker.getState(t);return(e===uo.OK||e===uo.PARTIAL&&!!t.gap)&&this.nextLoadPosition>i},e.getNextFragmentLoopLoading=function(t,i,e,s,n){var o=null;if(t.gap&&(o=this.getNextFragment(this.nextLoadPosition,i))&&!o.gap&&e.nextStart){var r=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,e.nextStart,s,0);if(null!==r&&e.len+r.len>=n){var a=o.sn;return this.loopSn!==a&&(this.log('buffer full after gaps in "'+s+'" playlist starting at sn: '+a),this.loopSn=a),null}}return this.loopSn=void 0,o},e.filterReplacedPrimary=function(t,i){return t?(Ro(this.hls.config),t):t},e.mapToInitFragWhenRequired=function(t){return null==t||!t.initSegment||null!=t&&t.initSegment.data||this.bitrateTest?t:t.initSegment},e.getNextPart=function(t,i,e){for(var s=-1,n=!1,o=!0,r=0,a=t.length;r<a;r++){var h=t[r];if(o=o&&!h.independent,s>-1&&e<h.start)break;var l=h.loaded;l?s=-1:(n||h.independent||o)&&h.fragment===i&&(s=r),n=l}return s},e.loadedEndOfParts=function(t,i){var e=t[t.length-1];return e&&i>e.start&&e.loaded},e.getInitialLiveFragment=function(t,i){var e=this.fragPrevious,s=null;if(e){if(t.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: "+e.programDateTime),s=Si(i,e.endProgramDateTime,this.config.maxFragLookUpTolerance)),!s){var n=e.sn+1;if(n>=t.startSN&&n<=t.endSN){var o=i[n-t.startSN];e.cc===o.cc&&(s=o,this.log("Live playlist, switching playlist, load frag with next SN: "+s.sn))}s||(s=Di(i,e.cc))&&this.log("Live playlist, switching playlist, load frag with same CC: "+s.sn)}}else{var r=this.hls.liveSyncPosition;null!==r&&(s=this.getFragmentAtPosition(r,this.bitrateTest?t.fragmentEnd:t.edge,t))}return s},e.getFragmentAtPosition=function(t,i,e){var s,n,o=this.config,r=this.fragPrevious,a=e.fragments,h=e.endSN,l=e.fragmentHint,u=o.maxFragLookUpTolerance,d=e.partList,c=!!(this.loadingParts&&null!=d&&d.length&&l);if(c&&l&&!this.bitrateTest&&d[d.length-1].fragment.sn===l.sn&&(a=a.concat(l),h=l.sn),s=t<i?Ti(r,a,t,t<this.lastCurrentTime||t>i-u||null!=(n=this.media)&&n.paused||!this.startFragRequested?0:u):a[a.length-1]){var v=s.sn-e.startSN,f=this.fragmentTracker.getState(s);if((f===uo.OK||f===uo.PARTIAL&&s.gap)&&(r=s),r&&s.sn===r.sn&&(!c||d[0].fragment.sn>s.sn||!e.live&&!c)&&r&&s.level===r.level){var p=a[v+1];s=s.sn<h&&this.fragmentTracker.getState(p)!==uo.OK?p:null}}return s},e.alignPlaylists=function(t,i,e){var s=t.fragments.length;if(!s)return this.warn("No fragments in live playlist"),0;var n=t.fragmentStart,o=!i,r=t.alignedSliding&&S(n);if(o||!r&&!n){Co(e,t);var a=t.fragmentStart;return this.log("Live playlist sliding: "+a.toFixed(2)+" start-sn: "+(i?i.startSN:"na")+"->"+t.startSN+" fragments: "+s),a}return n},e.waitForCdnTuneIn=function(t){var i=3;return t.live&&t.canBlockReload&&t.partTarget&&t.tuneInGoal>Math.max(t.partHoldBack,t.partTarget*i)},e.setStartPosition=function(t,i){var e=this.startPosition;e<i&&(e=-1);var s=this.timelineOffset;if(-1===e){var n=null!==this.startTimeOffset,o=n?this.startTimeOffset:t.startTimeOffset;null!==o&&S(o)?(e=i+o,o<0&&(e+=t.edge),e=Math.min(Math.max(i,e),i+t.totalduration),this.log("Setting startPosition to "+e+" for start time offset "+o+" found in "+(n?"multivariant":"media")+" playlist"),this.startPosition=e):t.live?(e=this.hls.liveSyncPosition||i,this.log("Setting startPosition to -1 to start at live edge "+e),this.startPosition=-1):(this.log("setting startPosition to 0 by default"),this.startPosition=e=0),this.lastCurrentTime=e+s}this.nextLoadPosition=e+s},e.getLoadPosition=function(){var t,i=this.media,e=0;return null!=(t=this.hls)&&t.hasEnoughToStart&&i?e=i.currentTime:this.nextLoadPosition>=0&&(e=this.nextLoadPosition),e},e.handleFragLoadAborted=function(t,i){this.transmuxer&&t.type===this.playlistType&&et(t)&&t.stats.aborted&&(this.warn("Fragment "+t.sn+(i?" part "+i.index:"")+" of "+this.playlistLabel()+" "+t.level+" was aborted"),this.resetFragmentLoading(t))},e.resetFragmentLoading=function(t){this.fragCurrent&&(this.fragContextChanged(t)||this.state===Bo.FRAG_LOADING_WAITING_RETRY)||(this.state=Bo.IDLE)},e.onFragmentOrKeyLoadError=function(t,i){if(i.chunkMeta&&!i.frag){var e=this.getCurrentContext(i.chunkMeta);e&&(i.frag=e.frag)}var s=i.frag;if(s&&s.type===t&&this.levels)if(this.fragContextChanged(s)){var n;this.warn("Frag load error must match current frag to retry "+s.url+" > "+(null==(n=this.fragCurrent)?void 0:n.url))}else{var o=i.details===M.FRAG_GAP;o&&this.fragmentTracker.fragBuffered(s,!0);var r=i.errorAction,a=r||{},h=a.action,l=a.flags,u=a.retryCount,d=void 0===u?0:u,c=a.retryConfig,v=!!r&&!!c,f=v&&h===Li.RetryRequest,p=v&&!r.resolved&&l===zi.MoveAllAlternatesMatchingHost;if(!f&&p&&et(s)&&!s.endList)this.resetFragmentErrors(t),this.treatAsGap(s),r.resolved=!0;else if((f||p)&&d<c.maxNumRetry){this.resetStartWhenNotLoaded(this.levelLastLoaded);var m=Ri(c,d);this.warn("Fragment "+s.sn+" of "+t+" "+s.level+" errored with "+i.details+", retrying loading "+(d+1)+"/"+c.maxNumRetry+" in "+m+"ms"),r.resolved=!0,this.retryDate=self.performance.now()+m,this.state=Bo.FRAG_LOADING_WAITING_RETRY}else if(c&&r){if(this.resetFragmentErrors(t),!(d<c.maxNumRetry))return void this.warn(i.details+" reached or exceeded max retry ("+d+")");o||h===Li.RemoveAlternatePermanently||(r.resolved=!0)}else h===Li.SendAlternateToPenaltyBox?this.state=Bo.WAITING_LEVEL:this.state=Bo.ERROR;this.tickImmediate()}},e.reduceLengthAndFlushBuffer=function(t){if(this.state===Bo.PARSING||this.state===Bo.PARSED){var i=t.frag,e=t.parent,s=this.getFwdBufferInfo(this.mediaBuffer,e),n=s&&s.len>.5;n&&this.reduceMaxBufferLength(s.len,(null==i?void 0:i.duration)||10);var o=!n;return o&&this.warn("Buffer full error while media.currentTime is not buffered, flush "+e+" buffer"),i&&(this.fragmentTracker.removeFragment(i),this.nextLoadPosition=i.start),this.resetLoadingState(),o}return!1},e.resetFragmentErrors=function(t){t===N.AUDIO&&(this.fragCurrent=null),this.hls.hasEnoughToStart||(this.startFragRequested=!1),this.state!==Bo.STOPPED&&(this.state=Bo.IDLE)},e.afterBufferFlushed=function(t,i,e){if(t){var s=Vi.getBuffered(t);this.fragmentTracker.detectEvictedFragments(i,s,e),this.state===Bo.ENDED&&this.resetLoadingState()}},e.resetLoadingState=function(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state!==Bo.STOPPED&&(this.state=Bo.IDLE)},e.resetStartWhenNotLoaded=function(t){if(!this.hls.hasEnoughToStart){this.startFragRequested=!1;var i=t?t.details:null;null!=i&&i.live?(this.log("resetting startPosition for live start"),this.startPosition=-1,this.setStartPosition(i,i.fragmentStart),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}},e.resetWhenMissingContext=function(t){this.warn("The loading context changed while buffering fragment "+t.sn+" of "+this.playlistLabel()+" "+t.level+". This chunk will not be buffered."),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState()},e.removeUnbufferedFrags=function(t){void 0===t&&(t=0),this.fragmentTracker.removeFragmentsInRange(t,1/0,this.playlistType,!1,!0)},e.updateLevelTiming=function(t,i,e,s){var n=this,o=e.details;if(o){var r;if(!Object.keys(t.elementaryStreams).reduce((function(i,r){var a=t.elementaryStreams[r];if(a){var h=a.endPTS-a.startPTS;if(h<=0)return n.warn("Could not parse fragment "+t.sn+" "+r+" duration reliably ("+h+")"),i||!1;var l=s?0:De(o,t,a.startPTS,a.endPTS,a.startDTS,a.endDTS);return n.hls.trigger(D.LEVEL_PTS_UPDATED,{details:o,level:e,drift:l,type:r,frag:t,start:a.startPTS,end:a.endPTS}),!0}return i}),!1)&&(0===e.fragmentError&&this.treatAsGap(t,e),null===(null==(r=this.transmuxer)?void 0:r.error))){var a=new Error("Found no media in fragment "+t.sn+" of "+this.playlistLabel()+" "+t.level+" resetting transmuxer to fallback to playlist timing");if(this.warn(a.message),this.hls.trigger(D.ERROR,{type:I.MEDIA_ERROR,details:M.FRAG_PARSING_ERROR,fatal:!1,error:a,frag:t,reason:"Found no media in msn "+t.sn+" of "+this.playlistLabel()+' "'+e.url+'"'}),!this.hls)return;this.resetTransmuxer()}this.state=Bo.PARSED,this.log("Parsed "+t.type+" sn: "+t.sn+(i?" part: "+i.index:"")+" of "+this.fragInfo(t,!1,i)+")"),this.hls.trigger(D.FRAG_PARSED,{frag:t,part:i})}else this.warn("level.details undefined")},e.playlistLabel=function(){return this.playlistType===N.MAIN?"level":"track"},e.fragInfo=function(t,i,e){var s,n;return void 0===i&&(i=!0),this.playlistLabel()+" "+t.level+" ("+(e?"part":"frag")+":["+(null!=(s=i&&!e?t.startPTS:(e||t).start)?s:NaN).toFixed(3)+"-"+(null!=(n=i&&!e?t.endPTS:(e||t).end)?n:NaN).toFixed(3)+"]"+(e&&"main"===t.type?"INDEPENDENT="+(e.independent?"YES":"NO"):"")},e.treatAsGap=function(t,i){i&&i.fragmentError++,t.gap=!0,this.fragmentTracker.removeFragment(t),this.fragmentTracker.fragBuffered(t,!0)},e.resetTransmuxer=function(){var t;null==(t=this.transmuxer)||t.reset()},e.recoverWorkerError=function(t){"demuxerWorker"===t.event&&(this.fragmentTracker.removeAllFragments(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState())},n(i,[{key:"startPositionValue",get:function(){var t=this.nextLoadPosition,i=this.startPosition;return-1===i&&t?t:i}},{key:"bufferingEnabled",get:function(){return this.buffering}},{key:"inFlightFrag",get:function(){return{frag:this.fragCurrent,state:this.state}}},{key:"timelineOffset",get:function(){var t,i=this.config.timelineOffset;return i?(null==(t=this.getLevelDetails())?void 0:t.appliedTimelineOffset)||i:0}},{key:"primaryPrefetch",get:function(){return Ro(this.hls.config),!1}},{key:"state",get:function(){return this.gt},set:function(t){var i=this.gt;i!==t&&(this.gt=t,this.log(i+"->"+t))}}])}(_o);function Ro(t){return!1}function Uo(t,i,e){Po(t,i,e),t.addEventListener(i,e)}function Po(t,i,e){t.removeEventListener(i,e)}var Oo=2,Lo=.1,zo=.05,Fo=100,Go=function(t){function i(i,e){var s;return(s=t.call(this,"gap-controller",i.logger)||this).hls=null,s.fragmentTracker=null,s.media=null,s.mediaSource=void 0,s.nudgeRetry=0,s.stallReported=!1,s.stalled=null,s.moved=!1,s.seeking=!1,s.buffered={},s.lastCurrentTime=0,s.ended=0,s.waiting=0,s.onMediaPlaying=function(){s.ended=0,s.waiting=0},s.onMediaWaiting=function(){var t;null!=(t=s.media)&&t.seeking||(s.waiting=self.performance.now(),s.tick())},s.onMediaEnded=function(){var t;s.hls&&(s.ended=(null==(t=s.media)?void 0:t.currentTime)||1,s.hls.trigger(D.MEDIA_ENDED,{stalled:!1}))},s.hls=i,s.fragmentTracker=e,s.registerListeners(),s}h(i,t);var e=i.prototype;return e.registerListeners=function(){var t=this.hls;t&&(t.on(D.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(D.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(D.BUFFER_APPENDED,this.onBufferAppended,this))},e.unregisterListeners=function(){var t=this.hls;t&&(t.off(D.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(D.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(D.BUFFER_APPENDED,this.onBufferAppended,this))},e.destroy=function(){t.prototype.destroy.call(this),this.unregisterListeners(),this.media=this.hls=this.fragmentTracker=null,this.mediaSource=void 0},e.onMediaAttached=function(t,i){this.setInterval(Fo),this.mediaSource=i.mediaSource;var e=this.media=i.media;Uo(e,"playing",this.onMediaPlaying),Uo(e,"waiting",this.onMediaWaiting),Uo(e,"ended",this.onMediaEnded)},e.onMediaDetaching=function(t,i){this.clearInterval();var e=this.media;e&&(Po(e,"playing",this.onMediaPlaying),Po(e,"waiting",this.onMediaWaiting),Po(e,"ended",this.onMediaEnded),this.media=null),this.mediaSource=void 0},e.onBufferAppended=function(t,i){this.buffered=i.timeRanges},e.tick=function(){var t;if(null!=(t=this.media)&&t.readyState&&this.hasBuffered){var i=this.media.currentTime;this.poll(i,this.lastCurrentTime),this.lastCurrentTime=i}},e.poll=function(t,i){var e,s,n=null==(e=this.hls)?void 0:e.config;if(n){var o=this.media,r=this.stalled;if(o){var a=o.seeking,h=this.seeking&&!a,l=!this.seeking&&a,u=o.paused&&!a||o.ended||0===o.playbackRate;if(this.seeking=a,t!==i)return i&&(this.ended=0),this.moved=!0,a||(this.nudgeRetry=0,n.nudgeOnVideoHole&&!u&&t>i&&this.nudgeOnVideoHole(t,i)),void(0===this.waiting&&this.stallResolved(t));if(l||h)h&&this.stallResolved(t);else{if(u)return this.nudgeRetry=0,this.stallResolved(t),void(!this.ended&&o.ended&&this.hls&&(this.ended=t||1,this.hls.trigger(D.MEDIA_ENDED,{stalled:!1})));if(Vi.getBuffered(o).length){var d=Vi.bufferInfo(o,t,0),c=d.nextStart||0,v=this.fragmentTracker;if(a&&v&&this.hls){var f=Ho(this.hls.inFlightFragments,t),p=d.len>Oo,m=!c||f||c-t>Oo&&!v.getPartialFragment(t);if(p||m)return;this.moved=!1}var g=null==(s=this.hls)?void 0:s.latestLevelDetails;if(!this.moved&&null!==this.stalled&&v){if(!(d.len>0||c))return;var A=Math.max(c,d.start||0)-t,b=null!=g&&g.live?2*g.targetduration:Oo,y=v.getPartialFragment(t);if(A>0&&(A<=b||y))return void(o.paused||this.kt(y))}var w=n.detectStallWithCurrentTimeMs,_=self.performance.now(),j=this.waiting;if(null!==r){var x=_-r;if(!a&&(x>=w||j)&&this.hls){var k;if("ended"===(null==(k=this.mediaSource)?void 0:k.readyState)&&(null==g||!g.live)&&Math.abs(t-((null==g?void 0:g.edge)||0))<1){if(this.ended)return;return this.ended=t||1,void this.hls.trigger(D.MEDIA_ENDED,{stalled:!0})}if(this.Et(d),!this.media||!this.hls)return}var E=Vi.bufferInfo(o,t,n.maxBufferHole);this.St(E,x)}else this.stalled=j>0&&_-j<w?j:_}else this.nudgeRetry=0}}}},e.stallResolved=function(t){var i=this.stalled;if(i&&this.hls&&(this.stalled=null,this.stallReported)){var e=self.performance.now()-i;this.log("playback not stuck anymore @"+t+", after "+Math.round(e)+"ms"),this.stallReported=!1,this.waiting=0,this.hls.trigger(D.STALL_RESOLVED,{})}},e.nudgeOnVideoHole=function(t,i){var e,s=this.buffered.video;if(this.hls&&this.media&&this.fragmentTracker&&null!=(e=this.buffered.audio)&&e.length&&s&&s.length>1&&t>s.end(0)){var n=Vi.bufferedInfo(Vi.timeRangesToArray(this.buffered.audio),t,0);if(n.len>1&&i>=n.start){var o=Vi.timeRangesToArray(s),r=Vi.bufferedInfo(o,i,0).bufferedIndex;if(r>-1&&r<o.length-1){var a=Vi.bufferedInfo(o,t,0).bufferedIndex,h=o[r].end,l=o[r+1].start;if((-1===a||a>r)&&l-h<1&&t-h<2){var u=new Error("nudging playhead to flush pipeline after video hole. currentTime: "+t+" hole: "+h+" -> "+l+" buffered index: "+a);this.warn(u.message),this.media.currentTime+=1e-6;var d=this.fragmentTracker.getPartialFragment(t)||void 0,c=Vi.bufferInfo(this.media,t,0);this.hls.trigger(D.ERROR,{type:I.MEDIA_ERROR,details:M.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:u,reason:u.message,frag:d,buffer:c.len,bufferInfo:c})}}}}},e.St=function(t,i){var e,s,n=this.fragmentTracker,o=this.media,r=null==(e=this.hls)?void 0:e.config;if(o&&n&&r){var a=o.currentTime,h=null==(s=this.hls)?void 0:s.latestLevelDetails,l=n.getPartialFragment(a);if((l||null!=h&&h.live&&a<h.fragmentStart)&&(this.kt(l)||!this.media))return;var u=t.buffered;(u&&u.length>1&&t.len>r.maxBufferHole||t.nextStart&&t.nextStart-a<r.maxBufferHole)&&(i>1e3*r.highBufferWatchdogPeriod||this.waiting)&&(this.warn("Trying to nudge playhead over buffer-hole"),this.Tt(t))}},e.Et=function(t){var i=this.hls,e=this.media,s=this.stallReported,n=this.stalled;if(!s&&null!==n&&e&&i){this.stallReported=!0;var o=new Error("Playback stalling at @"+e.currentTime+" due to low buffer ("+Ai(t)+")");this.warn(o.message),i.trigger(D.ERROR,{type:I.MEDIA_ERROR,details:M.BUFFER_STALLED_ERROR,fatal:!1,error:o,buffer:t.len,bufferInfo:t,stalled:{start:n}})}},e.kt=function(t){var i,e=this.fragmentTracker,s=this.media,n=null==(i=this.hls)?void 0:i.config;if(!s||!e||!n)return 0;var o=s.currentTime,r=Vi.bufferInfo(s,o,0),a=o<r.start?r.start:r.nextStart;if(a&&this.hls){var h=r.len<=n.maxBufferHole,l=r.len>0&&r.len<1&&s.readyState<3,u=a-o;if(u>0&&(h||l)){if(u>n.maxBufferHole){var d=!1;if(0===o){var c=e.getAppendedFrag(0,N.MAIN);c&&a<c.end&&(d=!0)}if(!d){var v=t||e.getAppendedFrag(o,N.MAIN);if(v){var f;if(null==(f=this.hls.loadLevelObj)||!f.details)return 0;if(Ho(this.hls.inFlightFragments,a))return 0;for(var p=!1,m=v.end;m<a;){var g=e.getPartialFragment(m);if(!g){p=!0;break}m+=g.duration}if(p)return 0}}}var A=Math.max(a+zo,o+Lo);if(this.warn("skipping hole, adjusting currentTime from "+o+" to "+A),this.moved=!0,s.currentTime=A,null==t||!t.gap){var b=new Error("fragment loaded with buffer holes, seeking from "+o+" to "+A);this.hls.trigger(D.ERROR,{type:I.MEDIA_ERROR,details:M.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:b,reason:b.message,frag:t||void 0,buffer:r.len,bufferInfo:r})}return A}}return 0},e.Tt=function(t){var i=this.hls,e=this.media,s=this.nudgeRetry,n=null==i?void 0:i.config;if(!e||!n)return 0;var o=e.currentTime;if(this.nudgeRetry++,s<n.nudgeMaxRetry){var r=o+(s+1)*n.nudgeOffset,a=new Error("Nudging 'currentTime' from "+o+" to "+r);this.warn(a.message),e.currentTime=r,i.trigger(D.ERROR,{type:I.MEDIA_ERROR,details:M.BUFFER_NUDGE_ON_STALL,error:a,fatal:!1,buffer:t.len,bufferInfo:t})}else{var h=new Error("Playhead still not moving while enough data buffered @"+o+" after "+n.nudgeMaxRetry+" nudges");this.error(h.message),i.trigger(D.ERROR,{type:I.MEDIA_ERROR,details:M.BUFFER_STALLED_ERROR,error:h,fatal:!0,buffer:t.len,bufferInfo:t})}},n(i,[{key:"hasBuffered",get:function(){return Object.keys(this.buffered).length>0}}])}(_o);function Ho(t,i){var e=Vo(t.main);if(e&&e.start<=i)return e;var s=Vo(t.audio);return s&&s.start<=i?s:null}function Vo(t){if(!t)return null;switch(t.state){case Bo.IDLE:case Bo.STOPPED:case Bo.ENDED:case Bo.ERROR:return null}return t.frag}function Yo(t,i){var e;try{e=new Event("addtrack")}catch(t){(e=document.createEvent("Event")).initEvent("addtrack",!1,!1)}e.track=t,i.dispatchEvent(e)}function Qo(t,i){var e=t.mode;if("disabled"===e&&(t.mode="hidden"),t.cues)for(var s=t.cues.length;s--;)i&&t.cues[s].removeEventListener("enter",i),t.removeCue(t.cues[s]);"disabled"===e&&(t.mode=e)}function Jo(t,i,e,s){var n=t.mode;if("disabled"===n&&(t.mode="hidden"),t.cues&&t.cues.length>0)for(var o=Zo(t.cues,i,e),r=0;r<o.length;r++)s&&!s(o[r])||t.removeCue(o[r]);"disabled"===n&&(t.mode=n)}function Wo(t,i){if(i<=t[0].startTime)return 0;var e=t.length-1;if(i>t[e].endTime)return-1;for(var s,n=0,o=e;n<=o;)if(i<t[s=Math.floor((o+n)/2)].startTime)o=s-1;else{if(!(i>t[s].startTime&&n<e))return s;n=s+1}return t[n].startTime-i<i-t[o].startTime?n:o}function Zo(t,i,e){var s=[],n=Wo(t,i);if(n>-1)for(var o=n,r=t.length;o<r;o++){var a=t[o];if(a.startTime>=i&&a.endTime<=e)s.push(a);else if(a.startTime>e)return s}return s}var qo=.25;function Xo(){if("undefined"!=typeof self)return self.VTTCue||self.TextTrackCue}function Ko(t,i,e,s,n){var o=new t(i,e,"");try{o.value=s,n&&(o.type=n)}catch(r){o=new t(i,e,Ai(n?c({type:n},s):s))}return o}var $o=function(){var t=Xo();try{t&&new t(0,Number.POSITIVE_INFINITY,"")}catch(t){return Number.MAX_VALUE}return Number.POSITIVE_INFINITY}();function tr(t){return Uint8Array.from(t.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}var ir=function(){function t(t){var i=this;this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.removeCues=!0,this.onEventCueEnter=function(){i.hls&&i.hls.trigger(D.EVENT_CUE_ENTER,{})},this.hls=t,this.lt()}var i=t.prototype;return i.destroy=function(){this.ut(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=this.onEventCueEnter=null},i.lt=function(){var t=this.hls;t.on(D.MEDIA_ATTACHING,this.onMediaAttaching,this),t.on(D.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(D.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(D.MANIFEST_LOADING,this.onManifestLoading,this),t.on(D.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),t.on(D.BUFFER_FLUSHING,this.onBufferFlushing,this),t.on(D.LEVEL_UPDATED,this.onLevelUpdated,this),t.on(D.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this)},i.ut=function(){var t=this.hls;t.off(D.MEDIA_ATTACHING,this.onMediaAttaching,this),t.off(D.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(D.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(D.MANIFEST_LOADING,this.onManifestLoading,this),t.off(D.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),t.off(D.BUFFER_FLUSHING,this.onBufferFlushing,this),t.off(D.LEVEL_UPDATED,this.onLevelUpdated,this),t.off(D.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this)},i.onMediaAttaching=function(t,i){var e;this.media=i.media,!1===(null==(e=i.overrides)?void 0:e.cueRemoval)&&(this.removeCues=!1)},i.onMediaAttached=function(){var t=this.hls.latestLevelDetails;t&&this.updateDateRangeCues(t)},i.onMediaDetaching=function(t,i){this.media=null,i.transferMedia||(this.id3Track&&(this.removeCues&&Qo(this.id3Track,this.onEventCueEnter),this.id3Track=null),this.dateRangeCuesAppended={})},i.onManifestLoading=function(){this.dateRangeCuesAppended={}},i.createTrack=function(t){var i=this.getID3Track(t.textTracks);return i.mode="hidden",i},i.getID3Track=function(t){if(this.media){for(var i=0;i<t.length;i++){var e=t[i];if("metadata"===e.kind&&"id3"===e.label)return Yo(e,this.media),e}return this.media.addTextTrack("metadata","id3")}},i.onFragParsingMetadata=function(t,i){if(this.media){var e=this.hls.config,s=e.enableEmsgMetadataCues,n=e.enableID3MetadataCues;if(s||n){var o=i.samples;this.id3Track||(this.id3Track=this.createTrack(this.media));var r=Xo();if(r)for(var a=0;a<o.length;a++){var h=o[a].type;if((h!==Ds.emsg||s)&&n){var l=Ts(o[a].data);if(l){var u=o[a].pts,d=u+o[a].duration;d>$o&&(d=$o),d-u<=0&&(d=u+qo);for(var c=0;c<l.length;c++){var v=l[c];if(!Cs(v)){this.updateId3CueEnds(u,h);var f=Ko(r,u,d,v,h);f&&this.id3Track.addCue(f)}}}}}}}},i.updateId3CueEnds=function(t,i){var e,s=null==(e=this.id3Track)?void 0:e.cues;if(s)for(var n=s.length;n--;){var o=s[n];o.type===i&&o.startTime<t&&o.endTime===$o&&(o.endTime=t)}},i.onBufferFlushing=function(t,i){var e=i.startOffset,s=i.endOffset,n=i.type,o=this.id3Track,r=this.hls;if(r){var a=r.config,h=a.enableEmsgMetadataCues,l=a.enableID3MetadataCues;o&&(h||l)&&Jo(o,e,s,"audio"===n?function(t){return t.type===Ds.audioId3&&l}:"video"===n?function(t){return t.type===Ds.emsg&&h}:function(t){return t.type===Ds.audioId3&&l||t.type===Ds.emsg&&h})}},i.onLevelUpdated=function(t,i){var e=i.details;this.updateDateRangeCues(e,!0)},i.onLevelPtsUpdated=function(t,i){Math.abs(i.drift)>.01&&this.updateDateRangeCues(i.details)},i.updateDateRangeCues=function(t,i){var e=this;if(this.media&&t.hasProgramDateTime&&this.hls.config.enableDateRangeMetadataCues){var s,n=this.id3Track,o=t.dateRanges,r=Object.keys(o),a=this.dateRangeCuesAppended;if(n&&i)if(null!=(s=n.cues)&&s.length)for(var h=Object.keys(a).filter((function(t){return!r.includes(t)})),l=function(){var t=h[u],i=a[t].cues;delete a[t],Object.keys(i).forEach((function(t){try{var s=i[t];s.removeEventListener("enter",e.onEventCueEnter),n.removeCue(s)}catch(t){}}))},u=h.length;u--;)l();else a=this.dateRangeCuesAppended={};var d=t.fragments[t.fragments.length-1];if(0!==r.length&&S(null==d?void 0:d.programDateTime)){this.id3Track||(this.id3Track=this.createTrack(this.media));for(var c=Xo(),v=function(){var t=r[f],i=o[t],s=i.startTime,n=a[t],h=(null==n?void 0:n.cues)||{},l=(null==n?void 0:n.durationKnown)||!1,u=$o,d=i.duration;if(i.endDate&&null!==d)u=s+d,l=!0;else if(i.endOnNext&&!l){var v=r.reduce((function(t,e){if(e!==i.id){var s=o[e];if(s.class===i.class&&s.startDate>i.startDate&&(!t||i.startDate<t.startDate))return s}return t}),null);v&&(u=v.startTime,l=!0)}for(var p=Object.keys(i.attr),m=0;m<p.length;m++){var g=p[m];if(se(g)){var A=h[g];if(A)l&&!n.durationKnown?A.endTime=u:Math.abs(A.startTime-s)>.01&&(A.startTime=s,A.endTime=u);else if(c){var b=i.attr[g];ne(g)&&(b=tr(b));var y=Ko(c,s,u,{key:g,data:b},Ds.dateRange);y&&(y.id=t,e.id3Track.addCue(y),h[g]=y)}}}a[t]={cues:h,dateRange:i,durationKnown:l}},f=0;f<r.length;f++)v()}}},t}(),er=function(){function t(t){var i=this;this.hls=void 0,this.config=void 0,this.media=null,this.currentTime=0,this.stallCount=0,this.Ct=null,this.It=!1,this.onTimeupdate=function(){var t=i.media,e=i.levelDetails;if(t&&e){i.currentTime=t.currentTime;var s=i.computeLatency();if(null!==s){i.Ct=s;var n=i.config,o=n.lowLatencyMode,r=n.maxLiveSyncPlaybackRate;if(o&&1!==r&&e.live){var a=i.targetLatency;if(null!==a){var h=s-a;if(h<Math.min(i.maxLatency,a+e.targetduration)&&h>.05&&i.forwardBufferLength>1){var l=Math.min(2,Math.max(1,r)),u=Math.round(2/(1+Math.exp(-.75*h-i.edgeStalled))*20)/20,d=Math.min(l,Math.max(1,u));i.changeMediaPlaybackRate(t,d)}else 1!==t.playbackRate&&0!==t.playbackRate&&i.changeMediaPlaybackRate(t,1)}}}}},this.hls=t,this.config=t.config,this.registerListeners()}var i=t.prototype;return i.destroy=function(){this.unregisterListeners(),this.onMediaDetaching(),this.hls=null},i.registerListeners=function(){var t=this.hls;t&&(t.on(D.MEDIA_ATTACHED,this.onMediaAttached,this),t.on(D.MEDIA_DETACHING,this.onMediaDetaching,this),t.on(D.MANIFEST_LOADING,this.onManifestLoading,this),t.on(D.LEVEL_UPDATED,this.onLevelUpdated,this),t.on(D.ERROR,this.onError,this))},i.unregisterListeners=function(){var t=this.hls;t&&(t.off(D.MEDIA_ATTACHED,this.onMediaAttached,this),t.off(D.MEDIA_DETACHING,this.onMediaDetaching,this),t.off(D.MANIFEST_LOADING,this.onManifestLoading,this),t.off(D.LEVEL_UPDATED,this.onLevelUpdated,this),t.off(D.ERROR,this.onError,this))},i.onMediaAttached=function(t,i){this.media=i.media,this.media.addEventListener("timeupdate",this.onTimeupdate)},i.onMediaDetaching=function(){this.media&&(this.media.removeEventListener("timeupdate",this.onTimeupdate),this.media=null)},i.onManifestLoading=function(){this.Ct=null,this.stallCount=0},i.onLevelUpdated=function(t,i){var e=i.details;e.advanced&&this.onTimeupdate(),!e.live&&this.media&&this.media.removeEventListener("timeupdate",this.onTimeupdate)},i.onError=function(t,i){var e;i.details===M.BUFFER_STALLED_ERROR&&(this.stallCount++,this.hls&&null!=(e=this.levelDetails)&&e.live&&this.hls.logger.warn("[latency-controller]: Stall detected, adjusting target latency"))},i.changeMediaPlaybackRate=function(t,i){var e,s;t.playbackRate!==i&&(null==(e=this.hls)||e.logger.debug("[latency-controller]: latency="+this.latency.toFixed(3)+", targetLatency="+(null==(s=this.targetLatency)?void 0:s.toFixed(3))+", forwardBufferLength="+this.forwardBufferLength.toFixed(3)+": adjusting playback rate from "+t.playbackRate+" to "+i),t.playbackRate=i)},i.estimateLiveEdge=function(){var t=this.levelDetails;return null===t?null:t.edge+t.age},i.computeLatency=function(){var t=this.estimateLiveEdge();return null===t?null:t-this.currentTime},n(t,[{key:"levelDetails",get:function(){var t;return(null==(t=this.hls)?void 0:t.latestLevelDetails)||null}},{key:"latency",get:function(){return this.Ct||0}},{key:"maxLatency",get:function(){var t=this.config;if(void 0!==t.liveMaxLatencyDuration)return t.liveMaxLatencyDuration;var i=this.levelDetails;return i?t.liveMaxLatencyDurationCount*i.targetduration:0}},{key:"targetLatency",get:function(){var t=this.levelDetails;if(null===t||null===this.hls)return null;var i=t.holdBack,e=t.partHoldBack,s=t.targetduration,n=this.config,o=n.liveSyncDuration,r=n.liveSyncDurationCount,a=n.lowLatencyMode,h=this.hls.userConfig,l=a&&e||i;(this.It||h.liveSyncDuration||h.liveSyncDurationCount||0===l)&&(l=void 0!==o?o:r*s);var u=s;return l+Math.min(this.stallCount*this.config.liveSyncOnStallIncrease,u)},set:function(t){this.stallCount=0,this.config.liveSyncDuration=t,this.It=!0}},{key:"liveSyncPosition",get:function(){var t=this.estimateLiveEdge(),i=this.targetLatency;if(null===t||null===i)return null;var e=this.levelDetails;if(null===e)return null;var s=e.edge,n=t-i-this.edgeStalled,o=s-e.totalduration,r=s-(this.config.lowLatencyMode&&e.partTarget||e.targetduration);return Math.min(Math.max(o,n),r)}},{key:"drift",get:function(){var t=this.levelDetails;return null===t?1:t.drift}},{key:"edgeStalled",get:function(){var t=this.levelDetails;if(null===t)return 0;var i=3*(this.config.lowLatencyMode&&t.partTarget||t.targetduration);return Math.max(t.age-i,0)}},{key:"forwardBufferLength",get:function(){var t=this.media,i=this.levelDetails;if(!t||!i)return 0;var e=t.buffered.length;return(e?t.buffered.end(e-1):i.edge)-this.currentTime}}])}(),sr=function(t){function i(i,e){var s;return(s=t.call(this,i,"level-controller")||this).Mt=[],s.Dt=-1,s.Bt=-1,s.Nt=void 0,s.currentLevel=null,s.currentLevelIndex=-1,s.manualLevelIndex=-1,s.steering=void 0,s.onParsedComplete=void 0,s.steering=e,s.lt(),s}h(i,t);var e=i.prototype;return e.lt=function(){var t=this.hls;t.on(D.MANIFEST_LOADING,this.onManifestLoading,this),t.on(D.MANIFEST_LOADED,this.onManifestLoaded,this),t.on(D.LEVEL_LOADED,this.onLevelLoaded,this),t.on(D.LEVELS_UPDATED,this.onLevelsUpdated,this),t.on(D.FRAG_BUFFERED,this.onFragBuffered,this),t.on(D.ERROR,this.onError,this)},e.ut=function(){var t=this.hls;t.off(D.MANIFEST_LOADING,this.onManifestLoading,this),t.off(D.MANIFEST_LOADED,this.onManifestLoaded,this),t.off(D.LEVEL_LOADED,this.onLevelLoaded,this),t.off(D.LEVELS_UPDATED,this.onLevelsUpdated,this),t.off(D.FRAG_BUFFERED,this.onFragBuffered,this),t.off(D.ERROR,this.onError,this)},e.destroy=function(){this.ut(),this.steering=null,this.resetLevels(),t.prototype.destroy.call(this)},e.stopLoad=function(){this.Mt.forEach((function(t){t.loadError=0,t.fragmentError=0})),t.prototype.stopLoad.call(this)},e.resetLevels=function(){this.Nt=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this.Mt=[],this.Bt=-1},e.onManifestLoading=function(t,i){this.resetLevels()},e.onManifestLoaded=function(t,i){var e=this,s=this.hls.config.preferManagedMediaSource,n=[],o={},r={},a=!1,h=!1,l=!1;i.levels.forEach((function(t){var i,u=t.attrs,d=t.audioCodec,c=t.videoCodec;d&&(t.audioCodec=d=$t(d,s)||void 0),0===(null==(i=c)?void 0:i.indexOf("avc1"))&&(c=t.videoCodec=ei(c));var v=t.width,f=t.height,p=t.unknownCodecs,m=p?p.length:0;if(p)for(var g=m;g--;){var A=p[g];e.isAudioSupported(A)?(t.audioCodec=d=d?d+","+A:A,m--,Ht.audio[d.substring(0,4)]=2):e.isVideoSupported(A)&&(t.videoCodec=c=c?c+","+A:A,m--,Ht.video[c.substring(0,4)]=2)}if(a||(a=!(!v||!f)),h||(h=!!c),l||(l=!!d),m||d&&!e.isAudioSupported(d)||c&&!e.isVideoSupported(c))e.log('Some or all CODECS not supported "'+u.CODECS+'"');else{var b=u.CODECS,y=u["FRAME-RATE"],w=u["HDCP-LEVEL"],_=u["PATHWAY-ID"],j=u.RESOLUTION,x=u["VIDEO-RANGE"],k=(_||".")+"-"+t.bitrate+"-"+j+"-"+y+"-"+b+"-"+x+"-"+w;if(o[k])if(o[k].uri===t.url||t.attrs["PATHWAY-ID"])o[k].addGroupId("audio",u.AUDIO),o[k].addGroupId("text",u.SUBTITLES);else{var E=r[k]+=1;t.attrs["PATHWAY-ID"]=new Array(E+1).join(".");var S=e.createLevel(t);o[k]=S,n.push(S)}else{var T=e.createLevel(t);o[k]=T,r[k]=1,n.push(T)}}})),this.filterAndSortMediaOptions(n,i,a,h,l)},e.createLevel=function(t){var i=new vi(t),e=t.supplemental;if(null!=e&&e.videoCodec&&!this.isVideoSupported(e.videoCodec)){var s=new Error('SUPPLEMENTAL-CODECS not supported "'+e.videoCodec+'"');this.log(s.message),i.supportedResult=Z.getUnsupportedResult(s,[])}return i},e.isAudioSupported=function(t){return Yt(t,"audio",this.hls.config.preferManagedMediaSource)},e.isVideoSupported=function(t){return Yt(t,"video",this.hls.config.preferManagedMediaSource)},e.filterAndSortMediaOptions=function(t,i,e,s,n){var o=this,r=[],a=[],h=t;if((e||s)&&n&&(h=h.filter((function(t){var i=t.videoCodec,e=t.videoRange,s=t.width,n=t.height;return(!!i||!(!s||!n))&&li(e)}))),0!==h.length){i.audioTracks&&nr(r=i.audioTracks.filter((function(t){return!t.audioCodec||o.isAudioSupported(t.audioCodec)}))),i.subtitles&&nr(a=i.subtitles);var l=h.slice(0);h.sort((function(t,i){if(t.attrs["HDCP-LEVEL"]!==i.attrs["HDCP-LEVEL"])return(t.attrs["HDCP-LEVEL"]||"")>(i.attrs["HDCP-LEVEL"]||"")?1:-1;if(e&&t.height!==i.height)return t.height-i.height;if(t.frameRate!==i.frameRate)return t.frameRate-i.frameRate;if(t.videoRange!==i.videoRange)return hi.indexOf(t.videoRange)-hi.indexOf(i.videoRange);if(t.videoCodec!==i.videoCodec){var s=Wt(t.videoCodec),n=Wt(i.videoCodec);if(s!==n)return n-s}if(t.uri===i.uri&&t.codecSet!==i.codecSet){var o=Zt(t.codecSet),r=Zt(i.codecSet);if(o!==r)return r-o}return t.averageBitrate!==i.averageBitrate?t.averageBitrate-i.averageBitrate:0}));var u=l[0];if(this.steering&&(h=this.steering.filterParsedLevels(h)).length!==l.length)for(var d=0;d<l.length;d++)if(l[d].pathwayId===h[0].pathwayId){u=l[d];break}this.Mt=h;for(var c=0;c<h.length;c++)if(h[c]===u){var v;this.Dt=c;var f=u.bitrate,p=this.hls.bandwidthEstimate;if(this.log("manifest loaded, "+h.length+" level(s) found, first bitrate: "+f),void 0===(null==(v=this.hls.userConfig)?void 0:v.abrEwmaDefaultEstimate)){var m=Math.min(f,this.hls.config.abrEwmaDefaultEstimateMax);m>p&&p===this.hls.abrEwmaDefaultEstimate&&(this.hls.bandwidthEstimate=m)}break}var g=n&&!s,A=this.hls.config,b=!(!A.audioStreamController||!A.audioTrackController),y={levels:h,audioTracks:r,subtitleTracks:a,sessionData:i.sessionData,sessionKeys:i.sessionKeys,firstLevel:this.Dt,stats:i.stats,audio:n,video:s,altAudio:b&&!g&&r.some((function(t){return!!t.url}))};this.hls.trigger(D.MANIFEST_PARSED,y)}else Promise.resolve().then((function(){if(o.hls){var t="no level with compatible codecs found in manifest",e=t;i.levels.length&&(e="one or more CODECS in variant not supported: "+Ai(i.levels.map((function(t){return t.attrs.CODECS})).filter((function(t,i,e){return e.indexOf(t)===i}))),o.warn(e),t+=" ("+e+")");var s=new Error(t);o.hls.trigger(D.ERROR,{type:I.MEDIA_ERROR,details:M.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:i.url,error:s,reason:e})}}))},e.onError=function(t,i){!i.fatal&&i.context&&i.context.type===B.LEVEL&&i.context.level===this.level&&this.checkRetry(i)},e.onFragBuffered=function(t,i){var e=i.frag;if(void 0!==e&&e.type===N.MAIN){var s=e.elementaryStreams;if(!Object.keys(s).some((function(t){return!!s[t]})))return;var n=this.Mt[e.level];null!=n&&n.loadError&&(this.log("Resetting level error count of "+n.loadError+" on frag buffered"),n.loadError=0)}},e.onLevelLoaded=function(t,i){var e,s,n=i.level,o=i.details,r=i.levelInfo;if(!r)return this.warn("Invalid level index "+n),void(null!=(s=i.deliveryDirectives)&&s.skip&&(o.deltaUpdateFailed=!0));if(r===this.currentLevel||i.withoutMultiVariant){0===r.fragmentError&&(r.loadError=0);var a=r.details;a===i.details&&a.advanced&&(a=void 0),this.playlistLoaded(n,i,a)}else null!=(e=i.deliveryDirectives)&&e.skip&&(o.deltaUpdateFailed=!0)},e.loadPlaylist=function(i){t.prototype.loadPlaylist.call(this),this.shouldLoadPlaylist(this.currentLevel)&&this.scheduleLoading(this.currentLevel,i)},e.loadingPlaylist=function(i,e){t.prototype.loadingPlaylist.call(this,i,e);var s=this.getUrlWithDirectives(i.uri,e),n=this.currentLevelIndex,o=i.attrs["PATHWAY-ID"],r=i.details,a=null==r?void 0:r.age;this.log("Loading level index "+n+(void 0!==(null==e?void 0:e.msn)?" at sn "+e.msn+" part "+e.part:"")+(o?" Pathway "+o:"")+(a&&r.live?" age "+a.toFixed(1)+(r.type?" "+r.type||0:""):"")+" "+s),this.hls.trigger(D.LEVEL_LOADING,{url:s,level:n,levelInfo:i,pathwayId:i.attrs["PATHWAY-ID"],id:0,deliveryDirectives:e||null})},e.removeLevel=function(t){var i,e=this;if(1!==this.Mt.length){var s=this.Mt.filter((function(i,s){return s!==t||(e.steering&&e.steering.removeLevel(i),i===e.currentLevel&&(e.currentLevel=null,e.currentLevelIndex=-1,i.details&&i.details.fragments.forEach((function(t){return t.level=-1}))),!1)}));Ve(s),this.Mt=s,this.currentLevelIndex>-1&&null!=(i=this.currentLevel)&&i.details&&(this.currentLevelIndex=this.currentLevel.details.fragments[0].level),this.manualLevelIndex>-1&&(this.manualLevelIndex=this.currentLevelIndex);var n=s.length-1;this.Dt=Math.min(this.Dt,n),this.Nt&&(this.Nt=Math.min(this.Nt,n)),this.hls.trigger(D.LEVELS_UPDATED,{levels:s})}},e.onLevelsUpdated=function(t,i){var e=i.levels;this.Mt=e},e.checkMaxAutoUpdated=function(){var t=this.hls,i=t.autoLevelCapping,e=t.maxAutoLevel,s=t.maxHdcpLevel;this.Bt!==e&&(this.Bt=e,this.hls.trigger(D.MAX_AUTO_LEVEL_UPDATED,{autoLevelCapping:i,levels:this.levels,maxAutoLevel:e,minAutoLevel:this.hls.minAutoLevel,maxHdcpLevel:s}))},n(i,[{key:"levels",get:function(){return 0===this.Mt.length?null:this.Mt}},{key:"loadLevelObj",get:function(){return this.currentLevel}},{key:"level",get:function(){return this.currentLevelIndex},set:function(t){var i=this.Mt;if(0!==i.length){if(t<0||t>=i.length){var e=new Error("invalid level idx"),s=t<0;if(this.hls.trigger(D.ERROR,{type:I.OTHER_ERROR,details:M.LEVEL_SWITCH_ERROR,level:t,fatal:s,error:e,reason:e.message}),s)return;t=Math.min(t,i.length-1)}var n=this.currentLevelIndex,o=this.currentLevel,r=o?o.attrs["PATHWAY-ID"]:void 0,a=i[t],h=a.attrs["PATHWAY-ID"];if(this.currentLevelIndex=t,this.currentLevel=a,n!==t||!o||r!==h){this.log("Switching to level "+t+" ("+(a.height?a.height+"p ":"")+(a.videoRange?a.videoRange+" ":"")+(a.codecSet?a.codecSet+" ":"")+"@"+a.bitrate+")"+(h?" with Pathway "+h:"")+" from level "+n+(r?" with Pathway "+r:""));var l={level:t,attrs:a.attrs,details:a.details,bitrate:a.bitrate,averageBitrate:a.averageBitrate,maxBitrate:a.maxBitrate,realBitrate:a.realBitrate,width:a.width,height:a.height,codecSet:a.codecSet,audioCodec:a.audioCodec,videoCodec:a.videoCodec,audioGroups:a.audioGroups,subtitleGroups:a.subtitleGroups,loaded:a.loaded,loadError:a.loadError,fragmentError:a.fragmentError,name:a.name,id:a.id,uri:a.uri,url:a.url,urlId:0,audioGroupIds:a.audioGroupIds,textGroupIds:a.textGroupIds};this.hls.trigger(D.LEVEL_SWITCHING,l);var u=a.details;if(!u||u.live){var d=this.switchParams(a.uri,null==o?void 0:o.details,u);this.loadPlaylist(d)}}}}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(t){this.manualLevelIndex=t,void 0===this.Nt&&(this.Nt=t),-1!==t&&(this.level=t)}},{key:"firstLevel",get:function(){return this.Dt},set:function(t){this.Dt=t}},{key:"startLevel",get:function(){if(void 0===this.Nt){var t=this.hls.config.startLevel;return void 0!==t?t:this.hls.firstAutoLevel}return this.Nt},set:function(t){this.Nt=t}},{key:"pathways",get:function(){return this.steering?this.steering.pathways():[]}},{key:"pathwayPriority",get:function(){return this.steering?this.steering.pathwayPriority:null},set:function(t){if(this.steering){var i=this.steering.pathways(),e=t.filter((function(t){return-1!==i.indexOf(t)}));if(t.length<1)return void this.warn("pathwayPriority "+t+" should contain at least one pathway from list: "+i);this.steering.pathwayPriority=e}}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(t){this.level=t,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=t)}}])}(function(t){function i(i,e){var s;return(s=t.call(this,e,i.logger)||this).hls=void 0,s.canLoad=!1,s.timer=-1,s.hls=i,s}h(i,t);var e=i.prototype;return e.destroy=function(){this.clearTimer(),this.hls=this.log=this.warn=null},e.clearTimer=function(){-1!==this.timer&&(self.clearTimeout(this.timer),this.timer=-1)},e.startLoad=function(){this.canLoad=!0,this.loadPlaylist()},e.stopLoad=function(){this.canLoad=!1,this.clearTimer()},e.switchParams=function(t,i,e){var s=null==i?void 0:i.renditionReports;if(s){for(var n=-1,o=0;o<s.length;o++){var r=s[o],a=void 0;try{a=new self.URL(r.URI,i.url).href}catch(t){this.warn("Could not construct new URL for Rendition Report: "+t),a=r.URI||""}if(a===t){n=o;break}a===t.substring(0,a.length)&&(n=o)}if(-1!==n){var h=s[n],l=parseInt(h["LAST-MSN"])||(null==i?void 0:i.lastPartSn),u=parseInt(h["LAST-PART"])||(null==i?void 0:i.lastPartIndex);if(this.hls.config.lowLatencyMode){var d=Math.min(i.age-i.partTarget,i.targetduration);u>=0&&d>i.partTarget&&(u+=1)}var c=e&&di(e);return new ci(l,u>=0?u:void 0,c)}}},e.loadPlaylist=function(t){this.clearTimer()},e.loadingPlaylist=function(t,i){this.clearTimer()},e.shouldLoadPlaylist=function(t){return this.canLoad&&!!t&&!!t.url&&(!t.details||t.details.live)},e.getUrlWithDirectives=function(t,i){if(i)try{return i.addDirectives(t)}catch(t){this.warn("Could not construct new URL with HLS Delivery Directives: "+t)}return t},e.playlistLoaded=function(t,i,e){var s=i.details,n=i.stats,o=self.performance.now(),r=n.loading.first?Math.max(0,o-n.loading.first):0;s.advancedDateTime=Date.now()-r;var a=this.hls.config.timelineOffset;if(a!==s.appliedTimelineOffset){var h=Math.max(a||0,0);s.appliedTimelineOffset=h,s.fragments.forEach((function(t){t.start=t.playlistOffset+h}))}if(s.live||null!=e&&e.live){var l="levelInfo"in i?i.levelInfo:i.track;if(s.reloaded(e),e&&s.fragments.length>0){Be(e,s);var u=s.playlistParsingError;if(u){this.warn(u);var d=this.hls;if(!d.config.ignorePlaylistParsingErrors){var c,v=i.networkDetails;return void d.trigger(D.ERROR,{type:I.NETWORK_ERROR,details:M.LEVEL_PARSING_ERROR,fatal:!1,url:s.url,error:u,reason:u.message,level:i.level||void 0,parent:null==(c=s.fragments[0])?void 0:c.type,networkDetails:v,stats:n})}s.playlistParsingError=null}}-1===s.requestScheduled&&(s.requestScheduled=n.loading.start);var f,p=this.hls.mainForwardBufferInfo,m=p?p.end-p.len:0,g=ze(s,1e3*(s.edge-m));if(s.requestScheduled+g<o?s.requestScheduled=o:s.requestScheduled+=g,this.log("live playlist "+t+" "+(s.advanced?"REFRESHED "+s.lastPartSn+"-"+s.lastPartIndex:s.updated?"UPDATED":"MISSED")),!this.canLoad||!s.live)return;var A=void 0,b=void 0;if(s.canBlockReload&&s.endSN&&s.advanced){var y=this.hls.config.lowLatencyMode,w=s.lastPartSn,_=s.endSN,j=s.lastPartIndex,x=w===_;-1!==j?x?(A=_+1,b=y?0:j):(A=w,b=y?j+1:s.maxPartIndex):A=_+1;var k=s.age,E=k+s.ageHeader,S=Math.min(E-s.partTarget,1.5*s.targetduration);if(S>0){if(E>3*s.targetduration)this.log("Playlist last advanced "+k.toFixed(2)+"s ago. Omitting segment and part directives."),A=void 0,b=void 0;else if(null!=e&&e.tuneInGoal&&E-s.partTarget>e.tuneInGoal)this.warn("CDN Tune-in goal increased from: "+e.tuneInGoal+" to: "+S+" with playlist age: "+s.age),S=0;else{var T=Math.floor(S/s.targetduration);A+=T,void 0!==b&&(b+=Math.round(S%s.targetduration/s.partTarget)),this.log("CDN Tune-in age: "+s.ageHeader+"s last advanced "+k.toFixed(2)+"s goal: "+S+" skip sn "+T+" to part "+b)}s.tuneInGoal=S}if(f=this.getDeliveryDirectives(s,i.deliveryDirectives,A,b),y||!x)return s.requestScheduled=o,void this.loadingPlaylist(l,f)}else(s.canBlockReload||s.canSkipUntil)&&(f=this.getDeliveryDirectives(s,i.deliveryDirectives,A,b));f&&void 0!==A&&s.canBlockReload&&(s.requestScheduled=n.loading.first+Math.max(g-2*r,g/2)),this.scheduleLoading(l,f,s)}else this.clearTimer()},e.scheduleLoading=function(t,i,e){var s=this,n=e||t.details;if(n){var o=self.performance.now(),r=n.requestScheduled;if(o>=r)this.loadingPlaylist(t,i);else{var a=r-o;this.log("reload live playlist "+(t.name||t.bitrate+"bps")+" in "+Math.round(a)+" ms"),this.clearTimer(),this.timer=self.setTimeout((function(){return s.loadingPlaylist(t,i)}),a)}}else this.loadingPlaylist(t,i)},e.getDeliveryDirectives=function(t,i,e,s){var n=di(t);return null!=i&&i.skip&&t.deltaUpdateFailed&&(e=i.msn,s=i.part,n=ui.No),new ci(e,s,n)},e.checkRetry=function(t){var i=this,e=t.details,s=Bi(t),n=t.errorAction,o=n||{},r=o.action,a=o.retryCount,h=void 0===a?0:a,l=o.retryConfig,u=!!n&&!!l&&(r===Li.RetryRequest||!n.resolved&&r===Li.SendAlternateToPenaltyBox);if(u){var d;if(h>=l.maxNumRetry)return!1;if(s&&null!=(d=t.context)&&d.deliveryDirectives)this.warn("Retrying playlist loading "+(h+1)+"/"+l.maxNumRetry+' after "'+e+'" without delivery-directives'),this.loadPlaylist();else{var c=Ri(l,h);this.clearTimer(),this.timer=self.setTimeout((function(){return i.loadPlaylist()}),c),this.warn("Retrying playlist loading "+(h+1)+"/"+l.maxNumRetry+' after "'+e+'" in '+c+"ms")}t.levelRetry=!0,n.resolved=!0}return u},i}(P));function nr(t){var i={};t.forEach((function(t){var e=t.groupId||"";t.id=i[e]=i[e]||0,i[e]++}))}var or=[];function rr(){self.addEventListener("message",(function(t){var i=t.data,e=i.instanceNo;if(void 0!==e){var s=or[e];if("reset"===i.cmd&&(delete or[i.resetNo],s&&s.destroy(),i.cmd="init"),"init"===i.cmd){var n=JSON.parse(i.config),o=new j;o.on(D.FRAG_DECRYPTED,ur),o.on(D.ERROR,ur);var r=V(n.debug,i.id);return dr(r,e),or[e]=new Gn(o,i.typeSupported,n,"",i.id,r),void ur("init",null,e)}if(s)switch(i.cmd){case"configure":s.configure(i.config);break;case"demux":var a=s.push(i.data,i.decryptdata,i.chunkMeta,i.state);Yn(a)?a.then((function(t){ar(self,t,e)})).catch((function(t){ur(D.ERROR,{instanceNo:e,type:I.MEDIA_ERROR,details:M.FRAG_PARSING_ERROR,chunkMeta:i.chunkMeta,fatal:!1,error:t,err:t,reason:"transmuxer-worker push error"},e)})):ar(self,a,e);break;case"flush":var h=i.chunkMeta,l=s.flush(h);Yn(l)?l.then((function(t){lr(self,t,h,e)})).catch((function(t){ur(D.ERROR,{type:I.MEDIA_ERROR,details:M.FRAG_PARSING_ERROR,chunkMeta:i.chunkMeta,fatal:!1,error:t,err:t,reason:"transmuxer-worker flush error"},e)})):lr(self,l,h,e)}}}))}function ar(t,i,e){if(cr(i.remuxResult))return!1;var s=[],n=i.remuxResult,o=n.audio,r=n.video;return o&&hr(s,o),r&&hr(s,r),t.postMessage({event:"transmuxComplete",data:i,instanceNo:e},s),!0}function hr(t,i){i.data1&&t.push(i.data1.buffer),i.data2&&t.push(i.data2.buffer)}function lr(t,i,e,s){i.reduce((function(i,e){return ar(t,e,s)||i}),!1)||t.postMessage({event:"transmuxComplete",data:i[0],instanceNo:s}),t.postMessage({event:"flush",data:e,instanceNo:s})}function ur(t,i,e){self.postMessage({event:t,data:i,instanceNo:e})}function dr(t,i){var e=function(e){var s=function(t){ur("workerLog",{logType:e,message:t},i)};t[e]=s};for(var s in t)e(s)}function cr(t){return!(t.audio||t.video||t.text||t.id3||t.initSegment)}void 0!==e&&e&&rr();var vr="1.6.2",fr={};function pr(){return!0}function mr(){var t=fr[vr];if(t)return t.clientCount++,t;var e=new self.Blob(["var exports={};var module={exports:exports};function define(f){f()};define.amd=true;("+i.toString()+")(true);"],{type:"text/javascript"}),s=self.URL.createObjectURL(e),n={worker:new self.Worker(s),objectURL:s,clientCount:1};return fr[vr]=n,n}function gr(t){var i=fr[t];if(i)return i.clientCount++,i;var e=new self.URL(t,self.location.href).href,s={worker:new self.Worker(e),scriptURL:e,clientCount:1};return fr[t]=s,s}function Ar(t){var i=fr[t||vr];if(i&&1==i.clientCount--){var e=i.worker,s=i.objectURL;delete fr[t||vr],s&&self.URL.revokeObjectURL(s),e.terminate()}}var br=0,yr=function(){function t(t,i,e,s){var n=this;this.error=null,this.hls=void 0,this.id=void 0,this.instanceNo=br++,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0,this.onWorkerMessage=function(t){var i=t.data,e=n.hls;if(e&&null!=i&&i.event&&i.instanceNo===n.instanceNo)switch(i.event){case"init":var s,o=null==(s=n.workerContext)?void 0:s.objectURL;o&&self.URL.revokeObjectURL(o);break;case"transmuxComplete":n.handleTransmuxComplete(i.data);break;case"flush":n.onFlush(i.data);break;case"workerLog":e.logger[i.data.logType]&&e.logger[i.data.logType](i.data.message);break;default:i.data=i.data||{},i.data.frag=n.frag,i.data.part=n.part,i.data.id=n.id,e.trigger(i.event,i.data)}},this.onWorkerError=function(t){if(n.hls){var i=new Error(t.message+"  ("+t.filename+":"+t.lineno+")");n.hls.config.enableWorker=!1,n.hls.logger.warn('Error in "'+n.id+'" Web Worker, fallback to inline'),n.hls.trigger(D.ERROR,{type:I.OTHER_ERROR,details:M.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:i})}};var o=t.config;this.hls=t,this.id=i,this.useWorker=!!o.enableWorker,this.onTransmuxComplete=e,this.onFlush=s;var r=function(t,i){(i=i||{}).frag=n.frag||void 0,t===D.ERROR&&(i.parent=n.id,i.part=n.part,n.error=i.error),n.hls.trigger(t,i)};this.observer=new j,this.observer.on(D.FRAG_DECRYPTED,r),this.observer.on(D.ERROR,r);var a=ni(o.preferManagedMediaSource);if(this.useWorker&&"undefined"!=typeof Worker){var h=this.hls.logger;if(o.workerPath||pr()){try{o.workerPath?(h.log("loading Web Worker "+o.workerPath+' for "'+i+'"'),this.workerContext=gr(o.workerPath)):(h.log('injecting Web Worker for "'+i+'"'),this.workerContext=mr());var l=this.workerContext.worker;l.addEventListener("message",this.onWorkerMessage),l.addEventListener("error",this.onWorkerError),l.postMessage({instanceNo:this.instanceNo,cmd:"init",typeSupported:a,id:i,config:Ai(o)})}catch(e){h.warn('Error setting up "'+i+'" Web Worker, fallback to inline',e),this.terminateWorker(),this.error=null,this.transmuxer=new Gn(this.observer,a,o,"",i,t.logger)}return}}this.transmuxer=new Gn(this.observer,a,o,"",i,t.logger)}var i=t.prototype;return i.reset=function(){if(this.frag=null,this.part=null,this.workerContext){var t=this.instanceNo;this.instanceNo=br++;var i=this.hls.config,e=ni(i.preferManagedMediaSource);this.workerContext.worker.postMessage({instanceNo:this.instanceNo,cmd:"reset",resetNo:t,typeSupported:e,id:this.id,config:Ai(i)})}},i.terminateWorker=function(){if(this.workerContext){var t=this.workerContext.worker;this.workerContext=null,t.removeEventListener("message",this.onWorkerMessage),t.removeEventListener("error",this.onWorkerError),Ar(this.hls.config.workerPath)}},i.destroy=function(){if(this.workerContext)this.terminateWorker(),this.onWorkerMessage=this.onWorkerError=null;else{var t=this.transmuxer;t&&(t.destroy(),this.transmuxer=null)}var i=this.observer;i&&i.removeAllListeners(),this.frag=null,this.part=null,this.observer=null,this.hls=null},i.push=function(t,i,e,s,n,o,r,a,h,l){var u,d,c=this;h.transmuxing.start=self.performance.now();var v=this.instanceNo,f=this.transmuxer,p=o?o.start:n.start,m=n.decryptdata,g=this.frag,A=!(g&&n.cc===g.cc),b=!(g&&h.level===g.level),y=g?h.sn-g.sn:-1,w=this.part?h.part-this.part.index:-1,_=0===y&&h.id>1&&h.id===(null==g?void 0:g.stats.chunkCount),j=!b&&(1===y||0===y&&(1===w||_&&w<=0)),x=self.performance.now();(b||y||0===n.stats.parsing.start)&&(n.stats.parsing.start=x),!o||!w&&j||(o.stats.parsing.start=x);var k=!(g&&(null==(u=n.initSegment)?void 0:u.url)===(null==(d=g.initSegment)?void 0:d.url)),E=new Jn(A,j,a,b,p,k);if(!j||A||k){this.hls.logger.log("[transmuxer-interface]: Starting new transmux session for "+n.type+" sn: "+h.sn+(h.part>-1?" part: "+h.part:"")+" "+(this.id===N.MAIN?"level":"track")+": "+h.level+" id: "+h.id+"\n        discontinuity: "+A+"\n        trackSwitch: "+b+"\n        contiguous: "+j+"\n        accurateTimeOffset: "+a+"\n        timeOffset: "+p+"\n        initSegmentChange: "+k);var S=new Qn(e,s,i,r,l);this.configureTransmuxer(S)}if(this.frag=n,this.part=o,this.workerContext)this.workerContext.worker.postMessage({instanceNo:v,cmd:"demux",data:t,decryptdata:m,chunkMeta:h,state:E},t instanceof ArrayBuffer?[t]:[]);else if(f){var T=f.push(t,m,h,E);Yn(T)?T.then((function(t){c.handleTransmuxComplete(t)})).catch((function(t){c.transmuxerError(t,h,"transmuxer-interface push error")})):this.handleTransmuxComplete(T)}},i.flush=function(t){var i=this;t.transmuxing.start=self.performance.now();var e=this.instanceNo,s=this.transmuxer;if(this.workerContext)this.workerContext.worker.postMessage({instanceNo:e,cmd:"flush",chunkMeta:t});else if(s){var n=s.flush(t);Yn(n)?n.then((function(e){i.handleFlushResult(e,t)})).catch((function(e){i.transmuxerError(e,t,"transmuxer-interface flush error")})):this.handleFlushResult(n,t)}},i.transmuxerError=function(t,i,e){this.hls&&(this.error=t,this.hls.trigger(D.ERROR,{type:I.MEDIA_ERROR,details:M.FRAG_PARSING_ERROR,chunkMeta:i,frag:this.frag||void 0,part:this.part||void 0,fatal:!1,error:t,err:t,reason:e}))},i.handleFlushResult=function(t,i){var e=this;t.forEach((function(t){e.handleTransmuxComplete(t)})),this.onFlush(i)},i.configureTransmuxer=function(t){var i=this.instanceNo,e=this.transmuxer;this.workerContext?this.workerContext.worker.postMessage({instanceNo:i,cmd:"configure",config:t}):e&&e.configure(t)},i.handleTransmuxComplete=function(t){t.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(t)},t}();function wr(){return self.SourceBuffer||self.WebKitSourceBuffer}function _r(){if(!Lt())return!1;var t=wr();return!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove}function jr(){if(!_r())return!1;var t=Lt();return"function"==typeof(null==t?void 0:t.isTypeSupported)&&(["avc1.42E01E,mp4a.40.2","av01.0.01M.08","vp09.00.50.08"].some((function(i){return t.isTypeSupported(Jt(i,"video"))}))||["mp4a.40.2","fLaC"].some((function(i){return t.isTypeSupported(Jt(i,"audio"))})))}function xr(){var t,i=wr();return"function"==typeof(null==i||null==(t=i.prototype)?void 0:t.changeType)}var kr=100,Er=function(t){function i(i,e,s){var n;return(n=t.call(this,i,e,s,"stream-controller",N.MAIN)||this).audioCodecSwap=!1,n.level=-1,n.Rt=!1,n.Ut=!1,n.altAudio=0,n.audioOnly=!1,n.fragPlaying=null,n.fragLastKbps=0,n.couldBacktrack=!1,n.backtrackFragment=null,n.audioCodecSwitch=!1,n.videoBuffer=null,n.onMediaPlaying=function(){n.tick()},n.onMediaSeeked=function(){var t=n.media,i=t?t.currentTime:null;if(null!==i&&S(i)&&(n.log("Media seeked to "+i.toFixed(3)),n.getBufferedFrag(i))){var e=n.getFwdBufferInfoAtPos(t,i,N.MAIN,0);null!==e&&0!==e.len?n.tick():n.warn("Main forward buffer length at "+i+' on "seeked" event '+(e?e.len:"empty")+")")}},n.registerListeners(),n}h(i,t);var e=i.prototype;return e.registerListeners=function(){t.prototype.registerListeners.call(this);var i=this.hls;i.on(D.MANIFEST_PARSED,this.onManifestParsed,this),i.on(D.LEVEL_LOADING,this.onLevelLoading,this),i.on(D.LEVEL_LOADED,this.onLevelLoaded,this),i.on(D.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),i.on(D.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),i.on(D.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),i.on(D.BUFFER_CREATED,this.onBufferCreated,this),i.on(D.BUFFER_FLUSHED,this.onBufferFlushed,this),i.on(D.LEVELS_UPDATED,this.onLevelsUpdated,this),i.on(D.FRAG_BUFFERED,this.onFragBuffered,this)},e.unregisterListeners=function(){t.prototype.unregisterListeners.call(this);var i=this.hls;i.off(D.MANIFEST_PARSED,this.onManifestParsed,this),i.off(D.LEVEL_LOADED,this.onLevelLoaded,this),i.off(D.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),i.off(D.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),i.off(D.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),i.off(D.BUFFER_CREATED,this.onBufferCreated,this),i.off(D.BUFFER_FLUSHED,this.onBufferFlushed,this),i.off(D.LEVELS_UPDATED,this.onLevelsUpdated,this),i.off(D.FRAG_BUFFERED,this.onFragBuffered,this)},e.onHandlerDestroying=function(){this.onMediaPlaying=this.onMediaSeeked=null,this.unregisterListeners(),t.prototype.onHandlerDestroying.call(this)},e.startLoad=function(t,i){if(this.levels){var e=this.lastCurrentTime,s=this.hls;if(this.stopLoad(),this.setInterval(kr),this.level=-1,!this.startFragRequested){var n=s.startLevel;-1===n&&(s.config.testBandwidth&&this.levels.length>1?(n=0,this.bitrateTest=!0):n=s.firstAutoLevel),s.nextLoadLevel=n,this.level=s.loadLevel,this.Ut=!!i}e>0&&-1===t&&!i&&(this.log("Override startPosition with lastCurrentTime @"+e.toFixed(3)),t=e),this.state=Bo.IDLE,this.nextLoadPosition=this.lastCurrentTime=t+this.timelineOffset,this.startPosition=i?-1:t,this.tick()}else this.Rt=!0,this.state=Bo.STOPPED},e.stopLoad=function(){this.Rt=!1,t.prototype.stopLoad.call(this)},e.doTick=function(){switch(this.state){case Bo.WAITING_LEVEL:var t=this.levels,i=this.level,e=null==t?void 0:t[i],s=null==e?void 0:e.details;if(s&&(!s.live||this.levelLastLoaded===e&&!this.waitForLive(e))){if(this.waitForCdnTuneIn(s))break;this.state=Bo.IDLE;break}if(this.hls.nextLoadLevel!==this.level){this.state=Bo.IDLE;break}break;case Bo.FRAG_LOADING_WAITING_RETRY:var n,o=self.performance.now(),r=this.retryDate;if(!r||o>=r||null!=(n=this.media)&&n.seeking){var a=this.levels,h=this.level,l=null==a?void 0:a[h];this.resetStartWhenNotLoaded(l||null),this.state=Bo.IDLE}}this.state===Bo.IDLE&&this.doTickIdle(),this.onTickEnd()},e.onTickEnd=function(){var i;t.prototype.onTickEnd.call(this),null!=(i=this.media)&&i.readyState&&!1===this.media.seeking&&(this.lastCurrentTime=this.media.currentTime),this.checkFragmentChanged()},e.doTickIdle=function(){var t=this.hls,i=this.levelLastLoaded,e=this.levels,s=this.media;if(null!==i&&(s||this.primaryPrefetch||!this.startFragRequested&&t.config.startFragPrefetch)&&(!this.altAudio||!this.audioOnly)){var n=this.buffering?t.nextLoadLevel:t.loadLevel;if(null!=e&&e[n]){var o=e[n],r=this.getMainFwdBufferInfo();if(null!==r){var a=this.getLevelDetails();if(a&&this.At(r,a)){var h={};return 2===this.altAudio&&(h.type="video"),this.hls.trigger(D.BUFFER_EOS,h),void(this.state=Bo.ENDED)}if(this.buffering){t.loadLevel!==n&&-1===t.manualLevel&&this.log("Adapting to level "+n+" from level "+this.level),this.level=t.nextLoadLevel=n;var l=o.details;if(!l||this.state===Bo.WAITING_LEVEL||this.waitForLive(o))return this.level=n,this.state=Bo.WAITING_LEVEL,void(this.startFragRequested=!1);var u=r.len,d=this.getMaxBufferLength(o.maxBitrate);if(!(u>=d)){this.backtrackFragment&&this.backtrackFragment.start>r.end&&(this.backtrackFragment=null);var c=this.backtrackFragment?this.backtrackFragment.start:r.end,v=this.getNextFragment(c,l);if(this.couldBacktrack&&!this.fragPrevious&&v&&et(v)&&this.fragmentTracker.getState(v)!==uo.OK){var f,p=(null!=(f=this.backtrackFragment)?f:v).sn-l.startSN,m=l.fragments[p-1];m&&v.cc===m.cc&&(v=m,this.fragmentTracker.removeFragment(m))}else this.backtrackFragment&&r.len&&(this.backtrackFragment=null);if(v&&this.isLoopLoading(v,c)){if(!v.gap){var g=this.audioOnly&&!this.altAudio?tt.AUDIO:tt.VIDEO,A=(g===tt.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;A&&this.afterBufferFlushed(A,g,N.MAIN)}v=this.getNextFragmentLoopLoading(v,l,r,N.MAIN,d)}v&&(!v.initSegment||v.initSegment.data||this.bitrateTest||(v=v.initSegment),this.loadFragment(v,o,c))}}}}}},e.loadFragment=function(i,e,s){var n=this.fragmentTracker.getState(i);n===uo.NOT_LOADED||n===uo.PARTIAL?et(i)?this.bitrateTest?(this.log("Fragment "+i.sn+" of level "+i.level+" is being downloaded to test bitrate and will not be buffered"),this.Pt(i,e)):t.prototype.loadFragment.call(this,i,e,s):this.jt(i,e):this.clearTrackerIfNeeded(i)},e.getBufferedFrag=function(t){return this.fragmentTracker.getBufferedFrag(t,N.MAIN)},e.followingBufferedFrag=function(t){return t?this.getBufferedFrag(t.end+.5):null},e.immediateLevelSwitch=function(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},e.nextLevelSwitch=function(){var t=this.levels,i=this.media;if(null!=i&&i.readyState){var e,s=this.getAppendedFrag(i.currentTime);s&&s.start>1&&this.flushMainBuffer(0,s.start-1);var n=this.getLevelDetails();if(null!=n&&n.live){var o=this.getMainFwdBufferInfo();if(!o||o.len<2*n.targetduration)return}if(!i.paused&&t){var r=t[this.hls.nextLoadLevel],a=this.fragLastKbps;e=a&&this.fragCurrent?this.fragCurrent.duration*r.maxBitrate/(1e3*a)+1:0}else e=0;var h=this.getBufferedFrag(i.currentTime+e);if(h){var l=this.followingBufferedFrag(h);if(l){this.abortCurrentFrag();var u=l.maxStartPTS?l.maxStartPTS:l.start,d=l.duration,c=Math.max(h.end,u+Math.min(Math.max(d-this.config.maxFragLookUpTolerance,d*(this.couldBacktrack?.5:.125)),d*(this.couldBacktrack?.75:.25)));this.flushMainBuffer(c,Number.POSITIVE_INFINITY)}}}},e.abortCurrentFrag=function(){var t=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,t&&(t.abortRequests(),this.fragmentTracker.removeFragment(t)),this.state){case Bo.KEY_LOADING:case Bo.FRAG_LOADING:case Bo.FRAG_LOADING_WAITING_RETRY:case Bo.PARSING:case Bo.PARSED:this.state=Bo.IDLE}this.nextLoadPosition=this.getLoadPosition()},e.flushMainBuffer=function(i,e){t.prototype.flushMainBuffer.call(this,i,e,2===this.altAudio?"video":null)},e.onMediaAttached=function(i,e){t.prototype.onMediaAttached.call(this,i,e);var s=e.media;Uo(s,"playing",this.onMediaPlaying),Uo(s,"seeked",this.onMediaSeeked)},e.onMediaDetaching=function(i,e){var s=this.media;s&&(Po(s,"playing",this.onMediaPlaying),Po(s,"seeked",this.onMediaSeeked)),this.videoBuffer=null,this.fragPlaying=null,t.prototype.onMediaDetaching.call(this,i,e),e.transferMedia||(this.Ut=!1)},e.onManifestLoading=function(){t.prototype.onManifestLoading.call(this),this.log("Trigger BUFFER_RESET"),this.hls.trigger(D.BUFFER_RESET,void 0),this.couldBacktrack=!1,this.fragLastKbps=0,this.fragPlaying=this.backtrackFragment=null,this.altAudio=0,this.audioOnly=!1},e.onManifestParsed=function(t,i){var e=!1,s=!1;i.levels.forEach((function(t){var i=t.audioCodec;i&&(e=e||-1!==i.indexOf("mp4a.40.2"),s=s||-1!==i.indexOf("mp4a.40.5"))})),this.audioCodecSwitch=e&&s&&!xr(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=i.levels,this.startFragRequested=!1},e.onLevelLoading=function(t,i){if(this.levels&&this.state===Bo.IDLE){var e=i.levelInfo;(!e.details||e.details.live&&(this.levelLastLoaded!==e||e.details.expired)||this.waitForCdnTuneIn(e.details))&&(this.state=Bo.WAITING_LEVEL)}},e.onLevelLoaded=function(t,i){var e,s=this.levels,n=this.startFragRequested,o=i.level,r=i.details,a=r.totalduration;if(s){this.log("Level "+o+" loaded ["+r.startSN+","+r.endSN+"]"+(r.lastPartSn?"[part-"+r.lastPartSn+"-"+r.lastPartIndex+"]":"")+", cc ["+r.startCC+", "+r.endCC+"] duration:"+a);var h=i.levelInfo,l=this.fragCurrent;!l||this.state!==Bo.FRAG_LOADING&&this.state!==Bo.FRAG_LOADING_WAITING_RETRY||l.level!==i.level&&l.loader&&this.abortCurrentFrag();var u=0;if(r.live||null!=(e=h.details)&&e.live){var d;if(this.checkLiveUpdate(r),r.deltaUpdateFailed)return;u=this.alignPlaylists(r,h.details,null==(d=this.levelLastLoaded)?void 0:d.details)}if(h.details=r,this.levelLastLoaded=h,n||this.setStartPosition(r,u),this.hls.trigger(D.LEVEL_UPDATED,{details:r,level:o}),this.state===Bo.WAITING_LEVEL){if(this.waitForCdnTuneIn(r))return;this.state=Bo.IDLE}n&&r.live&&this.synchronizeToLiveEdge(r),this.tick()}else this.warn("Levels were reset while loading level "+o)},e.synchronizeToLiveEdge=function(t){var i=this.config,e=this.media;if(e){var s=this.hls.liveSyncPosition,n=this.getLoadPosition(),o=t.fragmentStart,r=t.edge,a=n>=o-i.maxFragLookUpTolerance&&n<=r;if(null!==s&&e.duration>s&&(n<s||!a)){var h=void 0!==i.liveMaxLatencyDuration?i.liveMaxLatencyDuration:i.liveMaxLatencyDurationCount*t.targetduration;(!a&&e.readyState<4||n<r-h)&&(this.Ut||(this.nextLoadPosition=s),e.readyState&&(this.warn("Playback: "+n.toFixed(3)+" is located too far from the end of live sliding playlist: "+r+", reset currentTime to : "+s.toFixed(3)),e.currentTime=s))}}},e.yt=function(t){var i,e=t.frag,s=t.part,n=t.payload,o=this.levels;if(o){var r=o[e.level];if(r){var a=r.details;if(!a)return this.warn("Dropping fragment "+e.sn+" of level "+e.level+" after level details were reset"),void this.fragmentTracker.removeFragment(e);var h=r.videoCodec,l=a.PTSKnown||!a.live,u=null==(i=e.initSegment)?void 0:i.data,d=this.Ot(r),c=this.transmuxer=this.transmuxer||new yr(this.hls,N.MAIN,this.Lt.bind(this),this.xt.bind(this)),v=s?s.index:-1,f=-1!==v,p=new jo(e.level,e.sn,e.stats.chunkCount,n.byteLength,v,f),m=this.initPTS[e.cc];c.push(n,u,d,h,e,s,a.totalduration,l,p,m)}else this.warn("Level "+e.level+" not found on progress")}else this.warn("Levels were reset while fragment load was in progress. Fragment "+e.sn+" of level "+e.level+" will not be buffered")},e.onAudioTrackSwitching=function(t,i){var e=this,s=this.hls,n=2===this.altAudio;if(ji(i.url,s))this.altAudio=1;else{if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var o=this.fragCurrent;o&&(this.log("Switching to main audio track, cancel main fragment load"),o.abortRequests(),this.fragmentTracker.removeFragment(o)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();if(n)return this.fragmentTracker.removeAllFragments(),s.once(D.BUFFER_FLUSHED,(function(){var t;null==(t=e.hls)||t.trigger(D.AUDIO_TRACK_SWITCHED,i)})),void s.trigger(D.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null});s.trigger(D.AUDIO_TRACK_SWITCHED,i)}},e.onAudioTrackSwitched=function(t,i){var e=ji(i.url,this.hls);if(e){var s=this.videoBuffer;s&&this.mediaBuffer!==s&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=s)}this.altAudio=e?2:0,this.tick()},e.onBufferCreated=function(t,i){var e,s,n=i.tracks,o=!1;for(var r in n){var a=n[r];if("main"===a.id){if(s=r,e=a,"video"===r){var h=n[r];h&&(this.videoBuffer=h.buffer)}}else o=!0}o&&e?(this.log("Alternate track found, use "+s+".buffered to schedule main fragment loading"),this.mediaBuffer=e.buffer):this.mediaBuffer=this.media},e.onFragBuffered=function(t,i){var e=i.frag,s=i.part,n=e.type===N.MAIN;if(n){if(this.fragContextChanged(e))return this.warn("Fragment "+e.sn+(s?" p: "+s.index:"")+" of level "+e.level+" finished buffering, but was aborted. state: "+this.state),void(this.state===Bo.PARSED&&(this.state=Bo.IDLE));var o=s?s.stats:e.stats;this.fragLastKbps=Math.round(8*o.total/(o.buffering.end-o.loading.first)),et(e)&&(this.fragPrevious=e),this.fragBufferedComplete(e,s)}var r=this.media;r&&(!this.Ut&&Vi.getBuffered(r).length&&(this.Ut=!0,this.seekToStartPos()),n&&this.tick())},e.onError=function(t,i){var e;if(i.fatal)this.state=Bo.ERROR;else switch(i.details){case M.FRAG_GAP:case M.FRAG_PARSING_ERROR:case M.FRAG_DECRYPT_ERROR:case M.FRAG_LOAD_ERROR:case M.FRAG_LOAD_TIMEOUT:case M.KEY_LOAD_ERROR:case M.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(N.MAIN,i);break;case M.LEVEL_LOAD_ERROR:case M.LEVEL_LOAD_TIMEOUT:case M.LEVEL_PARSING_ERROR:i.levelRetry||this.state!==Bo.WAITING_LEVEL||(null==(e=i.context)?void 0:e.type)!==B.LEVEL||(this.state=Bo.IDLE);break;case M.BUFFER_ADD_CODEC_ERROR:case M.BUFFER_APPEND_ERROR:if("main"!==i.parent)return;this.resetLoadingState();break;case M.BUFFER_FULL_ERROR:if("main"!==i.parent)return;this.reduceLengthAndFlushBuffer(i)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case M.INTERNAL_EXCEPTION:this.recoverWorkerError(i)}},e.onFragLoadEmergencyAborted=function(){this.state=Bo.IDLE,this.Ut||(this.startFragRequested=!1,this.nextLoadPosition=this.lastCurrentTime),this.tickImmediate()},e.onBufferFlushed=function(t,i){var e=i.type;if(e!==tt.AUDIO||!this.altAudio){var s=(e===tt.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;s&&(this.afterBufferFlushed(s,e,N.MAIN),this.tick())}},e.onLevelsUpdated=function(t,i){this.level>-1&&this.fragCurrent&&(this.level=this.fragCurrent.level,-1===this.level&&this.resetWhenMissingContext(this.fragCurrent)),this.levels=i.levels},e.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},e.seekToStartPos=function(){var t=this.media;if(t){var i=t.currentTime,e=this.startPosition;if(e>=0&&i<e){if(t.seeking)return void this.log("could not seek to "+e+", already seeking at "+i);var s=this.timelineOffset;s&&e&&(e+=s);var n=this.getLevelDetails(),o=Vi.getBuffered(t),r=o.length?o.start(0):0,a=r-e,h=Math.max(this.config.maxBufferHole,this.config.maxFragLookUpTolerance);a>0&&(a<h||this.loadingParts&&a<2*((null==n?void 0:n.partTarget)||0))&&(this.log("adjusting start position by "+a+" to match buffer start"),e+=a,this.startPosition=e),i<e&&(this.log("seek to target start position "+e+" from current time "+i+" buffer start "+r),t.currentTime=e)}}},e.Ot=function(t){var i=this.config.defaultAudioCodec||t.audioCodec;return this.audioCodecSwap&&i&&(this.log("Swapping audio codec"),i=-1!==i.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),i},e.Pt=function(t,i){var e=this;t.bitrateTest=!0,this.wt(t,i).then((function(t){var s=e.hls,n=null==t?void 0:t.frag;if(n&&!e.fragContextChanged(n)){i.fragmentError=0,e.state=Bo.IDLE,e.startFragRequested=!1,e.bitrateTest=!1;var o=n.stats;o.parsing.start=o.parsing.end=o.buffering.start=o.buffering.end=self.performance.now(),s.trigger(D.FRAG_LOADED,t),n.bitrateTest=!1}}))},e.Lt=function(t){var i,e=this.playlistType,s=this.hls,n=t.remuxResult,o=t.chunkMeta,r=this.getCurrentContext(o);if(r){var a=r.frag,h=r.part,l=r.level,u=n.video,d=n.text,c=n.id3,v=n.initSegment,f=l.details,p=this.altAudio?void 0:n.audio;if(this.fragContextChanged(a))this.fragmentTracker.removeFragment(a);else{if(this.state=Bo.PARSING,v){if(null!=v&&v.tracks){var m=a.initSegment||a;this.zt(l,v.tracks,m,o),s.trigger(D.FRAG_PARSING_INIT_SEGMENT,{frag:m,id:e,tracks:v.tracks})}var g=v.initPTS,A=v.timescale;S(g)&&(this.initPTS[a.cc]={baseTime:g,timescale:A},s.trigger(D.INIT_PTS_FOUND,{frag:a,id:e,initPTS:g,timescale:A}))}if(u&&f){p&&"audiovideo"===u.type&&this.logMuxedErr(a);var b=f.fragments[a.sn-1-f.startSN],y=a.sn===f.startSN,w=!b||a.cc>b.cc;if(!1!==n.independent){var _=u.startPTS,j=u.endPTS,x=u.startDTS,k=u.endDTS;if(h)h.elementaryStreams[u.type]={startPTS:_,endPTS:j,startDTS:x,endDTS:k};else if(u.firstKeyFrame&&u.independent&&1===o.id&&!w&&(this.couldBacktrack=!0),u.dropped&&u.independent){var E=this.getMainFwdBufferInfo(),T=(E?E.end:this.getLoadPosition())+this.config.maxBufferHole,C=u.firstKeyFramePTS?u.firstKeyFramePTS:_;if(!y&&T<C-this.config.maxBufferHole&&!w)return void this.backtrack(a);w&&(a.gap=!0),a.setElementaryStreamInfo(u.type,a.start,j,a.start,k,!0)}else y&&_-(f.appliedTimelineOffset||0)>Oo&&(a.gap=!0);a.setElementaryStreamInfo(u.type,_,j,x,k),this.backtrackFragment&&(this.backtrackFragment=a),this.bufferFragmentData(u,a,h,o,y||w)}else{if(!y&&!w)return void this.backtrack(a);a.gap=!0}}if(p){var I=p.startPTS,M=p.endPTS,B=p.startDTS,N=p.endDTS;h&&(h.elementaryStreams[tt.AUDIO]={startPTS:I,endPTS:M,startDTS:B,endDTS:N}),a.setElementaryStreamInfo(tt.AUDIO,I,M,B,N),this.bufferFragmentData(p,a,h,o)}if(f&&null!=c&&null!=(i=c.samples)&&i.length){var R={id:e,frag:a,details:f,samples:c.samples};s.trigger(D.FRAG_PARSING_METADATA,R)}if(f&&d){var U={id:e,frag:a,details:f,samples:d.samples};s.trigger(D.FRAG_PARSING_USERDATA,U)}}}else this.resetWhenMissingContext(o)},e.logMuxedErr=function(t){this.warn((et(t)?"Media":"Init")+" segment with muxed audiovideo where only video expected: "+t.url)},e.zt=function(t,i,e,s){var n=this;if(this.state===Bo.PARSING){this.audioOnly=!!i.audio&&!i.video,this.altAudio&&!this.audioOnly&&(delete i.audio,i.audiovideo&&this.logMuxedErr(e));var o=i.audio,r=i.video,a=i.audiovideo;if(o){var h=ii(o.codec,t.audioCodec);"mp4a"===h&&(h="mp4a.40.5");var l=navigator.userAgent.toLowerCase();if(this.audioCodecSwitch){h&&(h=-1!==h.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5");var u=o.metadata;u&&"channelCount"in u&&1!==(u.channelCount||1)&&-1===l.indexOf("firefox")&&(h="mp4a.40.5")}h&&-1!==h.indexOf("mp4a.40.5")&&-1!==l.indexOf("android")&&"audio/mpeg"!==o.container&&(h="mp4a.40.2",this.log("Android: force audio codec to "+h)),t.audioCodec&&t.audioCodec!==h&&this.log('Swapping manifest audio codec "'+t.audioCodec+'" for "'+h+'"'),o.levelCodec=h,o.id=N.MAIN,this.log("Init audio buffer, container:"+o.container+", codecs[selected/level/parsed]=["+(h||"")+"/"+(t.audioCodec||"")+"/"+o.codec+"]"),delete i.audiovideo}if(r){r.levelCodec=t.videoCodec,r.id=N.MAIN;var d=r.codec;if(4===(null==d?void 0:d.length))switch(d){case"hvc1":case"hev1":r.codec="hvc1.1.6.L120.90";break;case"av01":r.codec="av01.0.04M.08";break;case"avc1":r.codec="avc1.42e01e"}this.log("Init video buffer, container:"+r.container+", codecs[level/parsed]=["+(t.videoCodec||"")+"/"+d+"]"+(r.codec!==d?" parsed-corrected="+r.codec:"")+(r.supplemental?" supplemental="+r.supplemental:"")),delete i.audiovideo}a&&(this.log("Init audiovideo buffer, container:"+a.container+", codecs[level/parsed]=["+t.codecs+"/"+a.codec+"]"),delete i.video,delete i.audio);var c=Object.keys(i);if(c.length){if(this.hls.trigger(D.BUFFER_CODECS,i),!this.hls)return;c.forEach((function(t){var o=i[t].initSegment;null!=o&&o.byteLength&&n.hls.trigger(D.BUFFER_APPENDING,{type:t,data:o,frag:e,part:null,chunkMeta:s,parent:e.type})}))}this.tickImmediate()}},e.getMainFwdBufferInfo=function(){var t=this.mediaBuffer&&2===this.altAudio?this.mediaBuffer:this.media;return this.getFwdBufferInfo(t,N.MAIN)},e.backtrack=function(t){this.couldBacktrack=!0,this.backtrackFragment=t,this.resetTransmuxer(),this.flushBufferGap(t),this.fragmentTracker.removeFragment(t),this.fragPrevious=null,this.nextLoadPosition=t.start,this.state=Bo.IDLE},e.checkFragmentChanged=function(){var t=this.media,i=null;if(t&&t.readyState>1&&!1===t.seeking){var e=t.currentTime;if(Vi.isBuffered(t,e)?i=this.getAppendedFrag(e):Vi.isBuffered(t,e+.1)&&(i=this.getAppendedFrag(e+.1)),i){this.backtrackFragment=null;var s=this.fragPlaying,n=i.level;s&&i.sn===s.sn&&s.level===n||(this.fragPlaying=i,this.hls.trigger(D.FRAG_CHANGED,{frag:i}),s&&s.level===n||this.hls.trigger(D.LEVEL_SWITCHED,{level:n}))}}},n(i,[{key:"hasEnoughToStart",get:function(){return this.Ut}},{key:"maxBufferLength",get:function(){var t=this.levels,i=this.level,e=null==t?void 0:t[i];return e?this.getMaxBufferLength(e.maxBitrate):this.config.maxBufferLength}},{key:"nextLevel",get:function(){var t=this.nextBufferedFrag;return t?t.level:-1}},{key:"currentFrag",get:function(){var t;if(this.fragPlaying)return this.fragPlaying;var i=(null==(t=this.media)?void 0:t.currentTime)||this.lastCurrentTime;return S(i)?this.getAppendedFrag(i):null}},{key:"currentProgramDateTime",get:function(){var t,i=(null==(t=this.media)?void 0:t.currentTime)||this.lastCurrentTime;if(S(i)){var e=this.getLevelDetails(),s=this.currentFrag||(e?Ti(null,e.fragments,i):null);if(s){var n=s.programDateTime;if(null!==n){var o=n+1e3*(i-s.start);return new Date(o)}}}return null}},{key:"currentLevel",get:function(){var t=this.currentFrag;return t?t.level:-1}},{key:"nextBufferedFrag",get:function(){var t=this.currentFrag;return t?this.followingBufferedFrag(t):null}},{key:"forceStartLoad",get:function(){return this.Rt}}])}(No),Sr=function(){function t(t){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=t}var i=t.prototype;return i.abort=function(t){for(var i in this.keyUriToKeyInfo){var e=this.keyUriToKeyInfo[i].loader;if(e){var s;if(t&&t!==(null==(s=e.context)?void 0:s.frag.type))return;e.abort()}}},i.detach=function(){for(var t in this.keyUriToKeyInfo){var i=this.keyUriToKeyInfo[t];(i.mediaKeySessionContext||i.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[t]}},i.destroy=function(){for(var t in this.detach(),this.keyUriToKeyInfo){var i=this.keyUriToKeyInfo[t].loader;i&&i.destroy()}this.keyUriToKeyInfo={}},i.createKeyLoadError=function(t,i,e,s,n){return void 0===i&&(i=M.KEY_LOAD_ERROR),new wo({type:I.NETWORK_ERROR,details:i,fatal:!1,frag:t,response:n,error:e,networkDetails:s})},i.loadClear=function(t,i){var e=this;if(this.emeController&&this.config.emeEnabled)for(var s=t.sn,n=t.cc,o=function(){var t=i[r];if(n<=t.cc&&("initSegment"===s||"initSegment"===t.sn||s<t.sn))return e.emeController.selectKeySystemFormat(t).then((function(i){t.setKeyFormat(i)})),1},r=0;r<i.length&&!o();r++);},i.load=function(t){var i=this;return!t.decryptdata&&t.encrypted&&this.emeController&&this.config.emeEnabled?this.emeController.selectKeySystemFormat(t).then((function(e){return i.loadInternal(t,e)})):this.loadInternal(t)},i.loadInternal=function(t,i){var e,s;i&&t.setKeyFormat(i);var n=t.decryptdata;if(!n){var o=new Error(i?"Expected frag.decryptdata to be defined after setting format "+i:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(t,M.KEY_LOAD_ERROR,o))}var r=n.uri;if(!r)return Promise.reject(this.createKeyLoadError(t,M.KEY_LOAD_ERROR,new Error('Invalid key URI: "'+r+'"')));var a,h=this.keyUriToKeyInfo[r];if(null!=(e=h)&&e.decryptdata.key)return n.key=h.decryptdata.key,Promise.resolve({frag:t,keyInfo:h});if(null!=(s=h)&&s.keyLoadPromise)switch(null==(a=h.mediaKeySessionContext)?void 0:a.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return h.keyLoadPromise.then((function(i){return n.key=i.keyInfo.decryptdata.key,{frag:t,keyInfo:h}}))}switch(h=this.keyUriToKeyInfo[r]={decryptdata:n,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},n.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return"identity"===n.keyFormat?this.loadKeyHTTP(h,t):this.loadKeyEME(h,t);case"AES-128":case"AES-256":case"AES-256-CTR":return this.loadKeyHTTP(h,t);default:return Promise.reject(this.createKeyLoadError(t,M.KEY_LOAD_ERROR,new Error('Key supplied with unsupported METHOD: "'+n.method+'"')))}},i.loadKeyEME=function(t,i){var e={frag:i,keyInfo:t};if(this.emeController&&this.config.emeEnabled){var s=this.emeController.loadKey(e);if(s)return(t.keyLoadPromise=s.then((function(i){return t.mediaKeySessionContext=i,e}))).catch((function(i){throw t.keyLoadPromise=null,i}))}return Promise.resolve(e)},i.loadKeyHTTP=function(t,i){var e=this,s=this.config,n=new(0,s.loader)(s);return i.keyLoader=t.loader=n,t.keyLoadPromise=new Promise((function(o,r){var a={keyInfo:t,frag:i,responseType:"arraybuffer",url:t.decryptdata.uri},h=s.keyLoadPolicy.default,l={loadPolicy:h,timeout:h.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},u={onSuccess:function(t,i,s,n){var a=s.frag,h=s.keyInfo,l=s.url;if(!a.decryptdata||h!==e.keyUriToKeyInfo[l])return r(e.createKeyLoadError(a,M.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),n));h.decryptdata.key=a.decryptdata.key=new Uint8Array(t.data),a.keyLoader=null,h.loader=null,o({frag:a,keyInfo:h})},onError:function(t,s,n,o){e.resetLoader(s),r(e.createKeyLoadError(i,M.KEY_LOAD_ERROR,new Error("HTTP Error "+t.code+" loading key "+t.text),n,c({url:a.url,data:void 0},t)))},onTimeout:function(t,s,n){e.resetLoader(s),r(e.createKeyLoadError(i,M.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),n))},onAbort:function(t,s,n){e.resetLoader(s),r(e.createKeyLoadError(i,M.INTERNAL_ABORTED,new Error("key loading aborted"),n))}};n.load(a,l,u)}))},i.resetLoader=function(t){var i=t.frag,e=t.keyInfo,s=t.url,n=e.loader;i.keyLoader===n&&(i.keyLoader=null,e.loader=null),delete this.keyUriToKeyInfo[s],n&&n.destroy()},t}();function Tr(t){switch(t.type){case B.AUDIO_TRACK:return N.AUDIO;case B.SUBTITLE_TRACK:return N.SUBTITLE;default:return N.MAIN}}function Cr(t,i){var e=t.url;return void 0!==e&&0!==e.indexOf("data:")||(e=i.url),e}var Ir=function(){function t(t){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.onManifestLoaded=this.checkAutostartLoad,this.hls=t,this.registerListeners()}var i=t.prototype;return i.startLoad=function(t){},i.stopLoad=function(){this.destroyInternalLoaders()},i.registerListeners=function(){var t=this.hls;t.on(D.MANIFEST_LOADING,this.onManifestLoading,this),t.on(D.LEVEL_LOADING,this.onLevelLoading,this),t.on(D.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),t.on(D.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),t.on(D.LEVELS_UPDATED,this.onLevelsUpdated,this)},i.unregisterListeners=function(){var t=this.hls;t.off(D.MANIFEST_LOADING,this.onManifestLoading,this),t.off(D.LEVEL_LOADING,this.onLevelLoading,this),t.off(D.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),t.off(D.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),t.off(D.LEVELS_UPDATED,this.onLevelsUpdated,this)},i.createInternalLoader=function(t){var i=this.hls.config,e=i.pLoader,s=i.loader,n=new(e||s)(i);return this.loaders[t.type]=n,n},i.getInternalLoader=function(t){return this.loaders[t.type]},i.resetInternalLoader=function(t){this.loaders[t]&&delete this.loaders[t]},i.destroyInternalLoaders=function(){for(var t in this.loaders){var i=this.loaders[t];i&&i.destroy(),this.resetInternalLoader(t)}},i.destroy=function(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()},i.onManifestLoading=function(t,i){var e=i.url;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:B.MANIFEST,url:e,deliveryDirectives:null,levelOrTrack:null})},i.onLevelLoading=function(t,i){var e=i.id,s=i.level,n=i.pathwayId,o=i.url,r=i.deliveryDirectives,a=i.levelInfo;this.load({id:e,level:s,pathwayId:n,responseType:"text",type:B.LEVEL,url:o,deliveryDirectives:r,levelOrTrack:a})},i.onAudioTrackLoading=function(t,i){var e=i.id,s=i.groupId,n=i.url,o=i.deliveryDirectives,r=i.track;this.load({id:e,groupId:s,level:null,responseType:"text",type:B.AUDIO_TRACK,url:n,deliveryDirectives:o,levelOrTrack:r})},i.onSubtitleTrackLoading=function(t,i){var e=i.id,s=i.groupId,n=i.url,o=i.deliveryDirectives,r=i.track;this.load({id:e,groupId:s,level:null,responseType:"text",type:B.SUBTITLE_TRACK,url:n,deliveryDirectives:o,levelOrTrack:r})},i.onLevelsUpdated=function(t,i){var e=this.loaders[B.LEVEL];if(e){var s=e.context;s&&!i.levels.some((function(t){return t===s.levelOrTrack}))&&(e.abort(),delete this.loaders[B.LEVEL])}},i.load=function(t){var i,e,s,n=this,o=this.hls.config,a=this.getInternalLoader(t);if(a){var h=this.hls.logger,l=a.context;if(l&&l.levelOrTrack===t.levelOrTrack&&(l.url===t.url||l.deliveryDirectives&&!t.deliveryDirectives))return void(l.url===t.url?h.log("[playlist-loader]: ignore "+t.url+" ongoing request"):h.log("[playlist-loader]: ignore "+t.url+" in favor of "+l.url));h.log("[playlist-loader]: aborting previous loader for type: "+t.type),a.abort()}if(e=t.type===B.MANIFEST?o.manifestLoadPolicy.default:r({},o.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),a=this.createInternalLoader(t),S(null==(i=t.deliveryDirectives)?void 0:i.part)&&(t.type===B.LEVEL&&null!==t.level?s=this.hls.levels[t.level].details:t.type===B.AUDIO_TRACK&&null!==t.id?s=this.hls.audioTracks[t.id].details:t.type===B.SUBTITLE_TRACK&&null!==t.id&&(s=this.hls.subtitleTracks[t.id].details),s)){var u=s.partTarget,d=s.targetduration;if(u&&d){var c=1e3*Math.max(3*u,.8*d);e=r({},e,{maxTimeToFirstByteMs:Math.min(c,e.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(c,e.maxTimeToFirstByteMs)})}}var v=e.errorRetry||e.timeoutRetry||{},f={loadPolicy:e,timeout:e.maxLoadTimeMs,maxRetry:v.maxNumRetry||0,retryDelay:v.retryDelayMs||0,maxRetryDelay:v.maxRetryDelayMs||0},p={onSuccess:function(t,i,e,s){var o=n.getInternalLoader(e);n.resetInternalLoader(e.type);var r=t.data;0===r.indexOf("#EXTM3U")?(i.parsing.start=performance.now(),Ae.isMediaPlaylist(r)||e.type!==B.MANIFEST?n.handleTrackOrLevelPlaylist(t,i,e,s||null,o):n.handleMasterPlaylist(t,i,e,s)):n.handleManifestParsingError(t,e,new Error("no EXTM3U delimiter"),s||null,i)},onError:function(t,i,e,s){n.handleNetworkError(i,e,!1,t,s)},onTimeout:function(t,i,e){n.handleNetworkError(i,e,!0,void 0,t)}};a.load(t,f,p)},i.checkAutostartLoad=function(){if(this.hls){var t=this.hls,i=t.config,e=i.autoStartLoad,s=i.startPosition,n=t.forceStartLoad;(e||n)&&(this.hls.logger.log((e?"auto":"force")+" startLoad with configured startPosition "+s),this.hls.startLoad(s))}},i.handleMasterPlaylist=function(t,i,e,s){var n=this.hls,o=t.data,r=Cr(t,e),a=Ae.parseMasterPlaylist(o,r);if(a.playlistParsingError)this.handleManifestParsingError(t,e,a.playlistParsingError,s,i);else{var h=a.contentSteering,l=a.levels,u=a.sessionData,d=a.sessionKeys,c=a.startTimeOffset,v=a.variableList;this.variableList=v;var f=Ae.parseMasterPlaylistMedia(o,r,a),p=f.AUDIO,m=void 0===p?[]:p,g=f.SUBTITLES,A=f["CLOSED-CAPTIONS"];m.length&&(m.some((function(t){return!t.url}))||!l[0].audioCodec||l[0].attrs.AUDIO||(this.hls.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),m.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new ie({}),bitrate:0,url:""}))),n.trigger(D.MANIFEST_LOADED,{levels:l,audioTracks:m,subtitles:g,captions:A,contentSteering:h,url:r,stats:i,networkDetails:s,sessionData:u,sessionKeys:d,startTimeOffset:c,variableList:v})}},i.handleTrackOrLevelPlaylist=function(t,i,e,s,n){var o=this.hls,r=e.id,a=e.level,h=e.type,l=Cr(t,e),u=S(a)?a:S(r)?r:0,d=Tr(e),c=Ae.parseLevelPlaylist(t.data,l,u,d,0,this.variableList);if(h===B.MANIFEST){var v={attrs:new ie({}),bitrate:0,details:c,name:"",url:l};c.requestScheduled=i.loading.start+ze(c,0),o.trigger(D.MANIFEST_LOADED,{levels:[v],audioTracks:[],url:l,stats:i,networkDetails:s,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}i.parsing.end=performance.now(),e.levelDetails=c,this.handlePlaylistLoaded(c,t,i,e,s,n)},i.handleManifestParsingError=function(t,i,e,s,n){this.hls.trigger(D.ERROR,{type:I.NETWORK_ERROR,details:M.MANIFEST_PARSING_ERROR,fatal:i.type===B.MANIFEST,url:t.url,err:e,error:e,reason:e.message,response:t,context:i,networkDetails:s,stats:n})},i.handleNetworkError=function(t,i,e,s,n){void 0===e&&(e=!1);var o="A network "+(e?"timeout":"error"+(s?" (status "+s.code+")":""))+" occurred while loading "+t.type;t.type===B.LEVEL?o+=": "+t.level+" id: "+t.id:t.type!==B.AUDIO_TRACK&&t.type!==B.SUBTITLE_TRACK||(o+=" id: "+t.id+' group-id: "'+t.groupId+'"');var r=new Error(o);this.hls.logger.warn("[playlist-loader]: "+o);var a=M.UNKNOWN,h=!1,l=this.getInternalLoader(t);switch(t.type){case B.MANIFEST:a=e?M.MANIFEST_LOAD_TIMEOUT:M.MANIFEST_LOAD_ERROR,h=!0;break;case B.LEVEL:a=e?M.LEVEL_LOAD_TIMEOUT:M.LEVEL_LOAD_ERROR,h=!1;break;case B.AUDIO_TRACK:a=e?M.AUDIO_TRACK_LOAD_TIMEOUT:M.AUDIO_TRACK_LOAD_ERROR,h=!1;break;case B.SUBTITLE_TRACK:a=e?M.SUBTITLE_TRACK_LOAD_TIMEOUT:M.SUBTITLE_LOAD_ERROR,h=!1}l&&this.resetInternalLoader(t.type);var u={type:I.NETWORK_ERROR,details:a,fatal:h,url:t.url,loader:l,context:t,error:r,networkDetails:i,stats:n};if(s){var d=(null==i?void 0:i.url)||t.url;u.response=c({url:d,data:void 0},s)}this.hls.trigger(D.ERROR,u)},i.handlePlaylistLoaded=function(t,i,e,s,n,o){var r=this.hls,a=s.type,h=s.level,l=s.id,u=s.groupId,d=s.deliveryDirectives,c=Cr(i,s),v=Tr(s),f="number"==typeof s.level&&v===N.MAIN?h:void 0;if(t.fragments.length){t.targetduration||(t.playlistParsingError=new Error("Missing Target Duration"));var p=t.playlistParsingError;if(p){if(this.hls.logger.warn(p),!r.config.ignorePlaylistParsingErrors)return void r.trigger(D.ERROR,{type:I.NETWORK_ERROR,details:M.LEVEL_PARSING_ERROR,fatal:!1,url:c,error:p,reason:p.message,response:i,context:s,level:f,parent:v,networkDetails:n,stats:e});t.playlistParsingError=null}switch(t.live&&o&&(o.getCacheAge&&(t.ageHeader=o.getCacheAge()||0),o.getCacheAge&&!isNaN(t.ageHeader)||(t.ageHeader=0)),a){case B.MANIFEST:case B.LEVEL:r.trigger(D.LEVEL_LOADED,{details:t,levelInfo:s.levelOrTrack||r.levels[0],level:f||0,id:l||0,stats:e,networkDetails:n,deliveryDirectives:d,withoutMultiVariant:a===B.MANIFEST});break;case B.AUDIO_TRACK:r.trigger(D.AUDIO_TRACK_LOADED,{details:t,track:s.levelOrTrack,id:l||0,groupId:u||"",stats:e,networkDetails:n,deliveryDirectives:d});break;case B.SUBTITLE_TRACK:r.trigger(D.SUBTITLE_TRACK_LOADED,{details:t,track:s.levelOrTrack,id:l||0,groupId:u||"",stats:e,networkDetails:n,deliveryDirectives:d})}}else{var m=t.playlistParsingError=new Error("No Segments found in Playlist");r.trigger(D.ERROR,{type:I.NETWORK_ERROR,details:M.LEVEL_EMPTY_ERROR,fatal:!1,url:c,error:m,reason:m.message,response:i,context:s,level:f,parent:v,networkDetails:n,stats:e})}},t}(),Mr={supported:!0,configurations:[],decodingInfoResults:[{supported:!0,powerEfficient:!0,smooth:!0}]};function Dr(t,i){return{supported:!1,configurations:i,decodingInfoResults:[{supported:!1,smooth:!1,powerEfficient:!1}],error:t}}var Br={};function Nr(t,i,e){var s=t.videoCodec,n=t.audioCodec;if(!s&&!n||!e)return Promise.resolve(Mr);var o=[];if(s){var r={width:t.width,height:t.height,bitrate:Math.ceil(Math.max(.9*t.bitrate,t.averageBitrate)),framerate:t.frameRate||30},a=t.videoRange;"SDR"!==a&&(r.transferFunction=a.toLowerCase());var h=s.split(","),l=navigator.userAgent;if(h.some((function(t){return Nt(t)}))&&Gt())return Promise.resolve(Dr(new Error("Overriding Windows Firefox HEVC MediaCapabilities result based on user-agent sting: ("+l+")"),o));o.push.apply(o,h.map((function(t){return{type:"media-source",video:c(c({},r),{},{contentType:Jt(si(t),"video")})}})))}return n&&t.audioGroups&&t.audioGroups.forEach((function(t){var e;t&&(null==(e=i.groups[t])||e.tracks.forEach((function(i){if(i.groupId===t){var e=i.channels||"",s=parseFloat(e);S(s)&&s>2&&o.push.apply(o,n.split(",").map((function(t){return{type:"media-source",audio:{contentType:Jt(t,"audio"),channels:""+s}}})))}})))})),Promise.all(o.map((function(t){var i=Rr(t);return Br[i]||(Br[i]=e.decodingInfo(t))}))).then((function(t){return{supported:!t.some((function(t){return!t.supported})),configurations:o,decodingInfoResults:t}})).catch((function(t){return{supported:!1,configurations:o,decodingInfoResults:[],error:t}}))}function Rr(t){var i=t.audio,e=t.video,s=e||i;if(s){var n=oi(s.contentType);if(e)return"r"+e.height+"x"+e.width+"f"+Math.ceil(e.framerate)+(e.transferFunction||"sd")+"_"+n+"_"+Math.ceil(e.bitrate/1e5);if(i)return"c"+i.channels+(i.spatialRendering?"s":"n")+"_"+n}return""}var Ur=function(){function t(i){void 0===i&&(i={}),this.config=void 0,this.userConfig=void 0,this.logger=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this.Ft=new j,this.Gt=-1,this.Ht=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioStreamController=void 0,this.subtititleStreamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.interstitialsController=void 0,this.gapController=void 0,this.emeController=void 0,this.cmcdController=void 0,this.Vt=null,this.k=null,this.Yt=void 0,this.triggeringException=void 0,this.started=!1;var e=this.logger=V(i.debug||!1,"Hls instance",i.assetPlayerId),s=this.config=ao(t.DefaultConfig,i,e);this.userConfig=i,s.progressive&&lo(s,e);var n=s.abrController,o=s.bufferController,r=s.capLevelController,a=s.errorController,h=s.fpsController,l=new a(this),u=this.abrController=new n(this),d=new co(this),c=s.interstitialsController,v=c?this.interstitialsController=new c(this,t):null,f=this.bufferController=new o(this,d),p=this.capLevelController=new r(this),m=new h(this),g=new Ir(this),A=s.contentSteeringController,b=A?new A(this):null,y=this.levelController=new sr(this,b),w=new ir(this),_=new Sr(this.config),x=this.streamController=new Er(this,d,_),k=this.gapController=new Go(this,d);p.setStreamController(x),m.setStreamController(x);var E=[g,y,x];v&&E.splice(1,0,v),b&&E.splice(1,0,b),this.networkControllers=E;var S=[u,f,k,p,m,w,d];this.audioTrackController=this.createController(s.audioTrackController,E);var T=s.audioStreamController;T&&E.push(this.audioStreamController=new T(this,d,_)),this.subtitleTrackController=this.createController(s.subtitleTrackController,E);var C=s.subtitleStreamController;C&&E.push(this.subtititleStreamController=new C(this,d,_)),this.createController(s.timelineController,S),_.emeController=this.emeController=this.createController(s.emeController,S),this.cmcdController=this.createController(s.cmcdController,S),this.latencyController=this.createController(er,S),this.coreComponents=S,E.push(l);var I=l.onErrorOut;"function"==typeof I&&this.on(D.ERROR,I,l),this.on(D.MANIFEST_LOADED,g.onManifestLoaded,g)}t.isMSESupported=function(){return _r()},t.isSupported=function(){return jr()},t.getMediaSource=function(){return Lt()};var i=t.prototype;return i.createController=function(t,i){if(t){var e=new t(this);return i&&i.push(e),e}return null},i.on=function(t,i,e){void 0===e&&(e=this),this.Ft.on(t,i,e)},i.once=function(t,i,e){void 0===e&&(e=this),this.Ft.once(t,i,e)},i.removeAllListeners=function(t){this.Ft.removeAllListeners(t)},i.off=function(t,i,e,s){void 0===e&&(e=this),this.Ft.off(t,i,e,s)},i.listeners=function(t){return this.Ft.listeners(t)},i.emit=function(t,i,e){return this.Ft.emit(t,i,e)},i.trigger=function(t,i){if(this.config.debug)return this.emit(t,t,i);try{return this.emit(t,t,i)}catch(i){if(this.logger.error("An internal error happened while handling event "+t+'. Error message: "'+i.message+'". Here is a stacktrace:',i),!this.triggeringException){this.triggeringException=!0;var e=t===D.ERROR;this.trigger(D.ERROR,{type:I.OTHER_ERROR,details:M.INTERNAL_EXCEPTION,fatal:e,event:t,error:i}),this.triggeringException=!1}}return!1},i.listenerCount=function(t){return this.Ft.listenerCount(t)},i.destroy=function(){this.logger.log("destroy"),this.trigger(D.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this.Gt=-1,this.k=null,this.networkControllers.forEach((function(t){return t.destroy()})),this.networkControllers.length=0,this.coreComponents.forEach((function(t){return t.destroy()})),this.coreComponents.length=0;var t=this.config;t.xhrSetup=t.fetchSetup=void 0,this.userConfig=null},i.attachMedia=function(t){if(!t||"media"in t&&!t.media){var i=new Error("attachMedia failed: invalid argument ("+t+")");this.trigger(D.ERROR,{type:I.OTHER_ERROR,details:M.ATTACH_MEDIA_ERROR,fatal:!0,error:i})}else{this.logger.log("attachMedia"),this.Vt&&(this.logger.warn("media must be detached before attaching"),this.detachMedia());var e="media"in t,s=e?t.media:t,n=e?t:{media:s};this.Vt=s,this.trigger(D.MEDIA_ATTACHING,n)}},i.detachMedia=function(){this.logger.log("detachMedia"),this.trigger(D.MEDIA_DETACHING,{}),this.Vt=null},i.transferMedia=function(){this.Vt=null;var t=this.bufferController.transferMedia();return this.trigger(D.MEDIA_DETACHING,{transferMedia:t}),t},i.loadSource=function(t){this.stopLoad();var i=this.media,e=this.k,s=this.k=E.buildAbsoluteURL(self.location.href,t,{alwaysNormalize:!0});this.Gt=-1,this.Ht=null,this.logger.log("loadSource:"+s),i&&e&&(e!==s||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(i)),this.trigger(D.MANIFEST_LOADING,{url:t})},i.startLoad=function(t,i){void 0===t&&(t=-1),this.logger.log("startLoad("+t+(i?", <skip seek to start>":"")+")"),this.started=!0,this.resumeBuffering();for(var e=0;e<this.networkControllers.length&&(this.networkControllers[e].startLoad(t,i),this.started&&this.networkControllers);e++);},i.stopLoad=function(){this.logger.log("stopLoad"),this.started=!1;for(var t=0;t<this.networkControllers.length&&(this.networkControllers[t].stopLoad(),!this.started&&this.networkControllers);t++);},i.resumeBuffering=function(){this.bufferingEnabled||(this.logger.log("resume buffering"),this.networkControllers.forEach((function(t){t.resumeBuffering&&t.resumeBuffering()})))},i.pauseBuffering=function(){this.bufferingEnabled&&(this.logger.log("pause buffering"),this.networkControllers.forEach((function(t){t.pauseBuffering&&t.pauseBuffering()})))},i.swapAudioCodec=function(){this.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},i.recoverMediaError=function(){this.logger.log("recoverMediaError");var t=this.Vt,i=null==t?void 0:t.currentTime;this.detachMedia(),t&&(this.attachMedia(t),i&&this.startLoad(i))},i.removeLevel=function(t){this.levelController.removeLevel(t)},i.setAudioOption=function(t){var i;return(null==(i=this.audioTrackController)?void 0:i.setAudioOption(t))||null},i.setSubtitleOption=function(t){var i;return(null==(i=this.subtitleTrackController)?void 0:i.setSubtitleOption(t))||null},i.getMediaDecodingInfo=function(t,i){return void 0===i&&(i=this.allAudioTracks),Nr(t,wi(i),navigator.mediaCapabilities)},n(t,[{key:"url",get:function(){return this.k}},{key:"hasEnoughToStart",get:function(){return this.streamController.hasEnoughToStart}},{key:"startPosition",get:function(){return this.streamController.startPositionValue}},{key:"loadingEnabled",get:function(){return this.started}},{key:"bufferingEnabled",get:function(){return this.streamController.bufferingEnabled}},{key:"inFlightFragments",get:function(){var t,i=((t={})[N.MAIN]=this.streamController.inFlightFrag,t);return this.audioStreamController&&(i[N.AUDIO]=this.audioStreamController.inFlightFrag),this.subtititleStreamController&&(i[N.SUBTITLE]=this.subtititleStreamController.inFlightFrag),i}},{key:"sessionId",get:function(){var t=this.Yt;return t||(t=this.Yt=g()),t}},{key:"levels",get:function(){var t=this.levelController.levels;return t||[]}},{key:"latestLevelDetails",get:function(){return this.streamController.getLevelDetails()||null}},{key:"loadLevelObj",get:function(){return this.levelController.loadLevelObj}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(t){this.logger.log("set currentLevel:"+t),this.levelController.manualLevel=t,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(t){this.logger.log("set nextLevel:"+t),this.levelController.manualLevel=t,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(t){this.logger.log("set loadLevel:"+t),this.levelController.manualLevel=t}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(t){this.levelController.nextLoadLevel=t}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(t){this.logger.log("set firstLevel:"+t),this.levelController.firstLevel=t}},{key:"startLevel",get:function(){var t=this.levelController.startLevel;return-1===t&&this.abrController.forcedAutoLevel>-1?this.abrController.forcedAutoLevel:t},set:function(t){this.logger.log("set startLevel:"+t),-1!==t&&(t=Math.max(t,this.minAutoLevel)),this.levelController.startLevel=t}},{key:"capLevelToPlayerSize",get:function(){return this.config.capLevelToPlayerSize},set:function(t){var i=!!t;i!==this.config.capLevelToPlayerSize&&(i?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=i)}},{key:"autoLevelCapping",get:function(){return this.Gt},set:function(t){this.Gt!==t&&(this.logger.log("set autoLevelCapping:"+t),this.Gt=t,this.levelController.checkMaxAutoUpdated())}},{key:"bandwidthEstimate",get:function(){var t=this.abrController.bwEstimator;return t?t.getEstimate():NaN},set:function(t){this.abrController.resetEstimator(t)}},{key:"abrEwmaDefaultEstimate",get:function(){var t=this.abrController.bwEstimator;return t?t.defaultEstimate:NaN}},{key:"ttfbEstimate",get:function(){var t=this.abrController.bwEstimator;return t?t.getEstimateTTFB():NaN}},{key:"maxHdcpLevel",get:function(){return this.Ht},set:function(t){ai(t)&&this.Ht!==t&&(this.Ht=t,this.levelController.checkMaxAutoUpdated())}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){var t=this.levels,i=this.config.minAutoBitrate;if(!t)return 0;for(var e=t.length,s=0;s<e;s++)if(t[s].maxBitrate>=i)return s;return 0}},{key:"maxAutoLevel",get:function(){var t,i=this.levels,e=this.autoLevelCapping,s=this.maxHdcpLevel;if(t=-1===e&&null!=i&&i.length?i.length-1:e,s)for(var n=t;n--;){var o=i[n].attrs["HDCP-LEVEL"];if(o&&o<=s)return n}return t}},{key:"firstAutoLevel",get:function(){return this.abrController.firstAutoLevel}},{key:"nextAutoLevel",get:function(){return this.abrController.nextAutoLevel},set:function(t){this.abrController.nextAutoLevel=t}},{key:"playingDate",get:function(){return this.streamController.currentProgramDateTime}},{key:"mainForwardBufferInfo",get:function(){return this.streamController.getMainFwdBufferInfo()}},{key:"maxBufferLength",get:function(){return this.streamController.maxBufferLength}},{key:"allAudioTracks",get:function(){var t=this.audioTrackController;return t?t.allAudioTracks:[]}},{key:"audioTracks",get:function(){var t=this.audioTrackController;return t?t.audioTracks:[]}},{key:"audioTrack",get:function(){var t=this.audioTrackController;return t?t.audioTrack:-1},set:function(t){var i=this.audioTrackController;i&&(i.audioTrack=t)}},{key:"allSubtitleTracks",get:function(){var t=this.subtitleTrackController;return t?t.allSubtitleTracks:[]}},{key:"subtitleTracks",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTrack:-1},set:function(t){var i=this.subtitleTrackController;i&&(i.subtitleTrack=t)}},{key:"media",get:function(){return this.Vt}},{key:"subtitleDisplay",get:function(){var t=this.subtitleTrackController;return!!t&&t.subtitleDisplay},set:function(t){var i=this.subtitleTrackController;i&&(i.subtitleDisplay=t)}},{key:"lowLatencyMode",get:function(){return this.config.lowLatencyMode},set:function(t){this.config.lowLatencyMode=t}},{key:"liveSyncPosition",get:function(){return this.latencyController.liveSyncPosition}},{key:"latency",get:function(){return this.latencyController.latency}},{key:"maxLatency",get:function(){return this.latencyController.maxLatency}},{key:"targetLatency",get:function(){return this.latencyController.targetLatency},set:function(t){this.latencyController.targetLatency=t}},{key:"drift",get:function(){return this.latencyController.drift}},{key:"forceStartLoad",get:function(){return this.streamController.forceStartLoad}},{key:"pathways",get:function(){return this.levelController.pathways}},{key:"pathwayPriority",get:function(){return this.levelController.pathwayPriority},set:function(t){this.levelController.pathwayPriority=t}},{key:"bufferedToEnd",get:function(){var t;return!(null==(t=this.bufferController)||!t.bufferedToEnd)}},{key:"interstitialsManager",get:function(){var t;return(null==(t=this.interstitialsController)?void 0:t.interstitialsManager)||null}}],[{key:"version",get:function(){return vr}},{key:"Events",get:function(){return D}},{key:"MetadataSchema",get:function(){return Ds}},{key:"ErrorTypes",get:function(){return I}},{key:"ErrorDetails",get:function(){return M}},{key:"DefaultConfig",get:function(){return t.defaultConfig?t.defaultConfig:oo},set:function(i){t.defaultConfig=i}}])}();return Ur.defaultConfig=void 0,Ur}()}(!1)},540:t=>{"use strict";t.exports=function(t){var i=document.createElement("style");return t.setAttributes(i,t.attributes),t.insert(i,t.options),i}},601:t=>{"use strict";t.exports=function(t){return t[1]}},606:(t,i,e)=>{"use strict";e.d(i,{A:()=>f});var s=e(601),n=e.n(s),o=e(314),r=e.n(o),a=e(417),h=e.n(a),l=new URL(e(23),e.b),u=new URL(e(970),e.b),d=r()(n()),c=h()(l),v=h()(u);d.push([t.id,`.vdo-js .vjs-big-play-button .vjs-icon-placeholder:before,.vdo-js .vjs-modal-dialog,.vjs-button>.vjs-icon-placeholder:before,.vjs-modal-dialog .vjs-modal-dialog-content{position:absolute;top:0;left:0;width:100%;height:100%}.vdo-js .vjs-big-play-button .vjs-icon-placeholder:before,.vjs-button>.vjs-icon-placeholder:before{text-align:center}@font-face{font-family:VideoJS;src:url(${c}) format("woff"),url(${v}) format("truetype");font-weight:400;font-style:normal}.vdo-js .vjs-big-play-button .vjs-icon-placeholder:before,.vdo-js .vjs-play-control .vjs-icon-placeholder,.vjs-icon-play{font-family:VideoJS;font-weight:400;font-style:normal}.vdo-js .vjs-big-play-button .vjs-icon-placeholder:before,.vdo-js .vjs-play-control .vjs-icon-placeholder:before,.vjs-icon-play:before{content:"\\f101"}.vjs-icon-play-circle{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-play-circle:before{content:"\\f102"}.vdo-js .vjs-play-control.vjs-playing .vjs-icon-placeholder,.vjs-icon-pause{font-family:VideoJS;font-weight:400;font-style:normal}.vdo-js .vjs-play-control.vjs-playing .vjs-icon-placeholder:before,.vjs-icon-pause:before{content:"\\f103"}.vdo-js .vjs-mute-control.vjs-vol-0 .vjs-icon-placeholder,.vjs-icon-volume-mute{font-family:VideoJS;font-weight:400;font-style:normal}.vdo-js .vjs-mute-control.vjs-vol-0 .vjs-icon-placeholder:before,.vjs-icon-volume-mute:before{content:"\\f104"}.vdo-js .vjs-mute-control.vjs-vol-1 .vjs-icon-placeholder,.vjs-icon-volume-low{font-family:VideoJS;font-weight:400;font-style:normal}.vdo-js .vjs-mute-control.vjs-vol-1 .vjs-icon-placeholder:before,.vjs-icon-volume-low:before{content:"\\f105"}.vdo-js .vjs-mute-control.vjs-vol-2 .vjs-icon-placeholder,.vjs-icon-volume-mid{font-family:VideoJS;font-weight:400;font-style:normal}.vdo-js .vjs-mute-control.vjs-vol-2 .vjs-icon-placeholder:before,.vjs-icon-volume-mid:before{content:"\\f106"}.vdo-js .vjs-mute-control .vjs-icon-placeholder,.vjs-icon-volume-high{font-family:VideoJS;font-weight:400;font-style:normal}.vdo-js .vjs-mute-control .vjs-icon-placeholder:before,.vjs-icon-volume-high:before{content:"\\f107"}.vdo-js .vjs-fullscreen-control .vjs-icon-placeholder,.vjs-icon-fullscreen-enter{font-family:VideoJS;font-weight:400;font-style:normal}.vdo-js .vjs-fullscreen-control .vjs-icon-placeholder:before,.vjs-icon-fullscreen-enter:before{content:"\\f108"}.vdo-js.vjs-fullscreen .vjs-fullscreen-control .vjs-icon-placeholder,.vjs-icon-fullscreen-exit{font-family:VideoJS;font-weight:400;font-style:normal}.vdo-js.vjs-fullscreen .vjs-fullscreen-control .vjs-icon-placeholder:before,.vjs-icon-fullscreen-exit:before{content:"\\f109"}.vjs-icon-square{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-square:before{content:"\\f10a"}.vjs-icon-spinner{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-spinner:before{content:"\\f10b"}.vdo-js .vjs-subs-caps-button .vjs-icon-placeholder,.vdo-js .vjs-subtitles-button .vjs-icon-placeholder,.vdo-js.vdo-js:lang(en-AU) .vjs-subs-caps-button .vjs-icon-placeholder,.vdo-js.vdo-js:lang(en-GB) .vjs-subs-caps-button .vjs-icon-placeholder,.vdo-js.vdo-js:lang(en-IE) .vjs-subs-caps-button .vjs-icon-placeholder,.vdo-js.vdo-js:lang(en-NZ) .vjs-subs-caps-button .vjs-icon-placeholder,.vjs-icon-subtitles{font-family:VideoJS;font-weight:400;font-style:normal}.vdo-js .vjs-subs-caps-button .vjs-icon-placeholder:before,.vdo-js .vjs-subtitles-button .vjs-icon-placeholder:before,.vdo-js.vdo-js:lang(en-AU) .vjs-subs-caps-button .vjs-icon-placeholder:before,.vdo-js.vdo-js:lang(en-GB) .vjs-subs-caps-button .vjs-icon-placeholder:before,.vdo-js.vdo-js:lang(en-IE) .vjs-subs-caps-button .vjs-icon-placeholder:before,.vdo-js.vdo-js:lang(en-NZ) .vjs-subs-caps-button .vjs-icon-placeholder:before,.vjs-icon-subtitles:before{content:"\\f10c"}.vdo-js .vjs-captions-button .vjs-icon-placeholder,.vdo-js:lang(en) .vjs-subs-caps-button .vjs-icon-placeholder,.vdo-js:lang(fr-CA) .vjs-subs-caps-button .vjs-icon-placeholder,.vjs-icon-captions{font-family:VideoJS;font-weight:400;font-style:normal}.vdo-js .vjs-captions-button .vjs-icon-placeholder:before,.vdo-js:lang(en) .vjs-subs-caps-button .vjs-icon-placeholder:before,.vdo-js:lang(fr-CA) .vjs-subs-caps-button .vjs-icon-placeholder:before,.vjs-icon-captions:before{content:"\\f10d"}.vdo-js .vjs-chapters-button .vjs-icon-placeholder,.vjs-icon-chapters{font-family:VideoJS;font-weight:400;font-style:normal}.vdo-js .vjs-chapters-button .vjs-icon-placeholder:before,.vjs-icon-chapters:before{content:"\\f10e"}.vjs-icon-share{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-share:before{content:"\\f10f"}.vjs-icon-cog{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-cog:before{content:"\\f110"}.vdo-js .vjs-play-progress,.vdo-js .vjs-volume-level,.vjs-icon-circle{font-family:VideoJS;font-weight:400;font-style:normal}.vdo-js .vjs-play-progress:before,.vdo-js .vjs-volume-level:before,.vjs-icon-circle:before{content:"\\f111"}.vjs-icon-circle-outline{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-circle-outline:before{content:"\\f112"}.vjs-icon-circle-inner-circle{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-circle-inner-circle:before{content:"\\f113"}.vjs-icon-hd{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-hd:before{content:"\\f114"}.vdo-js .vjs-control.vjs-close-button .vjs-icon-placeholder,.vjs-icon-cancel{font-family:VideoJS;font-weight:400;font-style:normal}.vdo-js .vjs-control.vjs-close-button .vjs-icon-placeholder:before,.vjs-icon-cancel:before{content:"\\f115"}.vdo-js .vjs-play-control.vjs-ended .vjs-icon-placeholder,.vjs-icon-replay{font-family:VideoJS;font-weight:400;font-style:normal}.vdo-js .vjs-play-control.vjs-ended .vjs-icon-placeholder:before,.vjs-icon-replay:before{content:"\\f116"}.vjs-icon-facebook{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-facebook:before{content:"\\f117"}.vjs-icon-gplus{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-gplus:before{content:"\\f118"}.vjs-icon-linkedin{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-linkedin:before{content:"\\f119"}.vjs-icon-twitter{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-twitter:before{content:"\\f11a"}.vjs-icon-tumblr{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-tumblr:before{content:"\\f11b"}.vjs-icon-pinterest{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-pinterest:before{content:"\\f11c"}.vdo-js .vjs-descriptions-button .vjs-icon-placeholder,.vjs-icon-audio-description{font-family:VideoJS;font-weight:400;font-style:normal}.vdo-js .vjs-descriptions-button .vjs-icon-placeholder:before,.vjs-icon-audio-description:before{content:"\\f11d"}.vdo-js .vjs-audio-button .vjs-icon-placeholder,.vjs-icon-audio{font-family:VideoJS;font-weight:400;font-style:normal}.vdo-js .vjs-audio-button .vjs-icon-placeholder:before,.vjs-icon-audio:before{content:"\\f11e"}.vjs-icon-next-item{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-next-item:before{content:"\\f11f"}.vjs-icon-previous-item{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-previous-item:before{content:"\\f120"}.vdo-js{display:block;vertical-align:top;box-sizing:border-box;color:#fff;background-color:#000;position:relative;padding:0;font-size:10px;line-height:1;font-weight:400;font-style:normal;font-family:Arial,Helvetica,sans-serif;word-break:initial}.vdo-js:-moz-full-screen{position:absolute}.vdo-js:-webkit-full-screen{width:100%!important;height:100%!important}.vdo-js[tabindex="-1"]{outline:0}.vdo-js *,.vdo-js :after,.vdo-js :before{box-sizing:inherit}.vdo-js ul{font-family:inherit;font-size:inherit;line-height:inherit;list-style-position:outside;margin:0}.vdo-js.vjs-16-9,.vdo-js.vjs-4-3,.vdo-js.vjs-fluid{width:100%;max-width:100%;height:0}.vdo-js.vjs-16-9{padding-top:56.25%}.vdo-js.vjs-4-3{padding-top:75%}.vdo-js.vjs-fill{width:100%;height:100%}.vdo-js .vjs-tech{position:absolute;top:0;left:0;width:100%;height:100%}body.vjs-full-window{padding:0;margin:0;height:100%;overflow-y:auto}.vjs-full-window .vdo-js.vjs-fullscreen{position:fixed;overflow:hidden;z-index:1000;left:0;top:0;bottom:0;right:0}.vdo-js.vjs-fullscreen{width:100%!important;height:100%!important;padding-top:0!important}.vdo-js.vjs-fullscreen.vjs-user-inactive{cursor:none}.vjs-hidden{display:none!important}.vjs-disabled{opacity:.5;cursor:default}.vdo-js .vjs-offscreen{height:1px;left:-9999px;position:absolute;top:0;width:1px}.vjs-lock-showing{display:block!important;opacity:1;visibility:visible}.vjs-no-js{padding:20px;color:#fff;background-color:#000;font-size:18px;font-family:Arial,Helvetica,sans-serif;text-align:center;width:300px;height:150px;margin:0 auto}.vjs-no-js a,.vjs-no-js a:visited{color:#66a8cc}.vdo-js .vjs-big-play-button{font-size:3em;line-height:1.5em;height:1.5em;width:3em;display:block;position:absolute;top:10px;left:10px;padding:0;cursor:pointer;opacity:1;border:.06666em solid #fff;background-color:rgba(43,51,63,.7);-webkit-border-radius:.3em;-moz-border-radius:.3em;border-radius:.3em;-webkit-transition:.4s;-moz-transition:.4s;-ms-transition:.4s;-o-transition:.4s;transition:.4s}.vjs-big-play-centered .vjs-big-play-button{top:50%;left:50%;margin-top:-.75em;margin-left:-1.5em}.vdo-js .vjs-big-play-button:focus,.vdo-js:hover .vjs-big-play-button{border-color:#fff;background-color:rgba(115,133,159,.5);-webkit-transition:none;-moz-transition:none;-ms-transition:none;-o-transition:none;transition:none}.vjs-controls-disabled .vjs-big-play-button,.vjs-error .vjs-big-play-button,.vjs-has-started .vjs-big-play-button,.vjs-using-native-controls .vjs-big-play-button{display:none}.vjs-has-started.vjs-paused.vjs-show-big-play-button-on-pause .vjs-big-play-button{display:block}.vdo-js button{background:0 0;border:none;color:inherit;display:inline-block;overflow:visible;font-size:inherit;line-height:inherit;text-transform:none;text-decoration:none;transition:none;-webkit-appearance:none;-moz-appearance:none;appearance:none}.vjs-control .vjs-button{width:100%;height:100%}.vdo-js .vjs-control.vjs-close-button{cursor:pointer;height:3em;position:absolute;right:0;top:.5em;z-index:2}.vdo-js .vjs-modal-dialog{background:rgba(0,0,0,.8);background:-webkit-linear-gradient(-90deg,rgba(0,0,0,.8),rgba(255,255,255,0));background:linear-gradient(180deg,rgba(0,0,0,.8),rgba(255,255,255,0));overflow:auto;box-sizing:content-box}.vdo-js .vjs-modal-dialog>*{box-sizing:border-box}.vjs-modal-dialog .vjs-modal-dialog-content{font-size:1.2em;line-height:1.5;padding:20px 24px;z-index:1}.vjs-menu-button{cursor:pointer}.vjs-menu-button.vjs-disabled{cursor:default}.vjs-workinghover .vjs-menu-button.vjs-disabled:hover .vjs-menu{display:none}.vjs-menu .vjs-menu-content{display:block;padding:0;margin:0;font-family:Arial,Helvetica,sans-serif;overflow:auto;box-sizing:content-box}.vjs-menu .vjs-menu-content>*{box-sizing:border-box}.vjs-scrubbing .vjs-menu-button:hover .vjs-menu{display:none}.vjs-menu li{list-style:none;margin:0;padding:.2em 0;line-height:1.4em;font-size:1.2em;text-align:center;text-transform:lowercase}.vjs-menu li.vjs-menu-item:focus,.vjs-menu li.vjs-menu-item:hover{background-color:rgba(115,133,159,.5)}.vjs-menu li.vjs-selected,.vjs-menu li.vjs-selected:focus,.vjs-menu li.vjs-selected:hover{background-color:#fff;color:#2b333f}.vjs-menu li.vjs-menu-title{text-align:center;text-transform:uppercase;font-size:1em;line-height:2em;padding:0;margin:0 0 .3em;font-weight:700;cursor:default}.vjs-menu-button-popup .vjs-menu{display:none;position:absolute;bottom:0;width:10em;left:-3em;height:0;margin-bottom:1.5em;border-top-color:rgba(43,51,63,.7)}.vjs-menu-button-popup .vjs-menu .vjs-menu-content{background-color:rgba(43,51,63,.7);position:absolute;width:100%;bottom:1.5em;max-height:15em}.vjs-menu-button-popup .vjs-menu.vjs-lock-showing,.vjs-workinghover .vjs-menu-button-popup:hover .vjs-menu{display:block}.vdo-js .vjs-menu-button-inline{-webkit-transition:.4s;-moz-transition:.4s;-ms-transition:.4s;-o-transition:.4s;transition:.4s;overflow:hidden}.vdo-js .vjs-menu-button-inline:before{width:2.222222222em}.vdo-js .vjs-menu-button-inline.vjs-slider-active,.vdo-js .vjs-menu-button-inline:focus,.vdo-js .vjs-menu-button-inline:hover,.vdo-js.vjs-no-flex .vjs-menu-button-inline{width:12em}.vjs-menu-button-inline .vjs-menu{opacity:0;height:100%;width:auto;position:absolute;left:4em;top:0;padding:0;margin:0;-webkit-transition:.4s;-moz-transition:.4s;-ms-transition:.4s;-o-transition:.4s;transition:.4s}.vjs-menu-button-inline.vjs-slider-active .vjs-menu,.vjs-menu-button-inline:focus .vjs-menu,.vjs-menu-button-inline:hover .vjs-menu{display:block;opacity:1}.vjs-no-flex .vjs-menu-button-inline .vjs-menu{display:block;opacity:1;position:relative;width:auto}.vjs-no-flex .vjs-menu-button-inline.vjs-slider-active .vjs-menu,.vjs-no-flex .vjs-menu-button-inline:focus .vjs-menu,.vjs-no-flex .vjs-menu-button-inline:hover .vjs-menu{width:auto}.vjs-menu-button-inline .vjs-menu-content{width:auto;height:100%;margin:0;overflow:hidden}.vdo-js .vjs-control-bar{display:none;width:100%;position:absolute;bottom:0;left:0;right:0;height:3em;background-color:rgba(43,51,63,.7)}.vjs-has-started .vjs-control-bar{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;visibility:visible;opacity:1;-webkit-transition:visibility .1s,opacity .1s;-moz-transition:visibility .1s,opacity .1s;-ms-transition:visibility .1s,opacity .1s;-o-transition:visibility .1s,opacity .1s;transition:visibility .1s,opacity .1s}.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar{visibility:visible;opacity:0;-webkit-transition:visibility 1s,opacity 1s;-moz-transition:visibility 1s,opacity 1s;-ms-transition:visibility 1s,opacity 1s;-o-transition:visibility 1s,opacity 1s;transition:visibility 1s,opacity 1s}.vjs-controls-disabled .vjs-control-bar,.vjs-error .vjs-control-bar,.vjs-using-native-controls .vjs-control-bar{display:none!important}.vjs-audio.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar{opacity:1;visibility:visible}.vjs-has-started.vjs-no-flex .vjs-control-bar{display:table}.vdo-js .vjs-control{position:relative;text-align:center;margin:0;padding:0;height:100%;width:4em;-webkit-box-flex:none;-moz-box-flex:none;-webkit-flex:none;-ms-flex:none;flex:none}.vjs-button>.vjs-icon-placeholder:before{font-size:1.8em;line-height:1.67}.vdo-js .vjs-control:focus,.vdo-js .vjs-control:focus:before,.vdo-js .vjs-control:hover:before{text-shadow:0 0 1em #fff}.vdo-js .vjs-control-text{border:0;clip:rect(0 0 0 0);height:1px;overflow:hidden;padding:0;position:absolute;width:1px}.vjs-no-flex .vjs-control{display:table-cell;vertical-align:middle}.vdo-js .vjs-custom-control-spacer{display:none}.vdo-js .vjs-progress-control{cursor:pointer;-webkit-box-flex:auto;-moz-box-flex:auto;-webkit-flex:auto;-ms-flex:auto;flex:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;min-width:4em}.vdo-js .vjs-progress-control.disabled{cursor:default}.vjs-live .vjs-progress-control{display:none}.vjs-no-flex .vjs-progress-control{width:auto}.vdo-js .vjs-progress-holder{-webkit-box-flex:auto;-moz-box-flex:auto;-webkit-flex:auto;-ms-flex:auto;flex:auto;-webkit-transition:.2s;-moz-transition:.2s;-ms-transition:.2s;-o-transition:.2s;transition:.2s;height:.3em}.vdo-js .vjs-progress-control .vjs-progress-holder{margin:0 10px}.vdo-js .vjs-progress-control:hover .vjs-progress-holder{font-size:1.666666666666666666em}.vdo-js .vjs-progress-control:hover .vjs-progress-holder.disabled{font-size:1em}.vdo-js .vjs-progress-holder .vjs-load-progress,.vdo-js .vjs-progress-holder .vjs-load-progress div,.vdo-js .vjs-progress-holder .vjs-play-progress{position:absolute;display:block;height:100%;margin:0;padding:0;width:0;left:0;top:0}.vdo-js .vjs-play-progress{background-color:#fff}.vdo-js .vjs-play-progress:before{font-size:.9em;position:absolute;right:-.5em;top:-.333333333333333em;z-index:1}.vdo-js .vjs-load-progress{background:rgba(115,133,159,.5)}.vdo-js .vjs-load-progress div{background:rgba(115,133,159,.75)}.vdo-js .vjs-time-tooltip{background-color:rgba(255,255,255,.8);-webkit-border-radius:.3em;-moz-border-radius:.3em;border-radius:.3em;color:#000;float:right;font-family:Arial,Helvetica,sans-serif;font-size:1em;padding:6px 8px 8px;pointer-events:none;position:relative;top:-3.4em;visibility:hidden;z-index:1}.vdo-js .vjs-progress-holder:focus .vjs-time-tooltip{display:none}.vdo-js .vjs-progress-control:hover .vjs-progress-holder:focus .vjs-time-tooltip,.vdo-js .vjs-progress-control:hover .vjs-time-tooltip{display:block;font-size:.6em;visibility:visible}.vdo-js .vjs-progress-control.disabled:hover .vjs-time-tooltip{font-size:1em}.vdo-js .vjs-progress-control .vjs-mouse-display{display:none;position:absolute;width:1px;height:100%;background-color:#000;z-index:1}.vjs-no-flex .vjs-progress-control .vjs-mouse-display{z-index:0}.vdo-js .vjs-progress-control:hover .vjs-mouse-display{display:block}.vdo-js.vjs-user-inactive .vjs-progress-control .vjs-mouse-display{visibility:hidden;opacity:0;-webkit-transition:visibility 1s,opacity 1s;-moz-transition:visibility 1s,opacity 1s;-ms-transition:visibility 1s,opacity 1s;-o-transition:visibility 1s,opacity 1s;transition:visibility 1s,opacity 1s}.vdo-js.vjs-user-inactive.vjs-no-flex .vjs-progress-control .vjs-mouse-display{display:none}.vjs-mouse-display .vjs-time-tooltip{color:#fff;background-color:rgba(0,0,0,.8)}.vdo-js .vjs-slider{position:relative;cursor:pointer;padding:0;margin:0 .45em;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:rgba(115,133,159,.5)}.vdo-js .vjs-slider.disabled{cursor:default}.vdo-js .vjs-slider:focus{text-shadow:0 0 1em #fff;-webkit-box-shadow:0 0 1em #fff;-moz-box-shadow:0 0 1em #fff;box-shadow:0 0 1em #fff}.vdo-js .vjs-mute-control{cursor:pointer;-webkit-box-flex:none;-moz-box-flex:none;-webkit-flex:none;-ms-flex:none;flex:none;padding-left:2em;padding-right:2em;padding-bottom:3em}.vdo-js .vjs-volume-control{cursor:pointer;margin-right:1em;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.vdo-js .vjs-volume-control.vjs-volume-horizontal{width:5em}.vdo-js .vjs-volume-panel .vjs-volume-control{visibility:visible;opacity:0;width:1px;height:1px;margin-left:-1px}.vdo-js .vjs-volume-panel{-webkit-transition:width 1s;-moz-transition:width 1s;-ms-transition:width 1s;-o-transition:width 1s;transition:width 1s;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.vdo-js .vjs-volume-panel .vjs-mute-control:hover~.vjs-volume-control,.vdo-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active,.vdo-js .vjs-volume-panel .vjs-volume-control:active,.vdo-js .vjs-volume-panel .vjs-volume-control:hover,.vdo-js .vjs-volume-panel:active .vjs-volume-control,.vdo-js .vjs-volume-panel:focus .vjs-volume-control,.vdo-js .vjs-volume-panel:hover .vjs-volume-control{visibility:visible;opacity:1;position:relative;-webkit-transition:visibility .1s,opacity .1s,height .1s,width .1s,left,top;-moz-transition:visibility .1s,opacity .1s,height .1s,width .1s,left,top;-ms-transition:visibility .1s,opacity .1s,height .1s,width .1s,left,top;-o-transition:visibility .1s,opacity .1s,height .1s,width .1s,left,top;transition:visibility .1s,opacity .1s,height .1s,width .1s,left,top}.vdo-js .vjs-volume-panel .vjs-mute-control:hover~.vjs-volume-control.vjs-volume-horizontal,.vdo-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active.vjs-volume-horizontal,.vdo-js .vjs-volume-panel .vjs-volume-control:active.vjs-volume-horizontal,.vdo-js .vjs-volume-panel .vjs-volume-control:hover.vjs-volume-horizontal,.vdo-js .vjs-volume-panel:active .vjs-volume-control.vjs-volume-horizontal,.vdo-js .vjs-volume-panel:focus .vjs-volume-control.vjs-volume-horizontal,.vdo-js .vjs-volume-panel:hover .vjs-volume-control.vjs-volume-horizontal{width:5em;height:3em}.vdo-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active,.vdo-js .vjs-volume-panel.vjs-volume-panel-horizontal:active,.vdo-js .vjs-volume-panel.vjs-volume-panel-horizontal:hover{width:9em;-webkit-transition:width .1s;-moz-transition:width .1s;-ms-transition:width .1s;-o-transition:width .1s;transition:width .1s}.vdo-js .vjs-volume-panel .vjs-volume-control.vjs-volume-vertical{height:8em;width:3em;left:-3.5em;-webkit-transition:visibility 1s,opacity 1s,height 1s 1s,width 1s 1s,left 1s 1s,top 1s 1s;-moz-transition:visibility 1s,opacity 1s,height 1s 1s,width 1s 1s,left 1s 1s,top 1s 1s;-ms-transition:visibility 1s,opacity 1s,height 1s 1s,width 1s 1s,left 1s 1s,top 1s 1s;-o-transition:visibility 1s,opacity 1s,height 1s 1s,width 1s 1s,left 1s 1s,top 1s 1s;transition:visibility 1s,opacity 1s,height 1s 1s,width 1s 1s,left 1s 1s,top 1s 1s}.vdo-js .vjs-volume-panel .vjs-volume-control.vjs-volume-horizontal{-webkit-transition:visibility 1s,opacity 1s,height 1s 1s,width 1s,left 1s 1s,top 1s 1s;-moz-transition:visibility 1s,opacity 1s,height 1s 1s,width 1s,left 1s 1s,top 1s 1s;-ms-transition:visibility 1s,opacity 1s,height 1s 1s,width 1s,left 1s 1s,top 1s 1s;-o-transition:visibility 1s,opacity 1s,height 1s 1s,width 1s,left 1s 1s,top 1s 1s;transition:visibility 1s,opacity 1s,height 1s 1s,width 1s,left 1s 1s,top 1s 1s}.vdo-js.vjs-no-flex .vjs-volume-panel .vjs-volume-control.vjs-volume-horizontal{width:5em;height:3em;visibility:visible;opacity:1;position:relative;-webkit-transition:none;-moz-transition:none;-ms-transition:none;-o-transition:none;transition:none}.vdo-js.vjs-no-flex .vjs-volume-control.vjs-volume-vertical,.vdo-js.vjs-no-flex .vjs-volume-panel .vjs-volume-control.vjs-volume-vertical{position:absolute;bottom:3em;left:.5em}.vdo-js .vjs-volume-bar{margin:1.35em .45em}.vjs-volume-bar.vjs-slider-horizontal{width:5em;height:.3em}.vjs-volume-bar.vjs-slider-vertical{width:.3em;height:5em;margin:1.35em auto}.vdo-js .vjs-volume-level{position:absolute;bottom:0;left:0;background-color:#fff}.vdo-js .vjs-volume-level:before{position:absolute;font-size:.9em}.vjs-slider-vertical .vjs-volume-level{width:.3em}.vjs-slider-vertical .vjs-volume-level:before{top:-.5em;left:-.3em}.vjs-slider-horizontal .vjs-volume-level{height:.3em}.vjs-slider-horizontal .vjs-volume-level:before{top:-.3em;right:-.5em}.vdo-js .vjs-volume-panel.vjs-volume-panel-vertical{width:4em}.vjs-volume-bar.vjs-slider-vertical .vjs-volume-level{height:100%}.vjs-volume-bar.vjs-slider-horizontal .vjs-volume-level{width:100%}.vdo-js .vjs-volume-vertical{width:3em;height:8em;bottom:8em;background-color:rgba(43,51,63,.7)}.vdo-js .vjs-volume-horizontal .vjs-menu{left:-2em}.vjs-poster{display:block;background-repeat:no-repeat;background-position:50% 50%;background-size:contain;cursor:pointer;margin:0;padding:0;position:absolute;top:0;right:0;bottom:0;left:0;height:100%;width:100%;max-height:100%}.vjs-has-started .vjs-poster{display:none}.vjs-audio.vjs-has-started .vjs-poster{display:block}.vjs-using-native-controls .vjs-poster{display:none}.vdo-js .vjs-live-control{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:flex-start;-webkit-align-items:flex-start;-ms-flex-align:flex-start;align-items:flex-start;-webkit-box-flex:auto;-moz-box-flex:auto;-webkit-flex:auto;-ms-flex:auto;flex:auto;font-size:1em;line-height:3em}.vjs-no-flex .vjs-live-control{display:table-cell;width:auto;text-align:left}.vdo-js .vjs-time-control{-webkit-box-flex:none;-moz-box-flex:none;-webkit-flex:none;-ms-flex:none;flex:none;font-size:1em;line-height:3em;min-width:2em;width:auto;padding-left:1em;padding-right:1em}.vdo-js .vjs-current-time,.vjs-live .vjs-time-control,.vjs-no-flex .vjs-current-time{display:none}.vjs-no-flex .vjs-remaining-time.vjs-time-control.vjs-control{width:0!important;white-space:nowrap}.vdo-js .vjs-duration,.vjs-no-flex .vjs-duration{display:none}.vjs-time-divider{display:none;line-height:3em}.vjs-live .vjs-time-divider{display:none}.vdo-js .vjs-play-control .vjs-icon-placeholder{cursor:pointer;-webkit-box-flex:none;-moz-box-flex:none;-webkit-flex:none;-ms-flex:none;flex:none}.vjs-text-track-display{position:absolute;bottom:3em;left:0;right:0;top:0;pointer-events:none}.vdo-js.vjs-user-inactive.vjs-playing .vjs-text-track-display{bottom:1em}.vdo-js .vjs-text-track{font-size:1.4em;text-align:center;margin-bottom:.1em;background-color:rgba(0,0,0,.5)}.vjs-subtitles{color:#fff}.vjs-captions{color:#fc6}.vjs-tt-cue{display:block}video::-webkit-media-text-track-display{-moz-transform:translateY(-3em);-ms-transform:translateY(-3em);-o-transform:translateY(-3em);-webkit-transform:translateY(-3em);transform:translateY(-3em)}.vdo-js.vjs-user-inactive.vjs-playing video::-webkit-media-text-track-display{-moz-transform:translateY(-1.5em);-ms-transform:translateY(-1.5em);-o-transform:translateY(-1.5em);-webkit-transform:translateY(-1.5em);transform:translateY(-1.5em)}.vdo-js .vjs-fullscreen-control{cursor:pointer;-webkit-box-flex:none;-moz-box-flex:none;-webkit-flex:none;-ms-flex:none;flex:none}.vjs-playback-rate .vjs-playback-rate-value,.vjs-playback-rate>.vjs-menu-button{position:absolute;top:0;left:0;width:100%;height:100%}.vjs-playback-rate .vjs-playback-rate-value{pointer-events:none;font-size:1.5em;line-height:2;text-align:center}.vjs-playback-rate .vjs-menu{width:4em;left:0}.vjs-error .vjs-error-display .vjs-modal-dialog-content{font-size:1.4em;text-align:center}.vjs-error .vjs-error-display:before{color:#fff;content:'X';font-family:Arial,Helvetica,sans-serif;font-size:4em;left:0;line-height:1;margin-top:-.5em;position:absolute;text-shadow:.05em .05em .1em #000;text-align:center;top:50%;vertical-align:middle;width:100%}.vjs-loading-spinner{display:none;position:absolute;top:50%;left:50%;margin:-25px 0 0 -25px;opacity:.85;text-align:left;border:6px solid rgba(43,51,63,.7);box-sizing:border-box;background-clip:padding-box;width:50px;height:50px;border-radius:25px;visibility:hidden}.vjs-seeking .vjs-loading-spinner,.vjs-waiting .vjs-loading-spinner{display:block;animation:0s linear .3s forwards vjs-spinner-show}.vjs-loading-spinner:after,.vjs-loading-spinner:before{content:"";position:absolute;margin:-6px;box-sizing:inherit;width:inherit;height:inherit;border-radius:inherit;opacity:1;border:inherit;border-color:#fff transparent transparent}.vjs-seeking .vjs-loading-spinner:after,.vjs-seeking .vjs-loading-spinner:before,.vjs-waiting .vjs-loading-spinner:after,.vjs-waiting .vjs-loading-spinner:before{-webkit-animation:1.1s cubic-bezier(.6,.2,0,.8) infinite vjs-spinner-spin,1.1s linear infinite vjs-spinner-fade;animation:1.1s cubic-bezier(.6,.2,0,.8) infinite vjs-spinner-spin,1.1s linear infinite vjs-spinner-fade}.vjs-seeking .vjs-loading-spinner:before,.vjs-waiting .vjs-loading-spinner:before{border-top-color:#fff}.vjs-seeking .vjs-loading-spinner:after,.vjs-waiting .vjs-loading-spinner:after{border-top-color:#fff;-webkit-animation-delay:.44s;animation-delay:.44s}@keyframes vjs-spinner-show{to{visibility:visible}}@-webkit-keyframes vjs-spinner-show{to{visibility:visible}}@keyframes vjs-spinner-spin{100%{transform:rotate(360deg)}}@-webkit-keyframes vjs-spinner-spin{100%{-webkit-transform:rotate(360deg)}}@keyframes vjs-spinner-fade{0%,100%,20%,60%{border-top-color:#73859f}35%{border-top-color:#fff}}@-webkit-keyframes vjs-spinner-fade{0%,100%,20%,60%{border-top-color:#73859f}35%{border-top-color:#fff}}.vjs-chapters-button .vjs-menu ul{width:24em}.vdo-js .vjs-subs-caps-button+.vjs-menu .vjs-captions-menu-item .vjs-menu-item-text .vjs-icon-placeholder{position:absolute}.vdo-js .vjs-subs-caps-button+.vjs-menu .vjs-captions-menu-item .vjs-menu-item-text .vjs-icon-placeholder:before{font-family:VideoJS;content:"\\f10d";font-size:1.5em;line-height:inherit}.vdo-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-custom-control-spacer{-webkit-box-flex:auto;-moz-box-flex:auto;-webkit-flex:auto;-ms-flex:auto;flex:auto}.vdo-js.vjs-layout-tiny:not(.vjs-fullscreen).vjs-no-flex .vjs-custom-control-spacer{width:auto}.vdo-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-captions-button,.vdo-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-chapters-button,.vdo-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-current-time,.vdo-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-descriptions-button,.vdo-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-duration,.vdo-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-mute-control,.vdo-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-playback-rate,.vdo-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-remaining-time,.vdo-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-subtitles-button .vjs-audio-button,.vdo-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-time-divider,.vdo-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-volume-control,.vdo-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-audio-button,.vdo-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-captions-button,.vdo-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-chapters-button,.vdo-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-current-time,.vdo-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-descriptions-button,.vdo-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-duration,.vdo-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-mute-control,.vdo-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-playback-rate,.vdo-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-progress-control,.vdo-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-remaining-time,.vdo-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-subtitles-button,.vdo-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-time-divider,.vdo-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-volume-control,.vdo-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-audio-button,.vdo-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-captions-button,.vdo-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-chapters-button,.vdo-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-current-time,.vdo-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-descriptions-button,.vdo-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-duration,.vdo-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-mute-control,.vdo-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-playback-rate,.vdo-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-remaining-time,.vdo-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-subtitles-button,.vdo-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-time-divider,.vdo-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-volume-control{display:none}.vjs-modal-dialog.vjs-text-track-settings{background-color:rgba(43,51,63,.75);color:#fff;height:70%}.vjs-text-track-settings .vjs-modal-dialog-content{display:table}.vjs-text-track-settings .vjs-track-settings-colors,.vjs-text-track-settings .vjs-track-settings-controls,.vjs-text-track-settings .vjs-track-settings-font{display:table-cell}.vjs-text-track-settings .vjs-track-settings-controls{text-align:right;vertical-align:bottom}.vjs-text-track-settings fieldset{margin:5px;padding:3px;border:none}.vjs-text-track-settings fieldset span{display:inline-block;margin-left:5px}.vjs-text-track-settings legend{color:#fff;margin:0 0 5px}.vjs-text-track-settings .vjs-label{position:absolute;clip:rect(1px 1px 1px 1px);clip:rect(1px,1px,1px,1px);display:block;margin:0 0 5px;padding:0;border:0;height:1px;width:1px;overflow:hidden}.vjs-track-settings-controls button:active,.vjs-track-settings-controls button:focus{outline-style:solid;outline-width:medium;background-image:linear-gradient(0deg,#fff 88%,#73859f 100%)}.vjs-track-settings-controls button:hover{color:rgba(43,51,63,.75)}.vjs-track-settings-controls button{background-color:#fff;background-image:linear-gradient(-180deg,#fff 88%,#73859f 100%);color:#2b333f;cursor:pointer;border-radius:2px}.vjs-track-settings-controls .vjs-default-button{margin-right:1em}@media print{.vdo-js>:not(.vjs-tech):not(.vjs-poster){visibility:hidden}}.vjs-resize-manager{position:absolute;top:0;left:0;width:100%;height:100%;border:none;visibility:hidden}@media \\0screen{.vjs-user-inactive.vjs-playing .vjs-control-bar :before{content:""}.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar{visibility:hidden}}`,""]);const f=d},645:(t,i,e)=>{"use strict";e.d(i,{A:()=>a});var s=e(601),n=e.n(s),o=e(314),r=e.n(o)()(n());r.push([t.id,'.ima-controls-div{position:absolute;bottom:0;height:20%!important;background:-moz-linear-gradient(bottom,rgba(7,20,30,.7) 0,rgba(7,20,30,0) 100%);background:-webkit-gradient(linear,left bottom,left top,color-stop(0,rgba(7,20,30,.7)),color-stop(100%,rgba(7,20,30,0)));background:-webkit-linear-gradient(bottom,rgba(7,20,30,.7) 0,rgba(7,20,30,0) 100%);background:-o-linear-gradient(bottom,rgba(7,20,30,.7) 0,rgba(7,20,30,0) 100%);background:-ms-linear-gradient(bottom,rgba(7,20,30,.7) 0,rgba(7,20,30,0) 100%);background:linear-gradient(to top,rgba(7,20,30,.7) 0,rgba(7,20,30,0) 100%);display:flex}.ima-seek-bar-div{height:5px;position:absolute;background:rgba(255,255,255,.4);text-align:left;bottom:0;top:unset!important;width:100%}.ima-seek-bar-div .ima-progress-div{width:0;height:5px;background-color:#ecc546!important}.vdoai-video-unit .ima-fullscreen-div,.vdoai-video-unit .ima-mute-div,.vdoai-video-unit .ima-play-pause-div,.vdoai-video-unit .ima-slider-div{width:35px;height:20px;color:#fff!important;font-size:25px!important;line-height:1.5!important;text-align:center;font-family:VideoJS!important;cursor:pointer}.ima-playing:before{content:"\\00f103"}.ima-paused:before{content:"\\00f101"}.ima-paused:hover:before,.ima-playing:hover:before{text-shadow:0 0 1em #fff}.ima-non-muted:before{content:"\\00f107"}.ima-muted:before{content:"\\00f104"}.ima-muted:hover:before,.ima-non-muted:hover:before{text-shadow:0 0 1em #fff}.ima-non-fullscreen:before{content:"\\00f108"}.ima-fullscreen:before{content:"\\00f109"}.ima-fullscreen:hover:before,.ima-non-fullscreen:hover:before{text-shadow:0 0 1em #fff}div[id^=vdoai_ad_container_]>div,div[id^=vdoai_ad_container_]>div>iframe{width:100%!important;height:100%!important}.vdo-video-unit .ima-fullscreen-div,.vdo-video-unit .ima-mute-div,.vdo-video-unit .ima-play-pause-div,.vdo-video-unit .ima-slider-div{width:35px;height:20px;top:0!important;position:absolute;color:#fff!important;font-size:inherit!important;line-height:1.5!important;text-align:center;font-family:VideoJS!important;cursor:pointer}',""]);const a=r},659:t=>{"use strict";var i={};t.exports=function(t,e){var s=function(t){if(void 0===i[t]){var e=document.querySelector(t);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}i[t]=e}return i[t]}(t);if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(e)}},705:t=>{"use strict";t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBzdHlsZT0iZmlsbDogcmdiYSgyNTUsIDI1NSwgMjU1LCAxKTt0cmFuc2Zvcm06IDttc0ZpbHRlcjo7Ij48cGF0aCBkPSJtNy43MjcgNi4zMTMtNC4wMi00LjAyLTEuNDE0IDEuNDE0IDE4IDE4IDEuNDE0LTEuNDE0LTIuMDItMi4wMkE5LjU3OCA5LjU3OCAwIDAgMCAyMS45OTkgMTJjMC00LjA5MS0yLjQ3Mi03LjQ1My01Ljk5OS05djJjMi4zODcgMS4zODYgMy45OTkgNC4wNDcgMy45OTkgN2E4LjEzIDguMTMgMCAwIDEtMS42NzEgNC45MTRsLTEuMjg2LTEuMjg2QzE3LjY0NCAxNC41MzYgMTggMTMuMTkgMTggMTJjMC0xLjc3MS0uNzc1LTMuOS0yLTV2Ny41ODZsLTItMlYyLjEzMkw3LjcyNyA2LjMxM3pNNCAxN2gyLjY5N0wxNCAyMS44Njh2LTMuNzQ3TDMuMTAyIDcuMjIzQTEuOTk1IDEuOTk1IDAgMCAwIDIgOXY2YzAgMS4xMDMuODk3IDIgMiAyeiI+PC9wYXRoPjwvc3ZnPg=="},708:function(t){t.exports=function(t){function i(s){if(e[s])return e[s].exports;var n=e[s]={exports:{},id:s,loaded:!1};return t[s].call(n.exports,n,n.exports,i),n.loaded=!0,n.exports}var e={};return i.m=t,i.c=e,i.p="",i(0)}([function(t,i,e){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}var n=s(e(2));t.exports=n.default},function(t,i){function e(t){var i=typeof t;return null!=t&&("object"==i||"function"==i)}t.exports=e},function(t,i,e){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(i,"__esModule",{value:!0});var n=s(e(9)),o=s(e(3)),r=e(4),a=function(){if("undefined"!=typeof window){var t=100,i=["scroll","resize","load"],e={history:[]},s={offset:{},threshold:0,test:r.inViewport},a=(0,n.default)((function(){e.history.forEach((function(t){e[t].check()}))}),t);i.forEach((function(t){return window.addEventListener(t,a)})),window.MutationObserver&&window.addEventListener("DOMContentLoaded",(function(){new MutationObserver(a).observe(document.body,{attributes:!0,childList:!0,subtree:!0})}));var h=function(t){if("string"==typeof t){var i=[].slice.call(document.querySelectorAll(t));return e.history.indexOf(t)>-1?e[t].elements=i:(e[t]=(0,o.default)(i,s),e.history.push(t)),e[t]}};return h.offset=function(t){if(void 0===t)return s.offset;var i=function(t){return"number"==typeof t};return["top","right","bottom","left"].forEach(i(t)?function(i){return s.offset[i]=t}:function(e){return i(t[e])?s.offset[e]=t[e]:null}),s.offset},h.threshold=function(t){return"number"==typeof t&&t>=0&&t<=1?s.threshold=t:s.threshold},h.test=function(t){return"function"==typeof t?s.test=t:s.test},h.is=function(t){return s.test(t,s)},h.offset(0),h}};i.default=a()},function(t,i){"use strict";function e(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function t(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(i,e,s){return e&&t(i.prototype,e),s&&t(i,s),i}}(),n=function(){function t(i,s){e(this,t),this.options=s,this.elements=i,this.current=[],this.handlers={enter:[],exit:[]},this.singles={enter:[],exit:[]}}return s(t,[{key:"check",value:function(){var t=this;return this.elements.forEach((function(i){var e=t.options.test(i,t.options),s=t.current.indexOf(i),n=s>-1,o=!e&&n;e&&!n&&(t.current.push(i),t.emit("enter",i)),o&&(t.current.splice(s,1),t.emit("exit",i))})),this}},{key:"on",value:function(t,i){return this.handlers[t].push(i),this}},{key:"once",value:function(t,i){return this.singles[t].unshift(i),this}},{key:"emit",value:function(t,i){for(;this.singles[t].length;)this.singles[t].pop()(i);for(var e=this.handlers[t].length;--e>-1;)this.handlers[t][e](i);return this}}]),t}();i.default=function(t,i){return new n(t,i)}},function(t,i){"use strict";function e(t,i){var e=t.getBoundingClientRect(),s=e.top,n=e.right,o=e.bottom,r=e.left,a=e.width,h=e.height,l={t:o,r:window.innerWidth-r,b:window.innerHeight-s,l:n},u={x:i.threshold*a,y:i.threshold*h};return l.t>i.offset.top+u.y&&l.r>i.offset.right+u.x&&l.b>i.offset.bottom+u.y&&l.l>i.offset.left+u.x}Object.defineProperty(i,"__esModule",{value:!0}),i.inViewport=e},function(t,i){(function(i){var e="object"==typeof i&&i&&i.Object===Object&&i;t.exports=e}).call(i,function(){return this}())},function(t,i,e){var s=e(5),n="object"==typeof self&&self&&self.Object===Object&&self,o=s||n||Function("return this")();t.exports=o},function(t,i,e){function s(t,i,e){function s(i){var e=A,s=b;return A=b=void 0,x=i,w=t.apply(s,e)}function u(t){return x=t,_=setTimeout(v,i),k?s(t):w}function d(t){var e=i-(t-j);return E?l(e,y-(t-x)):e}function c(t){var e=t-j;return void 0===j||e>=i||e<0||E&&t-x>=y}function v(){var t=o();return c(t)?f(t):void(_=setTimeout(v,d(t)))}function f(t){return _=void 0,S&&A?s(t):(A=b=void 0,w)}function p(){void 0!==_&&clearTimeout(_),x=0,A=j=b=_=void 0}function m(){return void 0===_?w:f(o())}function g(){var t=o(),e=c(t);if(A=arguments,b=this,j=t,e){if(void 0===_)return u(j);if(E)return _=setTimeout(v,i),s(j)}return void 0===_&&(_=setTimeout(v,i)),w}var A,b,y,w,_,j,x=0,k=!1,E=!1,S=!0;if("function"!=typeof t)throw new TypeError(a);return i=r(i)||0,n(e)&&(k=!!e.leading,y=(E="maxWait"in e)?h(r(e.maxWait)||0,i):y,S="trailing"in e?!!e.trailing:S),g.cancel=p,g.flush=m,g}var n=e(1),o=e(8),r=e(10),a="Expected a function",h=Math.max,l=Math.min;t.exports=s},function(t,i,e){var s=e(6),n=function(){return s.Date.now()};t.exports=n},function(t,i,e){function s(t,i,e){var s=!0,a=!0;if("function"!=typeof t)throw new TypeError(r);return o(e)&&(s="leading"in e?!!e.leading:s,a="trailing"in e?!!e.trailing:a),n(t,i,{leading:s,maxWait:i,trailing:a})}var n=e(7),o=e(1),r="Expected a function";t.exports=s},function(t,i){function e(t){return t}t.exports=e}])},729:t=>{"use strict";t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBjbGFzcz0ibHVjaWRlIGx1Y2lkZS1taW5pbWl6ZSI+PHBhdGggZD0iTTggM3YzYTIgMiAwIDAgMS0yIDJIMyIvPjxwYXRoIGQ9Ik0yMSA4aC0zYTIgMiAwIDAgMS0yLTJWMyIvPjxwYXRoIGQ9Ik0zIDE2aDNhMiAyIDAgMCAxIDIgMnYzIi8+PHBhdGggZD0iTTE2IDIxdi0zYTIgMiAwIDAgMSAyLTJoMyIvPjwvc3ZnPg=="},825:t=>{"use strict";t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var i=t.insertStyleElement(t);return{update:function(e){!function(t,i,e){var s="";e.supports&&(s+="@supports (".concat(e.supports,") {")),e.media&&(s+="@media ".concat(e.media," {"));var n=void 0!==e.layer;n&&(s+="@layer".concat(e.layer.length>0?" ".concat(e.layer):""," {")),s+=e.css,n&&(s+="}"),e.media&&(s+="}"),e.supports&&(s+="}");var o=e.sourceMap;o&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),i.styleTagTransform(s,t,i.options)}(i,t,e)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(i)}}}},970:t=>{"use strict";t.exports="data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwR1NVQiCLJXoAAAE4AAAAVE9TLzJRiV3RAAABjAAAAFZjbWFwOfT3xgAAAmgAAAMiZ2x5ZgMJ0sMAAAXQAAARCGhlYWQSy2hLAAAA4AAAADZoaGVhDgMHIQAAALwAAAAkaG10eOAAAAAAAAHkAAAAhGxvY2E9NEHGAAAFjAAAAERtYXhwATIAgQAAARgAAAAgbmFtZdXH9aAAABbYAAACCnBvc3RAAl/0AAAY5AAAAZ4AAQAABwAAAAAABwAAAP//BwEAAQAAAAAAAAAAAAAAAAAAACEAAQAAAAEAAFYfTwlfDzz1AAsHAAAAAADWVg6nAAAAANZWDqcAAAAABwEHAAAAAAgAAgAAAAAAAAABAAAAIQB1AAcAAAAAAAIAAAAKAAoAAAD/AAAAAAAAAAEAAAAKADAAPgACREZMVAAObGF0bgAaAAQAAAAAAAAAAQAAAAQAAAAAAAAAAQAAAAFsaWdhAAgAAAABAAAAAQAEAAQAAAABAAgAAQAGAAAAAQAAAAEGygGQAAUAAARxBOYAAAD6BHEE5gAAA1wAVwHOAAACAAUDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFBmRWQAQPEB8SAHAAAAAKEHAAAAAAAAAQAAAAAAAAAAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAAAAAUAAAADAAAALAAAAAQAAAGSAAEAAAAAAIwAAwABAAAALAADAAoAAAGSAAQAYAAAAAQABAABAADxIP//AADxAf//AAAAAQAEAAAAAQACAAMABAAFAAYABwAIAAkACgALAAwADQAOAA8AEAARABIAEwAUABUAFgAXABgAGQAaABsAHAAdAB4AHwAgAAABBgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAGQAAAAAAAAACAAAPEBAADxAQAAAAEAAPECAADxAgAAAAIAAPEDAADxAwAAAAMAAPEEAADxBAAAAAQAAPEFAADxBQAAAAUAAPEGAADxBgAAAAYAAPEHAADxBwAAAAcAAPEIAADxCAAAAAgAAPEJAADxCQAAAAkAAPEKAADxCgAAAAoAAPELAADxCwAAAAsAAPEMAADxDAAAAAwAAPENAADxDQAAAA0AAPEOAADxDgAAAA4AAPEPAADxDwAAAA8AAPEQAADxEAAAABAAAPERAADxEQAAABEAAPESAADxEgAAABIAAPETAADxEwAAABMAAPEUAADxFAAAABQAAPEVAADxFQAAABUAAPEWAADxFgAAABYAAPEXAADxFwAAABcAAPEYAADxGAAAABgAAPEZAADxGQAAABkAAPEaAADxGgAAABoAAPEbAADxGwAAABsAAPEcAADxHAAAABwAAPEdAADxHQAAAB0AAPEeAADxHgAAAB4AAPEfAADxHwAAAB8AAPEgAADxIAAAACAAAAAAAAAADgBoAH4AzADgAQIBQgFsAZgBwgIYAlgCtALgAzADsAPeBDAElgTcBSQFZgWKBiAGZga0BuoHWAgSCFgIbgiEAAEAAAAABYsFiwACAAABEQECVQM2BYv76gILAAADAAAAAAZrBmsAAgAbADQAAAkCEyIHDgEHBhAXHgEXFiA3PgE3NhAnLgEnJgMiJy4BJyY0Nz4BNzYyFx4BFxYUBw4BBwYC6wHA/kCVmIuGzjk7OznOhosBMIuGzjk7OznOhouYeW9rpi0vLy2ma2/yb2umLS8vLaZrbwIwAVABUAGbOznOhov+0IuGzjk7OznOhosBMIuGzjk7+sAvLaZrb/Jva6YtLy8tpmtv8m9rpi0vAAACAAAAAAVABYsAAwAHAAABIREpAREhEQHAASv+1QJVASsBdQQW++oEFgAAAAQAAAAABiEGIAAHABcAJwAqAAABNCcmJxUXNjcUBxc2NTQnLgEnFR4BFxYBBwEhESEBEQEGBxU2Nxc3AQcXBNA0MlW4A7spcU1FQ+6VbKovMfu0XwFh/p8BKwF1AT5QWZl6mV/9YJycA4BhUlAqpbgYGGNicZKknYyHvSKaIJNlaQIsX/6f/kD+iwH2/sI9G5ojZJhfBJacnAAAAAEAAAAABKsF1gAFAAABESEBEQECCwEqAXb+igRg/kD+iwSq/osAAAACAAAAAAVmBdYACAAOAAABNCcmJxE2NzYBESEBEQEFZTQyVFQyNPwQASsBdf6LA4BhUlAq/aYqUFIBQf5A/osEqv6LAAMAAAAABiAGDwAFAA4AIgAAExEhAREBBTQnJicRNjc2AxUeARcWFAcOAQcVPgE3NhAnLgHgASsBdf6LAsU0MlVVMjS7bKovMTEvqmyV7kNFRUPuBGD+QP6LBKr+i+BhUlAq/aYqUFIC8Jogk2Vp6GllkyCaIr2HjAE6jIe9AAAABAAAAAAFiwWLAAUACwARABcAAAEjESE1IwMzNTM1IQEjFSERIwMVMxUzEQILlgF24JaW4P6KA4DgAXaW4OCWAuv+ipYCCuCW/ICWAXYCoJbgAXYABAAAAAAFiwWLAAUACwARABcAAAEzFTMRIRMjFSERIwEzNTM1IRM1IxEhNQF14Jb+iuDgAXaWAcCW4P6KlpYBdgJV4AF2AcCWAXb76uCWAcDg/oqWAAAAAAIAAAAABdYF1gATABcAAAEhIg4BFREUHgEzITI+ATURNC4BAyERIQVA/IApRCgoRCkDgClEKChEKfyAA4AF1ShEKfyAKUQoKEQpA4ApRCj76wOAAAYAAAAABmsGawAIAA0AFQAeACMALAAACQEmIyIHBgcBJS4BJwEFIQE2NzY1NAUBBgcGFRQXIQUeARcBMwEWMzI3NjcBAr4BZFJQhHt2YwESA44z7Z/+7gLl/dABel0zNfwS/t1dMzUPAjD95DPtnwESeP7dU0+Ee3Zj/u4D8AJoEy0rUf4nd6P6PP4nS/1zZn+Ej0tLAfhmf4SPS0pLo/o8Adn+CBMtK1EB2QAFAAAAAAZrBdYAEwAXABsAHwAjAAABISIOARURFB4BMyEyPgE1ETQuAQEhFSEBITUhBSE1ITUhNSEF1ftWKUUoKEUpBKopRSgoRfstASr+1gLq/RYC6gHA/tYBKv0WAuoF1ShEKfyAKUQoKEQpA4ApRCj9q5X+1ZWVlZaVAAAAAAMAAAAABiAF1gATACsAQwAAASEiDgEVERQeATMhMj4BNRE0LgEBIzUjFTM1MxUUBisBIiY1ETQ2OwEyFhUFIzUjFTM1MxUUBisBIiY1ETQ2OwEyFhUFi/vqKEUoKEUoBBYoRSgoRf2CcJWVcCsf4B8sLB/gHysCC3CVlXAsH+AfKysf4B8sBdUoRCn8gClEKChEKQOAKUQo/fYl4CVKHywsHwEqHywsH0ol4CVKHywsHwEqHywsHwAGAAAAAAYgBPYAAwAHAAsADwATABcAABMzNSMRMzUjETM1IwEhNSERITUhERUhNeCVlZWVlZUBKwQV++sEFfvrBBUDNZb+QJUBwJX+QJb+QJUCVZWVAAAAAQAAAAAGIQZsADEAAAEiBgcBNjQnAR4BMzI+ATQuASIOARUUFwEuASMiDgEUHgEzMjY3AQYVFB4BMj4BNC4BBUAqSx797AcHAg8eTys9Zzw8Z3pnPAf98R5PKz1nPDxnPStPHgIUBjtkdmQ7O2QCTx4cATcbMhsBNB0gPGd6Zzw8Zz0ZG/7NHCA8Z3pnPCAc/soZGDtkOjpkdmQ7AAAAAAIAAAAABlkGawBDAFAAAAE2NCc3PgEnAy4BDwEmLwEuASMhIgYPAQYHJyYGBwMGFh8BBhQXBw4BFxMeAT8BFh8BHgEzITI2PwE2NxcWNjcTNiYnBSIuATQ+ATIeARQOAQWrBQWeCgYHlgcaDLo8QhwDFQ7+1g4VAhxEOroNGgeVBwULnQUFnQsFB5UHGg26O0McAhUOASoOFQIcRDq6DRoHlQcFC/04R3hGRniOeEZGeAM3Kj4qewkbDAEDDAkFSy4bxg4SEg7GHC1LBQkM/v0MGwl7Kj4qewkbDP79DAkFSy4bxg4SEg7GHC1LBQkMAQMMGwlBRniOeEZGeI54RgABAAAAAAZrBmsAGAAAExQXHgEXFiA3PgE3NhAnLgEnJiAHDgEHBpU7Oc6GiwEwi4bOOTs7Oc6Gi/7Qi4bOOTsDgJiLhs45Ozs5zoaLATCLhs45Ozs5zoaLAAAAAAIAAAAABmsGawAYADEAAAEiBw4BBwYQFx4BFxYgNz4BNzYQJy4BJyYDIicuAScmNDc+ATc2MhceARcWFAcOAQcGA4CYi4bOOTs7Oc6GiwEwi4bOOTs7Oc6Gi5h5b2umLS8vLaZrb/Jva6YtLy8tpmtvBms7Oc6Gi/7Qi4bOOTs7Oc6GiwEwi4bOOTv6wC8tpmtv8m9rpi0vLy2ma2/yb2umLS8AAwAAAAAGawZrABgAMQA+AAABIgcOAQcGEBceARcWIDc+ATc2ECcuAScmAyInLgEnJjQ3PgE3NjIXHgEXFhQHDgEHBhMUDgEiLgE0PgEyHgEDgJiKhs85Ozs5z4aKATCKhs85Ozs5z4aKmHlva6YtLy8tpmtv8m9rpi0vLy2ma29nPGd6Zzw8Z3pnPAZrOznPhor+0IqGzzk7OznPhooBMIqGzzk7+sAvLaZrb/Jva6YtLy8tpmtv8m9rpi0vAlU9Zzw8Z3pnPDxnAAAABAAAAAAGIAYhABMAHwApAC0AAAEhIg4BFREUHgEzITI+ATURNC4BASM1IxUjETMVMzU7ASEyFhURFAYjITczNSMFi/vqKEUoKEUoBBYoRSgoRf2CcJVwcJVwlgEqHywsH/7WcJWVBiAoRSj76ihFKChFKAQWKEUo/ICVlQHAu7ssH/7WHyxw4AAAAAACAAAAAAZrBmsAGAAkAAABIgcOAQcGEBceARcWIDc+ATc2ECcuAScmEwcJAScJATcJARcBA4CYi4bOOTs7Oc6GiwEwi4bOOTs7Oc6Gi91p/vT+9GkBC/71aQEMAQxp/vUGazs5zoaL/tCLhs45Ozs5zoaLATCLhs45O/wJaQEL/vVpAQwBDGn+9QELaf70AAABAAAAAAXWBrYAJwAAAREJAREyFxYXFhQHBgcGIicmJyY1IxQXHgEXFjI3PgE3NjQnLgEnJgOA/osBdXpoZjs9PTtmaPRoZjs9lS8tpWtv9G9rpS0vLy2la28FiwEq/ov+iwEqPTtmaPNpZTw9PTxlaXl5b2umLS8vLaZrb/Nva6UuLwABAAAAAAU/BwAAFAAAAREjIgYdASEDIxEhESMRMzU0NjMyBT+dVjwBJSf+/s7//9Ctkwb0/vhISL3+2P0JAvcBKNq6zQAAAAAEAAAAAAaOBwAAMABFAGAAbAAAARQeAxUUBwYEIyImJyY1NDY3NiUuATU0NwYjIiY1NDY3PgEzIQcjHgEVFA4DJzI2NzY1NC4CIyIGBwYVFB4DEzI+AjU0LgEvASYvAiYjIg4DFRQeAgEzFSMVIzUjNTM1MwMfQFtaQDBI/uqfhOU5JVlKgwERIB8VLhaUy0g/TdNwAaKKg0pMMUVGMZImUBo1Ij9qQCpRGS8UKz1ZNjprWzcODxMeChwlThAgNWhvUzZGcX0Da9XVadTUaQPkJEVDUIBOWlN6c1NgPEdRii5SEipAKSQxBMGUUpo2QkBYP4xaSHNHO0A+IRs5ZjqGfVInITtlLmdnUjT8lxo0Xj4ZMCQYIwsXHTgCDiQ4XTtGazsdA2xs29ts2QADAAAAAAaABmwAAwAOACoAAAERIREBFgYrASImNDYyFgERIRE0JiMiBgcGFREhEhAvASEVIz4DMzIWAd3+tgFfAWdUAlJkZ6ZkBI/+t1FWP1UVC/63AgEBAUkCFCpHZz+r0ASP/CED3wEySWJik2Fh/N39yAISaXdFMx4z/dcBjwHwMDCQIDA4H+MAAAEAAAAABpQGAAAxAAABBgcWFRQCDgEEIyAnFjMyNy4BJxYzMjcuAT0BFhcuATU0NxYEFyY1NDYzMhc2NwYHNgaUQ18BTJvW/tKs/vHhIyvhsGmmHyEcKypwk0ROQk4seQFbxgi9hoxgbWAlaV0FaGJFDhyC/v3ut22RBIoCfWEFCxexdQQmAyyOU1hLlbMKJiSGvWYVOXM/CgAAAAEAAAAABYAHAAAiAAABFw4BBwYuAzURIzU+BDc+ATsBESEVIREUHgI3NgUwUBewWWitcE4hqEhyRDAUBQEHBPQBTf6yDSBDME4Bz+0jPgECOFx4eDoCINcaV11vVy0FB/5Y/P36HjQ1HgECAAEAAAAABoAGgABKAAABFAIEIyInNj8BHgEzMj4BNTQuASMiDgMVFBYXFj8BNjc2JyY1NDYzMhYVFAYjIiY3PgI1NCYjIgYVFBcDBhcmAjU0EiQgBBIGgM7+n9FvazsTNhRqPXm+aHfijmm2f1srUE0eCAgGAgYRM9Gpl6mJaz1KDgglFzYyPlYZYxEEzv7OAWEBogFhzgOA0f6fziBdR9MnOYnwlnLIfjpgfYZDaJ4gDCAfGAYXFD1al9mkg6ruVz0jdVkfMkJyVUkx/l5Ga1sBfOnRAWHOzv6fAAAHAAAAAAcBBM8AFwAhADgATwBmAHEAdAAAAREzNhcWFxYXFhcWBw4BBwYHBicmLwEmNxY2NzYuAQcRFAUWNzY/ATY3NjU2JyMGFxYfARYXFhcUFxY3Nj8BNjc2NzYnIwYXFh8BFhcWFRYXFjc2PwE2NzY3NicjBhcWHwEWFxYVFgUzPwEVMxEjBgsBARUnAxwcaC5MND0sTSsvCgdVREdTNWg1KgECq1JrCQcwYkABfhoSCxAKJBQXAX4dAQMCBgMnFxsBJBoSCxAKJBQWAQF+HgEEAgUEJxcbASMZEwsQCiQUFgEBfh4BBAIFBCcXGwH5Q+5B4arNDfHvAhaOAckC/QIBAwwPHzdcZXlZmC8xCAQBAQIDBMIDVkxCZDQF/pUHwgcTCyAUQEdPU8etCAgFCQZHTFxbwLoHEwsgFEBHT1PHrQgIBQkGR0xcW8C6BxMLIBRAR09Tx60ICAUJBkdMXFvAwGQBZQMMFf6D/oYB/fkBAAABAAAAAAYhBrYALAAAASIHDgEHBhURFB4BOwERITU0Nz4BNzYyFx4BFxYdASERMzI+ATURNCcuAScmA4CJfXi6MzU8Zz3g/tUpKJFeYdRhXpEoKf7V4D1nPDUzunh9BrU0M7t4fYn99j1nPAJVlWthXpAoKSkokF5ha5X9qzxnPQIKiX14uzM0AAAAAAIAAAAABUAFQAACAAYAAAkCIREzEQHAAnv9hQLrlQHAAcABwPyAA4AAAAAAAgAAAAAFQAVAAAMABgAAATMRIwkBEQHAlZUBBQJ7BUD8gAHA/kADgAAAAAAAABAAxgABAAAAAAABAAcAAAABAAAAAAACAAcABwABAAAAAAADAAcADgABAAAAAAAEAAcAFQABAAAAAAAFAAsAHAABAAAAAAAGAAcAJwABAAAAAAAKACsALgABAAAAAAALABMAWQADAAEECQABAA4AbAADAAEECQACAA4AegADAAEECQADAA4AiAADAAEECQAEAA4AlgADAAEECQAFABYApAADAAEECQAGAA4AugADAAEECQAKAFYAyAADAAEECQALACYBHlZpZGVvSlNSZWd1bGFyVmlkZW9KU1ZpZGVvSlNWZXJzaW9uIDEuMFZpZGVvSlNHZW5lcmF0ZWQgYnkgc3ZnMnR0ZiBmcm9tIEZvbnRlbGxvIHByb2plY3QuaHR0cDovL2ZvbnRlbGxvLmNvbQBWAGkAZABlAG8ASgBTAFIAZQBnAHUAbABhAHIAVgBpAGQAZQBvAEoAUwBWAGkAZABlAG8ASgBTAFYAZQByAHMAaQBvAG4AIAAxAC4AMABWAGkAZABlAG8ASgBTAEcAZQBuAGUAcgBhAHQAZQBkACAAYgB5ACAAcwB2AGcAMgB0AHQAZgAgAGYAcgBvAG0AIABGAG8AbgB0AGUAbABsAG8AIABwAHIAbwBqAGUAYwB0AC4AaAB0AHQAcAA6AC8ALwBmAG8AbgB0AGUAbABsAG8ALgBjAG8AbQAAAAIAAAAAAAAAEQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIQECAQMBBAEFAQYBBwEIAQkBCgELAQwBDQEOAQ8BEAERARIBEwEUARUBFgEXARgBGQEaARsBHAEdAR4BHwEgASEBIgAEcGxheQtwbGF5LWNpcmNsZQVwYXVzZQt2b2x1bWUtbXV0ZQp2b2x1bWUtbG93CnZvbHVtZS1taWQLdm9sdW1lLWhpZ2gQZnVsbHNjcmVlbi1lbnRlcg9mdWxsc2NyZWVuLWV4aXQGc3F1YXJlB3NwaW5uZXIJc3VidGl0bGVzCGNhcHRpb25zCGNoYXB0ZXJzBXNoYXJlA2NvZwZjaXJjbGUOY2lyY2xlLW91dGxpbmUTY2lyY2xlLWlubmVyLWNpcmNsZQJoZAZjYW5jZWwGcmVwbGF5CGZhY2Vib29rBWdwbHVzCGxpbmtlZGluB3R3aXR0ZXIGdHVtYmxyCXBpbnRlcmVzdBFhdWRpby1kZXNjcmlwdGlvbgVhdWRpbwluZXh0LWl0ZW0NcHJldmlvdXMtaXRlbQAAAAA="},992:(t,i,e)=>{"use strict";e.d(i,{A:()=>A});var s=e(601),n=e.n(s),o=e(314),r=e.n(o),a=e(417),h=e.n(a),l=new URL(e(179),e.b),u=new URL(e(705),e.b),d=new URL(e(154),e.b),c=new URL(e(729),e.b),v=r()(n()),f=h()(l),p=h()(u),m=h()(d),g=h()(c);v.push([t.id,`.vdoai_parentDiv{position:relative;width:340px;height:200px;max-width:100%;overflow:hidden}.vdoai_fullScreen{width:100%!important;height:100%!important;transition:height}.vdoai_youtubeParentDiv{background-color:#000}.vdoai_fullScreen #vdoai_volumeButton{bottom:1.5%!important;transform:scale(.9)}.vdoai_fullScreen #vdoai_fullScreenButton{bottom:1.3%!important}#vdoai_volumeSliderContainer{transition:.4s ease-in,visibility .4s ease-in;position:absolute;bottom:30px;left:calc(50% - 2px);width:4px;height:60px;background:grey;border-radius:5px;margin:auto;cursor:pointer;visibility:hidden;opacity:0}#vdoai_volumeBar{position:absolute;bottom:0;width:100%;height:50%;background:red;border-radius:5px 5px 0 0}#vdoai_volumeHandle{position:absolute;bottom:50%;left:50%;transform:translate(-50%,50%);width:8px;height:10px;background:#fff;border:1px solid #ccc;border-radius:50%;cursor:pointer}.vdoai_videoElement{width:100%!important;height:100%!important;background:#000}.vdoai_buttonHover #vdoai_buttonControlPanel,.vdoai_sliderHover #vdoai_volumeSliderContainer{visibility:visible;opacity:1}.vdoai_screenIcons #vdoai_fullScreenButton,.vdoai_screenIcons #vdoai_progressBarControlPanel,.vdoai_screenIcons #vdoai_volumeButton{visibility:hidden}.vdoai_youtubeDiv{width:100%!important;height:100%!important}.vdoai_resizeIcons #vdoai_volumeButton{transform:scale(.8)!important;bottom:3.5%!important}.vdoai_resizeIcons #vdoai_fullScreenButton{transform:scale(.6)!important;bottom:2.5%!important}#vdoai_buttonControlPanel{transition:.4s,visibility .4s;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);display:flex;justify-content:center;align-items:center;opacity:0;visibility:hidden;height:100%;width:100%;pointer-events:none}#vdoai_loadingSpinner{position:relative;width:50px;height:50px;border:4px solid rgba(0,0,0,.1);border-top:4px solid #fff;border-radius:50%;animation:1s linear infinite spin;transform:translate(-50%,-50%);display:none;z-index:1}@keyframes spin{from{transform:rotate(0)}to{transform:rotate(360deg)}}#vdoai_playPauseButton{width:70px;height:70px;background-color:rgb(158 158 158 / 80%)!important;border:none;display:flex;justify-content:center;align-items:center;cursor:pointer;border-radius:50%;position:relative;pointer-events:auto;min-width:unset!important;padding:unset!important;transform:scale(.95);box-shadow:unset!important}#vdoai_pauseIcon,#vdoai_playIcon{width:100%;height:100%;display:inline;transform:scale(.75)}.vdoai_maximize,.vdoai_minimize,.vdoai_muteIcon,.vdoai_unMuteIcon{width:20px;height:20px;background-size:contain;background-repeat:no-repeat;background-position:center;cursor:pointer}.vdoai_playIcon #vdoai_buttonControlPanel{opacity:1;visibility:visible}.vdoai_pauseIcon #vdoai_buttonControlPanel{opacity:0;visibility:hidden}.vdoai_pauseIcon:hover #vdoai_buttonControlPanel{opacity:1;visibility:visible}#vdoai_progressBarControlPanel{width:100%;height:4px;background-color:#4d4c4c;position:absolute;bottom:0;overflow:hidden}#vdoai_progressBar{width:0%;height:100%;background-color:#a80000;transition:width .2s}#vdoai_volumeButton{display:inline-flex;position:absolute;bottom:2.5%;left:65%}#vdoai_fullScreenButton{display:inline-flex;position:absolute;bottom:2%;right:15%;background-repeat:no-repeat;width:24px!important;height:24px!important;transform:scale(.7)}.vdoai_mobileFullScreen{bottom:1.3%!important}.vdoai_videoElement::-webkit-media-controls{display:none!important}:state(moz-media-controls){display:none!important}video::-internal-media-controls-overlay-enclosure{display:none!important}.vdoai_unMuteIcon{background-image:url(${f})}.vdoai_muteIcon{background-image:url(${p})}.vdoai_maximize{background-image:url(${m})}.vdoai_minimize{background-image:url(${g})}.vdoai_playPauseButtonSize{transform:translate(-50%,-50%) scale(1.3)!important}@media (min-width:320px) and (max-width:768px) and (hover:none) and (pointer:coarse){#vdoai_volumeButton{transform:scale(.9);bottom:2.3%!important}#vdoai_fullScreenButton{right:15%}.vdoai_mobileFullScreen{bottom:2%!important;transform:scale(.7)!important}}`,""]);const A=v}},i={};function s(e){var n=i[e];if(void 0!==n)return n.exports;var o=i[e]={id:e,exports:{}};return t[e].call(o.exports,o,o.exports,s),o.exports}s.m=t,s.n=t=>{var i=t&&t.__esModule?()=>t.default:()=>t;return s.d(i,{a:i}),i},s.d=(t,i)=>{for(var e in i)s.o(i,e)&&!s.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:i[e]})},s.o=(t,i)=>Object.prototype.hasOwnProperty.call(t,i),s.b=document.baseURI||self.location.href,s.nc=void 0,(()=>{"use strict";var t=s(708),i=s.n(t),n=new Blob([new Uint8Array([255,227,24,196,0,0,0,3,72,1,64,0,0,4,132,16,31,227,192,225,76,255,67,12,255,221,27,255,228,97,73,63,255,195,131,69,192,232,223,255,255,207,102,239,255,255,255,101,158,206,70,20,59,255,254,95,70,149,66,4,16,128,0,2,2,32,240,138,255,36,106,183,255,227,24,196,59,11,34,62,80,49,135,40,0,253,29,191,209,200,141,71,7,255,252,152,74,15,130,33,185,6,63,255,252,195,70,203,86,53,15,255,255,247,103,76,121,64,32,47,255,34,227,194,209,138,76,65,77,69,51,46,57,55,170,170,170,170,170,170,170,170,170,170,255,227,24,196,73,13,153,210,100,81,135,56,0,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170])],{type:"audio/mpeg"}),o=new Blob([new Uint8Array([0,0,0,28,102,116,121,112,105,115,111,109,0,0,2,0,105,115,111,109,105,115,111,50,109,112,52,49,0,0,0,8,102,114,101,101,0,0,2,239,109,100,97,116,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,0,0,2,194,109,111,111,118,0,0,0,108,109,118,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,232,0,0,0,47,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,1,236,116,114,97,107,0,0,0,92,116,107,104,100,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,47,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,36,101,100,116,115,0,0,0,28,101,108,115,116,0,0,0,0,0,0,0,1,0,0,0,47,0,0,0,0,0,1,0,0,0,0,1,100,109,100,105,97,0,0,0,32,109,100,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,172,68,0,0,8,0,85,196,0,0,0,0,0,45,104,100,108,114,0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0,0,0,1,15,109,105,110,102,0,0,0,16,115,109,104,100,0,0,0,0,0,0,0,0,0,0,0,36,100,105,110,102,0,0,0,28,100,114,101,102,0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1,0,0,0,211,115,116,98,108,0,0,0,103,115,116,115,100,0,0,0,0,0,0,0,1,0,0,0,87,109,112,52,97,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,2,0,16,0,0,0,0,172,68,0,0,0,0,0,51,101,115,100,115,0,0,0,0,3,128,128,128,34,0,2,0,4,128,128,128,20,64,21,0,0,0,0,1,244,0,0,1,243,249,5,128,128,128,2,18,16,6,128,128,128,1,2,0,0,0,24,115,116,116,115,0,0,0,0,0,0,0,1,0,0,0,2,0,0,4,0,0,0,0,28,115,116,115,99,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,28,115,116,115,122,0,0,0,0,0,0,0,0,0,0,0,2,0,0,1,115,0,0,1,116,0,0,0,20,115,116,99,111,0,0,0,0,0,0,0,1,0,0,0,44,0,0,0,98,117,100,116,97,0,0,0,90,109,101,116,97,0,0,0,0,0,0,0,33,104,100,108,114,0,0,0,0,0,0,0,0,109,100,105,114,97,112,112,108,0,0,0,0,0,0,0,0,0,0,0,0,45,105,108,115,116,0,0,0,37,169,116,111,111,0,0,0,29,100,97,116,97,0,0,0,1,0,0,0,0,76,97,118,102,53,54,46,52,48,46,49,48,49])],{type:"video/mp4"});function r(t){return Object.assign({muted:!1,timeout:250,inline:!1},t)}function a(t,i){var e=t.muted,s=t.timeout,n=t.inline,o=i(),r=o.element,a=o.source,h=void 0,l=void 0,u=void 0;return r.muted=e,!0===e&&r.setAttribute("muted","muted"),!0===n&&r.setAttribute("playsinline","playsinline"),r.src=a,new Promise((function(t){h=r.play(),l=setTimeout((function(){u(!1,new Error("Timeout "+s+" ms has been reached"))}),s),u=function(i){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;r.remove(),r.srcObject=null,clearTimeout(l),t({result:i,error:e})},void 0!==h?h.then((function(){return u(!0)})).catch((function(t){return u(!1,t)})):u(!0)}))}var h={audio:function(t){return a(t=r(t),(function(){return{element:document.createElement("audio"),source:URL.createObjectURL(n)}}))},video:function(t){return a(t=r(t),(function(){return{element:document.createElement("video"),source:URL.createObjectURL(o)}}))}};const l=h;var u=s(72),d=s.n(u),c=s(825),v=s.n(c),f=s(659),p=s.n(f),m=s(56),g=s.n(m),A=s(540),b=s.n(A),y=s(113),w=s.n(y),_=s(424),j={};j.styleTagTransform=w(),j.setAttributes=g(),j.insert=p().bind(null,"head"),j.domAPI=v(),j.insertStyleElement=b();d()(_.A,j);_.A&&_.A.locals&&_.A.locals;s(366);var x=s(645),k={};k.styleTagTransform=w(),k.setAttributes=g(),k.insert=p().bind(null,"head"),k.domAPI=v(),k.insertStyleElement=b();d()(x.A,k);x.A&&x.A.locals&&x.A.locals;var E=s(606),S={};S.styleTagTransform=w(),S.setAttributes=g(),S.insert=p().bind(null,"head"),S.domAPI=v(),S.insertStyleElement=b();d()(E.A,S);E.A&&E.A.locals&&E.A.locals;function T(t,i,e){return(i=function(t){var i=function(t,i){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var s=e.call(t,i||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(i))in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}class C{constructor(t){T(this,"createAdContainer",(()=>{this.adContainer=document.getElementById(this.adContainerId),this.adContainer||(this.adContainer=document.createElement("div"),this.adContainer.id=this.adContainerId,this.adContainer.style="top:0;left:0;z-index:99;width:100%;height:100%;position:absolute;display:none"),this.adUi(),this.adContainer.appendChild(this.controlsDiv),this.parentDiv&&this.parentDiv.insertAdjacentElement("beforeend",this.adContainer)})),T(this,"setImaValue",(t=>{this.adsWillAutoplay=t.adsWillAutoplay,this.adsWillPlayMuted=t.adsWillPlayMuted,t.disableCustomPlaybackForIOS10Plus&&(this.disableCustomPlaybackForIOS10Plus=t.disableCustomPlaybackForIOS10Plus),t.adsRenderingSettings&&t.adsRenderingSettings.loadVideoTimeout&&(this.loadVideoTimeout=t.adsRenderingSettings.loadVideoTimeout),t.vastLoadTimeout&&(this.vastLoadTimeout=t.vastLoadTimeout),t.vpaidMode&&(this.vpaidMode=t.vpaidMode),t.autoPlayAdBreaks&&(this.autoPlayAdBreaks=t.autoPlayAdBreaks)})),T(this,"initializeIMA",(t=>{this.setImaValue(t),this.createAdContainer(),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.disableCustomPlaybackForIOS10Plus),this.adDisplayContainer=new google.ima.AdDisplayContainer(this.adContainer,this.videoElement),this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer),this.vpaidMode&&this.adsLoader.getSettings().setVpaidMode(this.vpaidMode),this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded.bind(this),!0),this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,(t=>this.callbackEvent("adserror",t)),!1)})),T(this,"onAdsManagerLoaded",(t=>{this.adsRenderingSettings=new google.ima.AdsRenderingSettings,this.loadVideoTimeout&&(this.adsRenderingSettings.loadVideoTimeout=this.loadVideoTimeout),this.adsManager=t.getAdsManager(this.videoElement,this.adsRenderingSettings),this.callbackEvent("adsready"),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.callbackEvent.bind(this,"adstart"),!1),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.callbackEvent.bind(this,"ads-ad-ended"),!1),this.adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,this.callbackEvent.bind(this,"ads-ad-started"),!1),this.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.callbackEvent.bind(this,"adserror"),!1),this.adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,this.callbackEvent.bind(this,"adend"),!1),this.adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPED,this.callbackEvent.bind(this,"adskipped"),!1),this.adsManager.addEventListener(google.ima.AdEvent.Type.CLICK,this.callbackEvent.bind(this,"adclick"),!1),this.adsManager.addEventListener(google.ima.AdEvent.Type.PAUSED,this.callbackEvent.bind(this,"adpaused"),!1),this.adsManager.addEventListener(google.ima.AdEvent.Type.RESUMED,this.callbackEvent.bind(this,"adresumed"),!1),this.adsManager.addEventListener(google.ima.AdEvent.Type.AD_PROGRESS,(t=>this.updateDuration(t)),!1),this.adsManager.addEventListener(google.ima.AdEvent.Type.VOLUME_CHANGED,(t=>this.setAdVolumeIcon()),!1),this.adsManager.addEventListener(google.ima.AdEvent.Type.VOLUME_MUTED,(t=>this.setAdVolumeIcon()),!1),this.callbackEvent("ads-manager",this.adsManager),this.adsManager.init(this.videoElement.getBoundingClientRect().width,this.videoElement.getBoundingClientRect().height,google.ima.AdsRenderingSettings.AD_RENDERING_MODE_NORMAL),this.adDisplayContainer.initialize(),1==this.autoPlayAdBreaks&&this.playAdBreak()})),T(this,"getAdsManager",(()=>this.adsManager)),T(this,"vastRequest",((t,i)=>{this.adsLoader.contentComplete(),this.adsRequest=new google.ima.AdsRequest,"xml"==i?this.adsRequest.adsResponse=t:this.adsRequest.adTagUrl=t,this.adsRequest.linearAdSlotWidth=this.videoElement.clientWidth,this.adsRequest.linearAdSlotHeight=this.videoElement.clientHeight,this.adsRequest.nonLinearAdSlotWidth=this.videoElement.clientWidth,this.adsRequest.nonLinearAdSlotHeight=this.videoElement.clientHeight,this.vastLoadTimeout&&(this.adsRequest.vastLoadTimeout=this.vastLoadTimeout),this.adsRequest.setAdWillAutoPlay(this.adsWillAutoplay),this.adsRequest.setAdWillPlayMuted(this.adsWillPlayMuted),this.adsRequest.pageUrl=encodeURIComponent(top.location.href)})),T(this,"setImaOption",((t,i)=>{"adsWillPlayMuted"==t&&(this.adsWillPlayMuted=i,this.adsRequest&&this.adsRequest.setAdWillPlayMuted(i))})),T(this,"getImaOption",(t=>{if("adsWillPlayMuted"==t)return this.adsWillPlayMuted})),T(this,"isAdPlaying",(()=>this.adPlaying)),T(this,"requestAds",(()=>{this.adsLoader.requestAds(this.adsRequest)})),T(this,"addEventListener",((t,i)=>{this.adsManager&&this.adsManager.addEventListener(t,i)})),T(this,"callbackEvent",((t,i)=>{switch(t){case"ads-ad-started":case"ads-ad-ended":break;case"adresumed":this.adResumed();break;case"adpaused":this.adPaused();break;case"adend":this.adContainer.style.display="none",this.adPlaying=!1;break;case"adstart":this.adMute=1==this.videoElement.muted,this.setAdVolumeIcon(),this.adResumed(),this.adContainer.style.display="block",this.adPlaying=!0;break;case"adserror":this.adsManager&&this.adsManager.destroy(),this.adContainer.style.display="none"}this.eventStorage[t]&&this.eventStorage[t].forEach((function(t){t(i)}))})),T(this,"createDivIma",(t=>{var i=document.createElement("div");return i.id="".concat(this.id,"_").concat(t),i.classList.add("".concat(this.id,"_").concat(t),t),i})),T(this,"adUi",(()=>{this.controlsDiv=this.createDivIma("ima-controls-div"),this.controlsDiv.style="width:100%;height:36.6px !important",this.playPauseDiv=this.createDivIma("ima-play-pause-div"),this.playPauseDiv.classList.add("ima-playing"),this.playPauseDiv.onclick=()=>this.playPauseAd(),this.controlsDiv.appendChild(this.playPauseDiv),this.muteDiv=this.createDivIma("ima-mute-div"),this.muteDiv.classList.add("ima-muted"),this.muteDiv.onclick=()=>this.adVolumeToggle(),this.playPauseDiv.insertAdjacentElement("afterend",this.muteDiv),this.fullscreenDiv=this.createDivIma("ima-fullscreen-div"),this.parentDiv.requestFullscreen&&this.fullscreenDiv.classList.add("ima-non-fullscreen"),this.fullscreenDiv.onclick=()=>this.adFullScreenToggle(),this.muteDiv.insertAdjacentElement("afterend",this.fullscreenDiv),this.SeekBarDiv=this.createDivIma("ima-seek-bar-div"),this.fullscreenDiv.insertAdjacentElement("afterend",this.SeekBarDiv),this.progressDiv=this.createDivIma("ima-progress-div"),this.SeekBarDiv.insertAdjacentElement("beforeend",this.progressDiv)})),T(this,"setAdVolumeIcon",(()=>{this.adMute?(this.muteDiv.classList.remove("ima-non-muted"),this.muteDiv.classList.add("ima-muted")):(this.muteDiv.classList.remove("ima-muted"),this.muteDiv.classList.add("ima-non-muted"))})),T(this,"adVolumeToggle",(()=>{0!=this.adsManager.getVolume()?(this.adMute=!0,this.muteAd()):(this.adMute=!1,this.unMuteAd())})),T(this,"muteAd",(()=>{this.adsManager.setVolume(0),this.muteDiv.classList.remove("ima-non-muted"),this.muteDiv.classList.add("ima-muted"),this.videoElement.volume=0,this.videoElement.muted=!0})),T(this,"unMuteAd",(()=>{this.adsManager.setVolume(this.defaultAdVolume),this.muteDiv.classList.remove("ima-muted"),this.muteDiv.classList.add("ima-non-muted"),this.videoElement.volume=this.defaultAdVolume,this.videoElement.muted=!1})),T(this,"adFullScreenToggle",(()=>{document.fullscreenElement||document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement?(this.adExitFullScreen(),document.exitFullscreen()):this.adEnterFullScreen()})),T(this,"adEnterFullScreen",(()=>{this.parentDiv.requestFullscreen&&(this.parentDiv.requestFullscreen(),this.fullscreenDiv.classList.add("ima-fullscreen"),this.fullscreenDiv.classList.remove("ima-non-fullscreen"),this.adsManager.resize(window.innerWidth,window.innerHeight,google.ima.ViewMode.FULLSCREEN))})),T(this,"adExitFullScreen",(()=>{this.fullscreenDiv.classList.remove("ima-fullscreen"),this.fullscreenDiv.classList.add("ima-non-fullscreen"),this.adsManager.resize(this.videoElement.getBoundingClientRect().width,this.videoElement.getBoundingClientRect().height,google.ima.ViewMode.NORMAL)})),T(this,"updateDuration",(t=>{var i=t.getAdData(),e=i.currentTime/i.duration*100;this.progressDiv.style.width="".concat(e,"%")})),this.randomId=Math.floor(1e3+9e3*Math.random()),this.id=t,this.adsLoader=null,this.adsManager=null,this.adContainerId="vdoai_ad_container_".concat(this.id,"_").concat(this.randomId),this.adDisplayContainer=null,this.parentDiv=document.getElementById(this.id).parentNode,this.videoElement=document.getElementById(this.id),this.adContainer=null,this.adPlaying=!1,this.eventStorage={},this.defaultAdVolume=.01,this.adMute=!0,this.disableCustomPlaybackForIOS10Plus=!0,document.addEventListener("fullscreenchange",(()=>{document.fullscreenElement||document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||!this.adsManager||this.adExitFullScreen()}))}playAdBreak(){this.videoElement.muted?this.adsManager.setVolume(0):this.adsManager.setVolume(this.videoElement.volume),this.adsManager.start()}on(t,i){this.eventStorage[t]||(this.eventStorage[t]=[]),this.eventStorage[t].push(i)}adResumed(){this.adPlaying=!0,this.playPauseDiv.classList.add("ima-playing"),this.playPauseDiv.classList.remove("ima-paused"),this.adsManager.resume()}adPaused(){this.adPlaying=!1,this.playPauseDiv.classList.add("ima-paused"),this.playPauseDiv.classList.remove("ima-playing"),this.adsManager.pause()}playPauseAd(){this.adPlaying?this.adPaused():this.adResumed()}}var I=s(992),M={};M.styleTagTransform=w(),M.setAttributes=g(),M.insert=p().bind(null,"head"),M.domAPI=v(),M.insertStyleElement=b();d()(I.A,M);I.A&&I.A.locals&&I.A.locals;var D=s(539),B=s.n(D);function N(t,i,e){return(i=function(t){var i=function(t,i){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var s=e.call(t,i||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(i))in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}class R{constructor(t,i){N(this,"paused",(()=>"video/youtube"!=this.mediaType?this.videoElement.paused:this.playerReady?2==this.player.getPlayerState():void 0)),N(this,"duration",(()=>"video/youtube"!=this.mediaType?this.videoElement.duration:this.player?this.player.getDuration():void 0)),N(this,"volume",(t=>t>=0&&t<=1?(this.playerVol=t,"video/youtube"==this.mediaType?new Promise(((t,i)=>{this.checkPlayerInterval=setInterval((()=>{this.player&&"function"==typeof this.player.volume&&(this.player.setVolume(100*this.playerVol),this.player.unMute(),this.updateVolumeIcon(),clearInterval(this.checkPlayerInterval),t())}),100)})):(this.videoElement.volume=t,void this.updateVolumeIcon())):"video/youtube"!=this.mediaType?this.videoElement.volume:new Promise(((t,i)=>{this.checkPlayerInterval=setInterval((()=>{if(this.player)return t(),clearInterval(this.checkPlayerInterval),this.player.getVolume()}),100)})))),N(this,"id",(()=>this.config.id)),N(this,"hasClass",(t=>"video/youtube"!==this.mediaType?this.videoElement.classList.contains(t):this.player?document.getElementById(this.config.id).classList.contains(t):void 0)),N(this,"addClass",(t=>{"video/youtube"!=this.mediaType?this.videoElement.classList.add(t):this.player&&document.getElementById(this.config.id).classList.add(t)})),N(this,"removeClass",(t=>{"video/youtube"!=this.mediaType?this.videoElement.classList.remove(t):this.player&&document.getElementById(this.config.id).classList.remove(t)})),N(this,"currentTime",(()=>"video/youtube"!=this.mediaType?this.videoElement.currentTime:this.player?this.player.currentTime():void 0)),N(this,"appendChild",(t=>{this.parentDiv.appendChild(t)})),this.config=i,this.parentId=t,this.events=["play","pause","playing","adstart","waiting","ads-manager","adsready","adend","adserror","contentended","timeupdate","fullscreenchange","error",this.config.show_on],this.mediaType=this.config.sources[0].type,this.parentWrapperDiv=document.getElementById(this.config.id).parentNode.parentNode,this.parentDiv=document.getElementById(this.config.id).parentNode,this.parentDiv.className="vdoai_parentDiv",this.parentDiv.style.cssText="\n    height: ".concat(this.config.height,"px !important;\n    width : ").concat(this.config.width,"px !important;"),this.videoElement=document.getElementById(this.config.id),this.videoElement.className="vdoai_videoElement",this.videoElement.controls=!1,this.videoElement.muted=this.config.muted,this.videoElement.setAttribute("playsinline",""),this.videoElement.setAttribute("height",this.config.height),this.videoElement.setAttribute("width",this.config.width),this.buttonControlPanel=this.createElement("div","vdoai_buttonControlPanel","vdoai_buttonControlPanel"),this.playPauseButton=this.createElement("button","vdoai_playPauseButton","vdoai_playPauseButton"),this.progressBarControlPanel=this.createElement("div","vdoai_progressBarControlPanel","vdoai_progressBarControlPanel"),this.progressBar=this.createElement("div","vdoai_progressBar","vdoai_progressBar"),this.volumeButton=this.createElement("div","vdoai_volumeButton","vdoai_volumeButton"),this.fullScreenButton=this.createElement("div","vdoai_fullScreenButton","vdoai_fullScreenButton"),this.loadingSpinner=this.createElement("div","vdoai_loadingSpinner","vdoai_loadingSpinner"),this.youtubeParentDiv=this.createElement("div","vdoai_youtubeParentDiv","vdoai_youtubeParentDiv"),this.youtubeDiv=this.createElement("div","vdoai_youtubeDiv","vdoai_youtubeDiv"),this.volumeSliderContainer=this.createElement("div","vdoai_volumeSliderContainer","vdoai_volumeSliderContainer"),this.volumeBar=this.createElement("div","vdoai_volumeBar","vdoai_volumeBar"),this.volumeHandle=this.createElement("div","vdoai_volumeHandle","vdoai_volumeHandle"),this.playIcon=this.createSvgIcon("vdoai_playIcon",'<path d="M8 5v14l11-7-11-7z" fill="white"></path>'),this.pauseIcon=this.createSvgIcon("vdoai_pauseIcon",'<path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z" fill="white"></path>'),this.pauseIcon.style.display="none",this.isMouseOverVideo,this.parentDivHeight,this.parentDivWidth,this.idleTime,this.player,this.disposedFlag=!1,this.fullScreenFlag=!1,this.mediaTypeFlag=!1,this.playerVol,this.wasPlayingBeforeFullscreen,this.hls,this.time,this.eventHandlers={},this.isDragging=!1,this.sliderFlag=!1,this.buttonControlPanel.appendChild(this.playPauseButton),this.progressBarControlPanel.appendChild(this.progressBar),this.buttonControlPanel.appendChild(this.loadingSpinner),this.parentDiv.appendChild(this.videoElement),"video/youtube"==this.mediaType&&(this.parentDiv.appendChild(this.youtubeParentDiv),this.youtubeParentDiv.appendChild(this.youtubeDiv)),this.parentDiv.appendChild(this.buttonControlPanel),this.parentDiv.appendChild(this.progressBarControlPanel),this.parentDiv.appendChild(this.volumeButton),this.parentDiv.appendChild(this.fullScreenButton),"desktop"==this.config.device&&(this.volumeButton.appendChild(this.volumeSliderContainer),this.volumeSliderContainer.appendChild(this.volumeBar),this.volumeSliderContainer.appendChild(this.volumeHandle)),this.startPlayer(),this.injectPlayPauseIcons(),"video/youtube"!=this.mediaType&&(this.initializeVideoEvents(),this.injectPlayPauseIcons(),this.initializeEventListeners(),this.initializeVolumeIcon(),this.initializeFullScreenButton(),"desktop"==this.config.device&&(this.initializeSliderEvents(),this.updateSliderFromVolume()))}createElement(t,i,e){const s=document.createElement(t);return s.id=i,s.className=e,s}updatePlayPauseButton(){this.videoElement.paused?(this.playIcon.style.display="inline",this.pauseIcon.style.display="none",this.videoElement.classList.add("vdoai_paused"),this.videoElement.classList.remove("vdoai_playing"),this.playPauseButton.classList.add("vdoai_playIcon"),this.playPauseButton.classList.remove("vdoai_pauseIcon")):(this.playIcon.style.display="none",this.pauseIcon.style.display="inline",this.videoElement.classList.add("vdoai_playing"),this.videoElement.classList.remove("vdoai_paused"),this.playPauseButton.classList.add("vdoai_pauseIcon"),this.playPauseButton.classList.remove("vdoai_playIcon"))}togglePlayPause(){this.videoElement.paused||this.videoElement.ended?this.videoElement.play():this.videoElement.pause()}createSvgIcon(t,i){const e=document.createElementNS("http://www.w3.org/2000/svg","svg");return e.id=t,e.setAttribute("width","48"),e.setAttribute("height","48"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.innerHTML=i,e}injectPlayPauseIcons(){this.playIcon.style.display="inline",this.pauseIcon.style.display="none",this.playPauseButton.appendChild(this.playIcon),this.playPauseButton.appendChild(this.pauseIcon)}updateProgressBar(){if("video/youtube"!=this.mediaType){const t=this.videoElement.currentTime/this.videoElement.duration*100;this.progressBar.style.width="".concat(t,"%")}else if(this.playerReady){const t=this.player.getCurrentTime()/this.player.getDuration()*100;this.progressBar.style.width="".concat(t,"%")}}initializeVolumeIcon(){"video/youtube"!=this.mediaType?this.videoElement.muted||0===this.videoElement.volume?(this.volumeButton.classList.add("vdoai_muteIcon"),this.videoElement.volume=0):this.volumeButton.classList.add("vdoai_unMuteIcon"):this.player&&(this.player.isMuted()||0==this.player.getVolume())?(this.volumeButton.classList.add("vdoai_muteIcon"),this.player.setVolume(0)):this.volumeButton.classList.add("vdoai_unMuteIcon")}updateVolumeIcon(){"video/youtube"!=this.mediaType?this.videoElement.muted||0===this.videoElement.volume?(this.volumeButton.classList.remove("vdoai_unMuteIcon"),this.volumeButton.classList.add("vdoai_muteIcon")):(this.volumeButton.classList.remove("vdoai_muteIcon"),this.volumeButton.classList.add("vdoai_unMuteIcon")):this.player.isMuted()||0==this.player.getVolume()?(this.volumeButton.classList.remove("vdoai_unMuteIcon"),this.volumeButton.classList.add("vdoai_muteIcon")):(this.volumeButton.classList.remove("vdoai_muteIcon"),this.volumeButton.classList.add("vdoai_unMuteIcon"))}toggleVolume(){if("video/youtube"==this.mediaType)return new Promise(((t,i)=>{const e=setInterval((()=>{this.player&&(this.player.isMuted()||0==this.player.getVolume()?(this.player.unMute(),this.player.setVolume(100*this.playerVol||1)):(this.player.mute(),this.player.setVolume(0)),this.updateVolumeIcon()),clearInterval(e),t()}),100)}));this.videoElement.muted||0===this.videoElement.volume?(this.videoElement.muted=!1,this.videoElement.volume=this.playerVol||.1):(this.playerVol=this.videoElement.volume,this.videoElement.muted=!0,this.videoElement.volume=0),this.updateVolumeIcon()}initializeFullScreenButton(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?this.fullScreenButton.classList.add("vdoai_minimize"):this.fullScreenButton.classList.add("vdoai_maximize")}toggleFullScreenButton(){if(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement){const t=document.exitFullscreen||document.mozCancelFullScreen||document.webkitExitFullscreen||document.msExitFullscreen;t&&t.call(document).then((()=>{this.fullScreenButton.classList.remove("vdoai_mobileFullScreen"),this.parentDiv.classList.remove("vdoai_fullScreen")})).catch((t=>{}))}else{const t=this.parentDiv.requestFullscreen||this.parentDiv.mozRequestFullScreen||this.parentDiv.webkitRequestFullscreen||this.parentDiv.msRequestFullscreen;t&&(this.currentHeight=this.parentDiv.clientHeight,this.currentWidth=this.parentDiv.clientWidth,t.call(this.parentDiv).then((()=>{this.fullScreenButton.classList.add("vdoai_mobileFullScreen"),this.parentDiv.classList.add("vdoai_fullScreen")})).catch((t=>{})))}}handlePlayPauseState(t){this.sliderFlag||(clearTimeout(this.idleTime),t?(this.parentDiv.classList.add("vdoai_buttonHover"),this.parentDiv.classList.remove("vdoai_screenIcons"),"video/youtube"!=this.mediaType&&(this.videoElement.style.filter="brightness(0.7)")):("video/youtube"!=this.mediaType&&(this.videoElement.style.filter="brightness(0.7)"),this.parentDiv.classList.add("vdoai_buttonHover"),this.parentDiv.classList.remove("vdoai_screenIcons"),this.idleTime=setTimeout((()=>{"video/youtube"!=this.mediaType&&(this.videoElement.style.filter="brightness(1)"),this.parentDiv.classList.remove("vdoai_buttonHover"),this.parentDiv.classList.add("vdoai_screenIcons")}),3e3)))}handleIconSizes(){(this.parentDivHeight<400||this.parentDivWidth<400)&&!this.fullScreenFlag&&this.parentDiv.classList.add("vdoai_resizeIcons"),this.fullScreenFlag&&this.parentDiv.classList.remove("vdoai_resizeIcons")}play(){this.videoElement.play()}pause(){this.videoElement.pause()}dispose(){this.parentWrapperDiv.remove(),this.disposedFlag=!0,this.player&&(clearInterval(this.progressBarInterval),clearInterval(this.checkVolume),clearInterval(this.checkPlayerInterval),this.player.destroy(),delete window.YT,delete window.onYouTubeIframeAPIReady);const t=document.querySelector('script[src="https://www.youtube.com/iframe_api"]');t&&t.remove()}isDisposed(){return this.disposedFlag}height(t){if("video/youtube"!=this.mediaType&&t){const i=t+"px";this.parentDiv.style.height!=i&&(this.parentDiv.style.height=i,this.videoElement.setAttribute("height",i))}else{if(!t)return"video/youtube"!=this.mediaType?this.videoElement.height:this.youtubeParentDiv.height;{const i=t+"px";this.parentDiv.style.height!=i&&(this.parentDiv.style.height=i),this.youtubeParentDiv.style.height!=i&&(this.youtubeParentDiv.style.height=i)}}}width(t){if("video/youtube"!=this.mediaType&&t){const i=t+"px";this.parentDiv.style.width!=i&&(this.parentDiv.style.width=i,this.videoElement.setAttribute("width",i))}else{if(!t)return"video/youtube"!=this.mediaType?this.videoElement.width:this.youtubeParentDiv.width;{const i=t+"px";this.parentDiv.style.width!=i&&(this.parentDiv.style.width=i),this.youtubeParentDiv.style.width!=i&&(this.youtubeParentDiv.style.width=i)}}}muted(t){if("boolean"!=typeof t)return"video/youtube"!=this.mediaType?this.videoElement.muted:new Promise(((t,i)=>{const e=setInterval((()=>{if(this.playerReady)return t(),clearInterval(e),this.player.isMuted()}),100)}));"video/youtube"!=this.mediaType?(this.videoElement.muted=t,this.updateVolumeIcon()):this.player&&(1==t?this.player.mute():0==t&&this.player.unMute())}autoplay(t){t?this.videoElement.play():this.videoElement.pause(),this.updatePlayPauseButton()}src(t){if(t&&this.hls&&"application/x-mpegURL"==t.type)this.hls.media&&this.hls.detachMedia(),this.hls.loadSource(t.src),this.hls.attachMedia(this.videoElement);else if(!t||"video/youtube"!=t.type)return"video/youtube"!=this.mediaType?this.config.sources[0].src:"https://youtu.be/VHAK-gU9gi0?si=kMBwZVc69SXEjoSl"}isFullScreen(){return this.fullScreenFlag}on(t,i){this.eventHandlers[t]||(this.eventHandlers[t]=[]),this.eventHandlers[t].push(i)}off(t,i){if(!this.eventHandlers[t])return;const e=this.eventHandlers[t].indexOf(i);-1!=e&&this.eventHandlers[t].splice(e,1)}one(t,i){"video/youtube"==this.mediaType&&"loadedmetadata"==t&&(t="load");const e=()=>{i(),this.off(t,e)};this.on(t,e)}ready(t){if("video/youtube"==this.mediaType)return new Promise(((i,e)=>{const s=setInterval((()=>{this.player&&(clearInterval(s),this.player.addEventListener("onReady",(()=>{t(),i()})))}),100)}));this.videoElement.addEventListener("loadedmetadata",t)}setAttribute(t,i){if("video/youtube"!=this.mediaType)this.videoElement.setAttribute(t,i);else{const e=setInterval((()=>{if(this.player&&"function"==typeof this.player.setAttribute){clearInterval(e);try{this.player.setAttribute(t,i),resolve()}catch(t){}}}),100)}}dispatch(t){if(!this.eventHandlers[t])return"".concat(t," could not be found");this.eventHandlers[t].forEach((t=>t()))}initializeVideoEvents(){"video/youtube"!==this.mediaType?this.events.forEach((t=>{this.videoElement.addEventListener(t,(()=>this.dispatch(t)))})):this.events.forEach((t=>{this.player.addEventListener(t,(()=>this.dispatch(t)))}))}updateSliderFromVolume(){const t=100*this.videoElement.volume;this.volumeBar.style.height="".concat(t,"%"),this.volumeHandle.style.bottom="".concat(t,"%")}initializeSliderEvents(){this.volumeSliderContainer.addEventListener("mouseenter",(()=>{this.sliderFlag=!0,clearTimeout(this.idleTime)})),this.volumeSliderContainer.addEventListener("mouseleave",(()=>{this.sliderFlag=!1,this.isDragging=!1,this.parentDiv.classList.remove("vdoai_sliderHover")})),this.volumeSliderContainer.addEventListener("mouseover",(()=>{this.parentDiv.classList.add("vdoai_sliderHover")})),this.volumeButton.addEventListener("mouseenter",(()=>{this.parentDiv.classList.add("vdoai_sliderHover")})),this.volumeButton.addEventListener("mouseleave",(()=>{this.isDragging&&e.stopPropagation()})),this.volumeHandle.addEventListener("mousedown",(t=>{this.isDragging=!0,t.stopPropagation()})),this.parentDiv.addEventListener("mouseup",(t=>{this.isDragging&&(this.isDragging=!1,this.parentDiv.classList.remove("vdoai_sliderHover"))})),[this.buttonControlPanel,this.volumeButton,this.fullScreenButton].forEach((t=>{t.addEventListener("mouseover",(()=>{this.parentDiv.classList.add("vdoai_buttonHover"),this.parentDiv.classList.remove("vdoai_screenIcons"),t==this.volumeButton&&this.parentDiv.classList.add("vdoai_sliderHover"),clearTimeout(this.idleTime)})),t.addEventListener("mouseleave",(()=>{this.handlePlayPauseState(this.videoElement.paused),this.parentDiv.classList.remove("vdoai_sliderHover")}))})),this.volumeSliderContainer.addEventListener("mousemove",(t=>{let i=this.playerVol;if(this.isDragging){const e=this.volumeSliderContainer.getBoundingClientRect(),s=e.height;let n=t.clientY-e.top;n=Math.max(0,Math.min(s,n));const o=1-n/s;this.volumeBar.style.height="".concat(100*o,"%"),this.volumeHandle.style.bottom="".concat(100*o,"%"),i=Math.round(100*o),this.volume(i/100),i>0?this.muted(!1):this.muted(!0)}})),["mouseover","click"].forEach((t=>{this.volumeSliderContainer.addEventListener(t,(t=>{t.stopPropagation()}))})),this.videoElement.addEventListener("volumechange",this.updateSliderFromVolume.bind(this))}initializeEventListeners(){document.addEventListener("fullscreenchange",(()=>{this.handlePlayPauseState(this.videoElement.paused),document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?(this.fullScreenFlag=!0,this.handleIconSizes(),this.fullScreenButton.classList.remove("vdoai_maximize"),this.fullScreenButton.classList.add("vdoai_minimize"),this.parentDiv.classList.add("vdoai_fullScreen")):(this.fullScreenFlag=!1,this.handleIconSizes(),this.fullScreenButton.classList.remove("vdoai_minimize"),this.fullScreenButton.classList.add("vdoai_maximize"),this.parentDiv.classList.remove("vdoai_fullScreen"))})),this.parentDiv.addEventListener("mouseenter",(t=>{const i=t.relatedTarget;this.parentDiv.contains(i)||this.videoElement.contains(i)||(this.isMouseOverVideo=!0,clearTimeout(this.refreshTimeout));if(t.target.closest(".vdoai_playIcon")||this.playPauseButton.contains(t.target)||this.buttonControlPanel.classList.contains("vdoai_playIcon"))return this.videoElement.style.filter="brightness(0.7)",void clearTimeout(this.idleTime);this.handlePlayPauseState(this.videoElement.paused)})),this.parentDiv.addEventListener("mousemove",(t=>{if(this.isMouseOverVideo){t.target.closest(".vdoai_playIcon")||this.playPauseButton.contains(t.target)||this.buttonControlPanel.classList.contains("vdoai_playIcon")||this.handlePlayPauseState(!1)}})),this.parentDiv.addEventListener("mouseleave",(()=>{if(this.isMouseOverVideo=!1,this.buttonControlPanel.classList.contains("vdoai_playIcon")||this.playPauseButton.classList.contains("vdoai_playIcon"))return this.videoElement.style.filter="brightness(1)",void clearTimeout(this.idleTime);this.parentDiv.classList.add("vdoai_buttonHover"),this.refreshTimeout=setTimeout((()=>{this.isMouseOverVideo||(this.videoElement.style.filter="brightness(1)",this.parentDiv.classList.remove("vdoai_buttonHover"))}),3e3)})),this.parentDiv.addEventListener("click",(()=>{clearTimeout(this.idleTime)})),this.videoElement.addEventListener("loadeddata",(()=>{this.videoElement.paused&&(this.buttonControlPanel.classList.add("vdoai_playIcon"),this.parentDiv.classList.add("vdoai_buttonHover"))})),this.videoElement.addEventListener("pause",(()=>{this.buttonControlPanel.classList.add("vdoai_playIcon"),this.buttonControlPanel.classList.remove("vdoai_pauseIcon"),this.handlePlayPauseState(!0)})),this.videoElement.addEventListener("play",(()=>{this.buttonControlPanel.classList.add("vdoai_pauseIcon"),this.buttonControlPanel.classList.remove("vdoai_playIcon"),this.handlePlayPauseState(!1)})),this.fullScreenButton.addEventListener("touchend",(()=>{this.wasPlayingBeforeFullscreen=!this.videoElement.paused,this.time=window.setInterval((()=>{try{this.videoElement.webkitEnterFullscreen&&this.videoElement.webkitEnterFullscreen()}catch(t){}}),250)})),this.videoElement.addEventListener("webkitbeginfullscreen",(()=>{window.clearInterval(this.time)})),this.videoElement.addEventListener("webkitendfullscreen",(()=>{this.wasPlayingBeforeFullscreen&&this.videoElement.play(),this.wasPlayingBeforeFullscreen=!1})),["play","pause"].forEach((t=>{this.videoElement.addEventListener(t,this.updatePlayPauseButton.bind(this))})),this.playPauseButton.addEventListener("touchend",this.togglePlayPause.bind(this)),"desktop"==this.config.device&&(["click"].forEach((t=>{this.videoElement.addEventListener(t,this.togglePlayPause.bind(this))})),this.playPauseButton.addEventListener("click",this.togglePlayPause.bind(this))),this.videoElement.addEventListener("volumechange",this.updateVolumeIcon.bind(this)),this.videoElement.addEventListener("timeupdate",this.updateProgressBar.bind(this)),this.volumeButton.addEventListener("click",this.toggleVolume.bind(this)),this.fullScreenButton.addEventListener("click",this.toggleFullScreenButton.bind(this)),this.videoElement.addEventListener("waiting",(()=>{this.loadingSpinner.style.display="block",this.playPauseButton.style.display="none"})),this.videoElement.addEventListener("playing",(()=>{this.loadingSpinner.style.display="none",this.playPauseButton.style.display="block"})),this.videoElement.addEventListener("canplay",(()=>{this.loadingSpinner.style.display="none",this.playPauseButton.style.display="block"}))}initializeYTEventListeners(){this.volumeButton.addEventListener("click",this.toggleVolume.bind(this)),document.addEventListener("fullscreenchange",(()=>{document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?(this.fullScreenFlag=!0,this.handleIconSizes(),this.youtubeParentDiv.style.cssText="width: 100%; height: 100%;",this.fullScreenButton.classList.remove("vdoai_maximize"),this.fullScreenButton.classList.add("vdoai_minimize"),this.parentDiv.classList.add("vdoai_fullScreen")):(this.fullScreenFlag=!1,this.handleIconSizes(),this.youtubeParentDiv.style.cssText="width: ".concat(this.currentWidth,"px !important; height: ").concat(this.currentHeight,"px !important;"),this.fullScreenButton.classList.remove("vdoai_minimize"),this.fullScreenButton.classList.add("vdoai_maximize"),this.parentDiv.classList.remove("vdoai_fullScreen"))})),this.fullScreenButton.addEventListener("click",this.toggleFullScreenButton.bind(this)),this.startProgressBarUpdate=()=>{this.progressBarInterval=setInterval((()=>{this.updateProgressBar()}),250)},this.stopProgressBarUpdate=()=>{clearInterval(this.progressBarInterval)},["mouseenter","mouseleave","mousemove"].forEach((t=>{this.parentDiv.addEventListener(t,(()=>{this.player&&(2==this.player.getPlayerState()?(this.handlePlayPauseState(!0),this.videoElement.classList.add("vdoai_paused"),this.videoElement.classList.remove("vdoai_playing"),this.playPauseButton.classList.add("vdoai_playIcon"),this.playPauseButton.classList.remove("vdoai_pauseIcon")):1==this.player.getPlayerState()&&(this.videoElement.classList.add("vdoai_playing"),this.videoElement.classList.remove("vdoai_paused"),this.playPauseButton.classList.add("vdoai_pauseIcon"),this.playPauseButton.classList.remove("vdoai_playIcon"),this.handlePlayPauseState(!1)))}))})),[this.videoElement,this.buttonControlPanel].forEach((t=>{t.addEventListener("click",(()=>{this.player&&1==this.player.getPlayerState()?(this.playIcon.style.display="inline",this.pauseIcon.style.display="none",this.buttonControlPanel.classList.add("vdoai_playIcon"),this.buttonControlPanel.classList.remove("vdoai_pauseIcon"),this.player.pauseVideo()):(this.playIcon.style.display="none",this.pauseIcon.style.display="inline",this.buttonControlPanel.classList.add("vdoai_pauseIcon"),this.buttonControlPanel.classList.remove("vdoai_playIcon"),this.player.playVideo())}))}))}startPlayer(){this.config.sources.forEach((t=>{try{if("application/x-mpegURL"==t.type&&(this.mediaTypeFlag=!0),B().isSupported()&&this.mediaTypeFlag)this.hls=new(B())({xhrSetup:(i,e)=>{const s=t.hlsHeaders;s&&i.setRequestHeader("vdoai",s)}}),this.hls.loadSource(t.src),this.hls.attachMedia(this.videoElement),this.videoElement.poster=t.poster,this.hls.on(B().Events.MANIFEST_PARSED,(()=>{this.parentDivHeight=this.parentDiv.clientHeight,this.parentDivWidth=this.parentDiv.clientWidth,this.muted(this.config.muted),this.handleIconSizes(),this.autoplay(this.config.autoplay)})),this.hls.on(B().Events.ERROR,((t,i)=>{if(i.fatal)switch(i.type){case B().ErrorTypes.NETWORK_ERROR:case B().ErrorTypes.MEDIA_ERROR:break;default:this.hls.destroy()}}));else if("video/youtube"==t.type){this.player&&this.player.destroy(),this.videoElement.style.background="unset",this.parentDivHeight=this.parentDiv.clientHeight,this.parentDivWidth=this.parentDiv.clientWidth,this.youtubeParentDiv.style.cssText="height: ".concat(this.config.height,"px !important; width: ").concat(this.config.width,"px !important;");const t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";const i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(t,i),this.videoId="jfKfPfyJRdk",window.onYouTubeIframeAPIReady=()=>{this.player=new YT.Player(this.youtubeDiv.id,{videoId:"jfKfPfyJRdk",playerVars:{playsinline:1,controls:0,rel:0,showinfo:0,mute:this.config.muted?1:0,autoplay:this.config.autoplay?1:0},events:{onReady:this.onPlayerReady,onStateChange:this.onYouTubePlayerStateChange}})},this.onPlayerReady=t=>{t.target.playVideo(),this.playerReady=!0,this.videoUrl=this.player.getVideoUrl(),this.handlePlayPauseState(YT.PlayerState.PAUSED),this.initializeVolumeIcon(),this.initializeFullScreenButton(),this.handleIconSizes(),this.initializeYTEventListeners(),this.initializeVideoEvents(),this.checkTimer&&(clearInterval(this.checkTimer),this.checkTimer=null),this.playerReady&&(this.checkTimer=setInterval((()=>{this.checkVolume(),this.playerVol=this.player.getVolume()}),250))},this.onYouTubePlayerStateChange=t=>{const i=this.parentDiv.getElementsByTagName("iframe")[0];t.data===YT.PlayerState.PLAYING?(i.classList.add("vdoai_playing"),i.classList.remove("vdoai_paused"),this.playPauseButton.classList.add("vdoai_pauseIcon"),this.playPauseButton.classList.remove("vdoai_playIcon"),this.videoElement.classList.add("vdoai_playing"),this.videoElement.classList.remove("vdoai_paused"),this.playIcon.style.display="none",this.pauseIcon.style.display="inline",this.handlePlayPauseState(!1),this.startProgressBarUpdate()):t.data===YT.PlayerState.PAUSED?(i.classList.add("vdoai_paused"),i.classList.remove("vdoai_playing"),this.playPauseButton.classList.add("vdoai_playIcon"),this.playPauseButton.classList.remove("vdoai_pauseIcon"),this.videoElement.classList.add("vdoai_paused"),this.videoElement.classList.remove("vdoai_playing"),this.pauseIcon.style.display="none",this.playIcon.style.display="inline",this.handlePlayPauseState(!0),this.stopProgressBarUpdate()):this.stopProgressBarUpdate()},this.checkVolume=()=>{this.player.isMuted()?(this.volumeButton.classList.add("vdoai_muteIcon"),this.volumeButton.classList.remove("vdoai_unMuteIcon")):(this.volumeButton.classList.add("vdoai_unMuteIcon"),this.volumeButton.classList.remove("vdoai_muteIcon"))},window.onYouTubeIframeAPIReady()}else this.videoElement.src=t.src,this.videoElement.poster=t.poster,this.videoElement.addEventListener("loadedmetadata",(()=>{this.parentDivHeight=this.parentDiv.clientHeight,this.parentDivWidth=this.parentDiv.clientWidth,this.muted(this.config.muted),this.handleIconSizes(),this.autoplay(this.config.autoplay)}))}catch(t){}}))}}const U={};var P=(t,i)=>{const e=new R(t,i);return U[t]=e,e};P.getPlayer=function(t){return U[t]};function O(t,i){}function L(){return function(t){let i,e=F("localStorage")?"localStorage":F("sessionStorage")?"sessionStorage":function(){document.cookie="cookietest=1";const t=-1!==document.cookie.indexOf("cookietest=");return document.cookie="cookietest=; expires=Thu, 01 Jan 1970 00:00:00 GMT",t}()?"cookies":"window";switch(e){case"localStorage":case"sessionStorage":i=window[e].getItem(t),i||(i=z(),window[e].setItem(t,i));break;case"cookies":i=function(t){const i="; ".concat(document.cookie).split("; ".concat(t,"="));if(2===i.length)return i.pop().split(";").shift()}(t),i||(i=z(),function(t,i,e){let s="";if(e){const t=new Date;t.setTime(t.getTime()+24*e*60*60*1e3),s="; expires="+t.toUTCString()}document.cookie="".concat(t,"=").concat(i||"").concat(s,"; path=/")}(t,i,365));break;case"window":i=window[t],i||(i=z(),window[t]=i)}return i}("_vdo_ai_uuid")}function z(){var t=(new Date).getTime(),i=performance&&performance.now&&1e3*performance.now()||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var s=16*Math.random();return t>0?(s=(t+s)%16|0,t=Math.floor(t/16)):(s=(i+s)%16|0,i=Math.floor(i/16)),("x"===e?s:3&s|8).toString(16)}))}function F(t){try{const i=window[t],e="__storage_test__";return i.setItem(e,e),i.removeItem(e),!0}catch(t){return!1}}function G(t,i,e){var s=new XMLHttpRequest;s.open("get","https://a.vdo.ai/core/logger.php?msg="+encodeURIComponent(t.getStack())+"&tag="+e+"&code="+btoa(t.getMessage()).substr(0,10)+"&url="+encodeURIComponent(location.href)+"&func="+i+"&version="+window.vdo_ai_.version,!0),s.send()}window.vdo_ads=window.vdo_ads||((t,i)=>new C(t,i)),window.vdo_player=window.vdo_player||P,Error.prototype.getMessage=function(){if(Object(this)!==this)return"getMessageError";var t=this.name;t=void 0===t?"Error":String(t);var i=this.message;return i=void 0===i?"":String(i),""===t?i:""===i?t:i},Error.prototype.getStack=function(){if(Object(this)!==this)return"getStackError";var t=this.stack;return t=void 0===t?"Error":String(t)};var H=L(),V=["ad_match","ad_request","companion_pbjs_loaded","viewable_impression","bid_reject","pageview","pageview_match"];function Y(t,i,e,s,n){if(!s.dual_player||!s.tagName.endsWith("-dual")||V.includes(t)){var o,r={google_dfp_apac:"google_DFP_apac",other:"Other",synacormedia:"synacor",google_dfp:"google_DFP",aol:"appnexus_companion",yahoossp:"appnexus_companion"};if("no_rule_id"!=i&&(o=i),"ad_match"!==t&&"viewable_impression"!==t||r[o.partner]&&(o.partner=r[o.partner]),0!=t.indexOf("revenue")){void 0!==o&&null!=o||(o=1);try{if(o={domainName:location.hostname,page_url:location.href,tagName:s.tagName,event:t,eventData:o,uid:H,dimensions:{}},s.dual_player&&s.tagName.endsWith("-dual")&&(o.tagName=o.tagName.replace("-dual","")),window.vdo_ai_.customDimensions&&window.vdo_ai_.customDimensions[s.tagName]&&(o.dimensions=window.vdo_ai_.customDimensions[s.tagName]),n&&(("pageview_match"==t||"website_pageview_match"==t)&&"no_rule_id"!=i||"ad_match"==t&&"banner"!=o.eventData.type&&"companion"!=o.eventData.type)&&(o.floor_RuleID=n),e&&(o.sspNames=e),"generated_pvs_on_article"==t){var a=document.cookie.match(new RegExp("(^| )vdo_engagement_start=([^;]+)"));a&&(o.tagName=a[2])}if("ad_request"==t&&"function"==typeof navigator.sendBeacon)window.vdo_ai_.records[s.unitId].ad_requesturl[0]&&(o.page_url=window.vdo_ai_.records[s.unitId].ad_requesturl[0]),navigator.sendBeacon("https://analytics.vdo.ai/logger",JSON.stringify(o));else{var h=new XMLHttpRequest;h.open("POST","https://analytics.vdo.ai/logger",!0),h.send(JSON.stringify(o)),h.onerror=function(){"error"!=t&&Y("error","pixelErr_"+o.event+"_"+h.status,e,s,n)}}}catch(i){"error"!=t&&(G(i,"pixelErr_"+t,s.tagName),Y("error",btoa(i.getMessage()).substr(0,10),e,s,n)),s.unitId}}}}var Q=L(),J=["website_pageview","website_pageview_match"],W=["initVdo","pageview_match","pageview","locationChange","view_time_complete","audio_jack_active"];function Z(t,i,e,s,n,o,r,a,h,l,u){if(i||(i="both"),window.vdo_ai_.records=window.vdo_ai_.records||{},window.vdo_ai_.records[n.unitId]=window.vdo_ai_.records[n.unitId]||{},window.vdo_ai_.records[n.unitId].ad_request=window.vdo_ai_.records[n.unitId].ad_request||[],window.vdo_ai_.records[n.unitId].ad_request_temp=window.vdo_ai_.records[n.unitId].ad_request_temp||[],window.vdo_ai_.records[n.unitId].ad_requesturl=window.vdo_ai_.records[n.unitId].ad_requesturl||[],J.indexOf(t)>=0){var d=location.href;if(d.includes("#")&&("goog_rewarded"==d.split("#")[1]||""==d.split("#")[1]||d.split("#")[1].includes("sample_offerwall_mode=true")||d.split("#")[1].includes("sample_vdo_mode=video"))&&(d=d.split("#")[0]),window.vdo_ai_.records[t]&&window.vdo_ai_.records[t][d])return;if(o.includes(n.domain)&&"website_pageview"==t){if(window.vdo_ai_.records[t]==d)return;window.vdo_ai_.records[t]=d}else window.vdo_ai_.records[t]=window.vdo_ai_.records[t]||{},window.vdo_ai_.records[t][d]=!0}else if(W.indexOf(t)>=0){var c=n.dual_player&&n.tagName.endsWith("-dual")?window.vdo_ai_.main_player_div:n.unitId;if(window.vdo_ai_.records[c]=window.vdo_ai_.records[c]||{},"initVdo"!=t){if(window.vdo_ai_.records[c][t]&&window.vdo_ai_.records[c][t][location.href])return;if(o.includes(n.domain)&&"pageview"==t){if(window.vdo_ai_.records[c][t]==location.href)return;window.vdo_ai_.records[c][t]=location.href}else window.vdo_ai_.records[c][t]=window.vdo_ai_.records[c][t]||{},window.vdo_ai_.records[c][t][location.href]=!0}else{if(window.vdo_ai_.records[c][t])return;window.vdo_ai_.records[c][t]=!0}}if("pageview"==t&&Z("t_max","ga",null,null,n,o,r,a,h,l,u),!(r>0&&"pageview_match"==t&&Math.random()>r||a&&("pageview"==t||"website_pageview"==t))){"pageview_match"==t&&Z("website_pageview_match",null,null,null,n,o,r,a,h,l,u);try{"pixel"!=i&&"both"!=i||Y(t,e,null,n)}catch(t){n.unitId,G(t,"pixel",n.tagName)}try{if("ga2"==i&&("audio_jack_active"===t&&"google_mcm"!=h||"audio_jack_active"!==t&&!t.includes("requests_")&&!t.includes("autoplay_")&&!t.includes("VPAID")&&"google_mcm"!==h&&!t.includes("impression_")&&!t.includes("_ads_served_")))return;if("ga"==i||"both"==i||"ga2"==i){var v={send_to:l,event_category:"video",event_label:n.tagName,page_location:location.href,page_title:document.title};"ga2"==i&&(v.uuid=Q,v.event_category=h,v.send_to=u),e&&(v.value=e),s&&(v.name=s),n.ga_event&&function(){dataLayer.push(arguments)}("event",t,v)}}catch(t){n.unitId,G(t,"ga",n.tagName)}return!0}}const q={alloutkings:{desktop:{vast:{ad_url:"ads.adaptv.advertising.com/a/h/psEyCmQfIysXeBz6YeL58lyKGyaJ0wi1TY+3QoAbd6bKDNXlpGLMIQ==?cb=123&amp;gdpr=0&amp;gdpr_consent=&amp;us_privacy=&amp;pet=preroll&amp;pageUrl=https%3A%2F%2Falloutkings.com&amp;eov=eov",partner:"adaptv",floor:null},prebid:19503250},mobile:{vast:{ad_url:"ads.adaptv.advertising.com/a/h/psEyCmQfIysXeBz6YeL58lyKGyaJ0wi1oykJiwfuSJ4Xr9dOkWHoZw==?cb=123&amp;gdpr=0&amp;gdpr_consent=&amp;us_privacy=&amp;pageUrl=https%3A%2F%2Falloutkings.com&amp;a.ip=[IPADDRESS]&amp;a.ua=[USERAGENT]&amp;lat=[LATITUDE]&amp;lon=[LONGITUDE]&amp;eov=eov",partner:"adaptv",floor:null},prebid:19503258}},celeb411:{desktop:{vast:{ad_url:"ads.adaptv.advertising.com/a/h/jK57dvwPeau+h8UTyH5zHdgQZacgZUnWwxCp1wEtfs4L4tzFA61JtQ==?cb=123&amp;gdpr=0&amp;gdpr_consent=&amp;us_privacy=&amp;pet=preroll&amp;pageUrl=https%3A%2F%2Fceleb411.com&amp;eov=eov",partner:"adaptv",floor:null},prebid:19503298},mobile:{vast:{ad_url:"ads.adaptv.advertising.com/a/h/jK57dvwPeau+h8UTyH5zHQVQayqbJX_EGjbWgY16wuCg63SWosWzAw==?cb=123&amp;gdpr=0&amp;gdpr_consent=&amp;us_privacy=&amp;pageUrl=https%3A%2F%2Fceleb411.com&amp;a.ip=[IPADDRESS]&amp;a.ua=[USERAGENT]&amp;lat=[LATITUDE]&amp;lon=[LONGITUDE]&amp;eov=eov",partner:"adaptv",floor:null},prebid:19503302}},crushthat:{desktop:{vast:{ad_url:"ads.adaptv.advertising.com/a/h/CoURUx4CBqzOlEY8urUagf9BHTHCwbhfP1SJPcaHafQE_4M62gfnRA==?cb=123&amp;gdpr=0&amp;gdpr_consent=&amp;us_privacy=&amp;pet=preroll&amp;pageUrl=https%3A%2F%2Fcrushthat.com&amp;eov=eov",partner:"adaptv",floor:null},prebid:18978652},mobile:{vast:{ad_url:"ads.adaptv.advertising.com/a/h/CoURUx4CBqzOlEY8urUagf9BHTHCwbhfW7uStGVKb+7nUTe1tfoIhw==?cb=123&amp;gdpr=0&amp;gdpr_consent=&amp;us_privacy=&amp;pageUrl=https%3A%2F%2Fcrushthat.com&amp;a.ip=[IPADDRESS]&amp;a.ua=[USERAGENT]&amp;lat=[LATITUDE]&amp;lon=[LONGITUDE]&amp;eov=eov",partner:"adaptv",floor:null},prebid:19210097}},factsherald:{desktop:{vast:{ad_url:"ads.adaptv.advertising.com/a/h/kBXzPJCm+BgNEI8EGTTPwVGM9wv5wtI8TY+3QoAbd6ar9e91KNEujg==?cb=123&amp;gdpr=0&amp;gdpr_consent=&amp;us_privacy=&amp;pet=preroll&amp;pageUrl=https%3A%2F%2Ffactsherald.com&amp;eov=eov",partner:"adaptv",floor:null},prebid:19503262},mobile:{vast:{ad_url:"ads.adaptv.advertising.com/a/h/kBXzPJCm+BgNEI8EGTTPwVGM9wv5wtI8oykJiwfuSJ6K2DqOe3zruQ==?cb=123&amp;gdpr=0&amp;gdpr_consent=&amp;us_privacy=&amp;pageUrl=https%3A%2F%2Ffactsherald.com&amp;a.ip=[IPADDRESS]&amp;a.ua=[USERAGENT]&amp;lat=[LATITUDE]&amp;lon=[LONGITUDE]&amp;eov=eov",partner:"adaptv",floor:null},prebid:19503290}},"notore-us":{desktop:{vast:{ad_url:"ads.adaptv.advertising.com/a/h/iP9lo5gJevD3G+0R+ATWldu5uqp751ZiT53fxnbKgEQ=?cb=123&amp;gdpr=0&amp;gdpr_consent=&amp;us_privacy=&amp;pet=preroll&amp;pageUrl=https%3A%2F%2Fnotore.us&amp;eov=eov",partner:"adaptv",floor:null},prebid:18978691},mobile:{vast:"ads.adaptv.advertising.com/a/h/iP9lo5gJevD3G+0R+ATWldu5uqp751ZioykJiwfuSJ5MMeCNLV2A1g==?cb=123&amp;gdpr=0&amp;gdpr_consent=&amp;us_privacy=&amp;pageUrl=https%3A%2F%2Fnotore.us&amp;a.ip=[IPADDRESS]&amp;a.ua=[USERAGENT]&amp;lat=[LATITUDE]&amp;lon=[LONGITUDE]&amp;eov=eov",prebid:19218141}},recipepair:{desktop:{vast:{ad_url:"ads.adaptv.advertising.com/a/h/pv1s43oHD4rBK4JIrix_s577cHsctVIeGaFXH7gtyJoBi3ceXl4eXA==?cb=123&amp;gdpr=0&amp;gdpr_consent=&amp;us_privacy=&amp;pet=preroll&amp;pageUrl=https%3A%2F%2Frecipepair.com&amp;eov=eov",partner:"adaptv",floor:null},prebid:18978690},mobile:{vast:{ad_url:"ads.adaptv.advertising.com/a/h/pv1s43oHD4rBK4JIrix_s577cHsctVIeWfFOZT821_HZk7Va1JsG2aDrdJaixbMD?cb=123&amp;gdpr=0&amp;gdpr_consent=&amp;us_privacy=&amp;pageUrl=https%3A%2F%2Frecipepair.com&amp;a.ip=[IPADDRESS]&amp;a.ua=[USERAGENT]&amp;lat=[LATITUDE]&amp;lon=[LONGITUDE]&amp;eov=eov",partner:"adaptv",floor:null},prebid:19218148}},techandgeek:{desktop:{vast:{ad_url:"ads.adaptv.advertising.com/a/h/fx1r97zaGqJz45MJ8Vk01OWpDSRvbYedjyA7eWP5e1uA2NfgLy8Dag==?cb=123&amp;gdpr=0&amp;gdpr_consent=&amp;us_privacy=&amp;pet=preroll&amp;pageUrl=https%3A%2F%2Ftechandgeek.com&amp;eov=eov",partner:"adaptv",floor:null},prebid:18978698},mobile:{vast:{ad_url:"ads.adaptv.advertising.com/a/h/fx1r97zaGqJz45MJ8Vk01OWpDSRvbYedF0hg8RO3XLN9qqSG500m6Avi3MUDrUm1?cb=123&amp;gdpr=0&amp;gdpr_consent=&amp;us_privacy=&amp;pageUrl=https%3A%2F%2Ftechandgeek.com&amp;a.ip=[IPADDRESS]&amp;a.ua=[USERAGENT]&amp;lat=[LATITUDE]&amp;lon=[LONGITUDE]&amp;eov=eov",partner:"adaptv",floor:null},prebid:19218146}}};const X=function(t,i){return t=JSON.parse(JSON.stringify(t)),i=JSON.parse(JSON.stringify(i)),q[this.tagName]&&(t&&(t.bids?t.bids=t.bids.filter((function(t){return"appnexus"!==t.bidder})):t.bids=[],t.bids.push({bidder:"appnexus",params:{placementId:q[this.tagName][this.device].prebid,reserve:.5,video:{skippable:!0,playback_method:null}}})),i||(i=[]),i.push(q[this.tagName][this.device].vast)),{bidders:t,waterfalls:i}};var K={synacormedia:{geoType:"include",geoCountries:["US","CA"]},openx:{geoType:"include",geoCountries:["US","CA","GB","AU"]},colossusssp:{geoType:"include",geoCountries:["US"]},sovrn_WC:{geoType:"include",geoCountries:["US","CA","GB","AU"]},vidoomy:{geoType:"include",geoCountries:["US","CA","FR","GB","ES","DE","IT","BR","MX","AR","EG","IL","QA","SA","AE","RU","AF","AU","IN","ID","JP","MY","MV","NZ","PH","SG","TH","VN"]},smartadserver:{geoType:"include",geoCountries:["US","CA","MX","AU","GB"]},admixer:{geoType:"include",geoCountries:["US","GB","CA","IN","UA","ID","PH","KR"]},unruly_atlas:{geoType:"include",geoCountries:["US","CA","AU"]},onetag:{geoType:"include",geoCountries:["US","CA","GB","AU"]},OnetagOB_EBDA_apac:{geoType:"include",geoCountries:["US","CA","GB","AU"]},"vdo.ai":{geoType:"include",geoCountries:["US","CA","GB","AU"]},vdoai:{geoType:"include",geoCountries:["US","CA","GB","AU"]},eplanning:{geoType:"include",geoCountries:["US","GB","CA","AU","DE","FR","IN","ID","MY","SG","AE","MX","PH","IE"]},appnexus:{geoType:"include",geoCountries:["US","GB","CA","AU","FR"]},appnexus_apac:{geoType:"include",geoCountries:["US","GB","CA","AU","DE","FR","IN","ID","MY","SG","AE","MX","PH","IE"]},gumgum:{geoType:"include",geoCountries:["US","CA","GB","AU"]},improvedigital:{geoType:"include",geoCountries:["US","CA","GB","AU"]},yahoossp:{geoType:"include",geoCountries:["US","CA","GB","AU"]},Smartadserver_EBDA:{geoType:"include",geoCountries:["US","CA","GB","AU"]},adyoulike:{geoType:"include",geoCountries:["US","CA","GB"]},unruly_EBDA:{geoType:"include",geoCountries:["US","CA","AU","DE","SG"]},Openx_EBDA:{geoType:"include",geoCountries:["IN","US","GB","CA","AU"]},Openx_EBDA_Apac:{geoType:"include",geoCountries:["US","GB","JP","DE","CA","AU","FR","ES","MX","IN","HK","AE","RO","IT","KP","KR","ID","MM","PH","SG","VN"]},"33across":{geoType:"include",geoCountries:["US","CA","GB","AU"]},triplelift:{geoType:"include",geoCountries:["US","CA","GB","AU"]},loopme:{geoType:"include",geoCountries:["US","CA","GB","AU"]},rtbhouse:{geoType:"include",geoCountries:["US","CA","GB","AU"]},nobid:{geoType:"include",geoCountries:["US","CA","FR","GB","DE"]},"freewheel-ssp":{geoType:"include",geoCountries:["US","CA","GB","AU"]},smart:{geoType:"include",geoCountries:["US","CA","GB","AU"]},mediafuse:{geoType:"include",geoCountries:["US","CA","GB","AU"]},mediafuse_aol:{geoType:"include",geoCountries:["US","CA","GB","AU"]},oftmedia:{geoType:"include",geoCountries:["US","GB","CA","AU","DE","FR","IN","ID","MY","SG","AE","MX","PH","IE"]},resetdigital:{geoType:"include",geoCountries:["US","CA","GB","AU"]},videobyte:{geoType:"include",geoCountries:["US","CA","GB","AU"]},richaudience:{geoType:"include",geoCountries:["US","CA","GB","AU"]},sharethrough:{geoType:"include",geoCountries:["US","CA","GB","AU"]},bcm:{geoType:"include",geoCountries:["US","CA","GB","AU"]},lunamediahb:{geoType:"include",geoCountries:["US","CA","GB","AU"]},iqzone:{geoType:"include",geoCountries:["US"]},amazon:{geoType:"include",geoCountries:["US","MX","GB","CA","SA","JP","AU","BR","ES","RO","DE","GR","FR"]},adpone:{geoType:"include",geoCountries:["US"]},nextMillennium:{geoType:"include",geoCountries:["US","ES","CA","RO","GB","AU","AE","GR","DE","BR","FR","SG","IT","MX","SE","NZ","NL","CH","JP","AR","ZA","PH","CO"]},nobid_WC:{geoType:"include",geoCountries:["US","CA","FR","GB","DE"]},Smaato_EBDA:{geoType:"include",geoCountries:["US"]},FluctOB_EBDA:{geoType:"include",geoCountries:["US","CA","GB","AU","IN","HK","MY","SG","PH","TH","JP","NZ","TW"]},Onetag_EBDA:{geoType:"include",geoCountries:["US","CA","GB","AU"]},yieldmo:{geoType:"include",geoCountries:["US","GB","CA","AU"]},admixeradx:{geoType:"include",geoCountries:["US","GB","CA","IN","UA","ID","PH","KR"]},xapads:{geoType:"include",geoCountries:["US","GB","CA","IN","RO","AE","FR","MX","NG","DE","AU","SA","ZA","DK"]},conversant:{geoType:"include",geoCountries:["US","CA","GB","FR","DE"]},yandex:{geoType:"include",geoCountries:["TR","BR","IL","RS","MX","FR","AR"]},criteo:{geoType:"include",geoCountries:["US","CA","FR","GB"]},bcmssp:{geoType:"include",geoCountries:["US","CA"]},smilewanted:{geoType:"include",geoCountries:["ES","IT","IL","FR","AE","US","MX","IN","GB","DE"]},unruly_WC:{geoType:"include",geoCountries:["US","CA","GB","AU","JP","DE","FR","SG"]},rubicon_jj:{geoType:"include",geoCountries:["US"]},pubmatic_adsolut:{geoType:"include",geoCountries:["US"]},freewheelssp_jj:{geoType:"include",geoCountries:["US"]},pubmatic_HS:{geoType:"include",geoCountries:["US"]},Nexxen_EBDA:{geoType:"include",geoCountries:["US","GB","CA","AU"]},unruly:{geoType:"include",geoCountries:["US","CA","GB","AU"]},brave:{geoType:"include",geoCountries:["US","CA","BR","MX"]},kueezrtb:{geoType:"include",geoCountries:["US","CA","MX","GB","BR","DE","FR","ES","AR","AU","IT","JP","CL","PH","CO","TR","ZA","NL","PE","NZ","CH","HK","AT","SE","SG","HU","AE","PR","SA","PT","IE","DK","CR","IL","CZ","FI","BG","HN","MD","LV"]}},$={google_mcm:{geoType:"exclude",geoCountries:["CN"]},google_mcm_apac:{geoType:"exclude",geoCountries:["CN"]},adipologreeter:{geoType:"include",geoCountries:["US","GB","CA","AU","DE","FR","IN","ID","MY","SG","AE","MX","PH","IE"]},adipoloAPL:{geoType:"include",geoCountries:["US","GB","CA","AU","DE","FR","IN","ID","MY","SG","AE","MX","PH","IE"]},adipolo:{geoType:"include",geoCountries:["US","GB","CA","AU","DE","FR","IN","ID","MY","SG","AE","MX","PH","IE"]},"freewheel-ssp":{geoType:"include",geoCountries:["US","CA","GB","AU"]},ADWMG:{geoType:"include",geoCountries:["US","CA","GB","AU","IN"]},ampliffy:{geoType:"include",geoCountries:["US","CA","GB","AU","IN"]},Fatchilli:{geoType:"include",geoCountries:["US","CA","GB","AU"]},onetag:{geoType:"include",geoCountries:["US","CA","GB","AU"]},mediafuse:{geoType:"include",geoCountries:["US","CA","GB","AU"]},smilewanted:{geoType:"include",geoCountries:["US","CA","GB","AU"]},nextMillennium:{geoType:"include",geoCountries:["US"]},rtbexperts:{geoType:"include",geoCountries:["US","CA","GB","AU"]},nobid:{geoType:"include",geoCountries:["US","CA"]},bmtm_vast:{geoType:"include",geoCountries:["US","CA","GB","AU"]},smaato:{geoType:"include",geoCountries:["US"]},adswizz:{geoType:"include",geoCountries:["US","ES"]},adpone_vast:{geoType:"include",geoCountries:["US"]},netlink:{geoType:"include",geoCountries:["US","CA","GB","NL","MX","AR","CL","CO","ES","BR"]}},tt=["adpone","adpone_vast","bidscube","resetdigital","richaudience","rtbhouse"],it={};function et(t,i,e,s,n,o){return t?n?t.filter((t=>t.bidder==n)):t.filter((function(t){var n;if(s&&(s[t.bidder]&&s[t.bidder].geoCountries||s.all&&s.all.geoCountries)?n=s:it[e]&&it[e][t.bidder]?n=it[e]:K[t.bidder]&&(n=K),o&&tt.includes(t.bidder))return!1;if(n)if(n[t.bidder])switch(n[t.bidder].geoType){case"include":return n[t.bidder].geoCountries.indexOf("all")>=0||n[t.bidder].geoCountries.indexOf(i)>=0;case"exclude":return!(n[t.bidder].geoCountries.indexOf("all")>=0)&&-1==n[t.bidder].geoCountries.indexOf(i)}else if(n.all)switch(n.all.geoType){case"include":return n.all.geoCountries.indexOf(i)>=0;case"exclude":return-1==n.all.geoCountries.indexOf(i)}return!0})):[]}function st(t,i,e,s,n,o){if(o&&tt.includes(t))return!1;if(s)return s==t||(!(!s.includes("EBDA_apac")||"google_mcm_apac"!=t)||!(!s.includes("EBDA")||"google_mcm"!=t));var r;if(e&&(e[t]&&e[t].geoCountries||e.all&&e.all.geoCountries)?r=e:it[n]&&it[n][t]?r=it[n]:$[t]&&(r=$),r)if(r[t])switch(r[t].geoType){case"include":return r[t].geoCountries.indexOf("all")>=0||r[t].geoCountries.indexOf(i)>=0;case"exclude":return!(r[t].geoCountries.indexOf("all")>=0)&&-1==r[t].geoCountries.indexOf(i)}else if(r.all)switch(r.all.geoType){case"include":return r.all.geoCountries.indexOf(i)>=0;case"exclude":return-1==r.all.geoCountries.indexOf(i)}return!0}var nt='<svg version="1.1" id="vdo_forward_next_icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="124px" height="124px" viewBox="0 0 124 124" style="enable-background:new 0 0 124 124;" xml:space="preserve"><g><path d="M109,0H97c-3.3,0-6,2.7-6,6v112c0,3.3,2.7,6,6,6h12c3.3,0,6-2.7,6-6V6C115,2.7,112.3,0,109,0z"/><path d="M75.6,66.2c2.301-2.3,2.301-6.1,0-8.4l-56.2-56C15.6-2,9,0.7,9,6v112c0,5.3,6.6,8,10.4,4.2L75.6,66.2z"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>';function ot(t,i,e,s,n,o){var r=document.createElement("div");r.classList.add("vdo_next_stay_wrapper");var a=0;if(t&&(a=t.offsetHeight,r.style.height="".concat(a,"px")),t.appendChild(r),n){var h=document.createElement("style");h.id="vdo_grey_overlay",h.innerHTML=".vdo_next_stay_wrapper {background-color: rgb(138, 136, 136);}",r.appendChild(h)}var l=document.createElement("div");l.classList.add("vdo_controls_next_stay"),r.appendChild(l);var u=document.createElement("div"),d='<svg xmlns="http://www.w3.org/2000/svg" version="1.2" width="65" viewBox="0 0 65 65" class="vdo_circle_svg" ><circle cx="32.5" cy="32.5" r="31" class="vdo_circle_progress" stroke-dasharray="195" stroke-dashoffset="195" stroke-width="4" style="animation-duration: '+i+'s;"></circle></svg>';if(o){var c=!1,v=document.createElement("div");v.id="vdo_forward_next_img",v.style.width="100%",v.style.height="auto",v.style.paddingTop="56.25%",v.style.borderRadius="5px",v.style.overflow="hidden",v.style.height=0;var f=document.createElement("img");f.src=o,f.addEventListener("load",(function(){c=!0,v.style.background="url("+o+")",v.style.backgroundSize="contain",v.style.backgroundRepeat="no-repeat",v.style.backgroundPosition="center",v.style.backgroundColor="#000"})),v.insertAdjacentHTML("beforeend",'<span class="vdo_up_next_text">'+d+nt+"</span>");var p=document.createElement("div");p.appendChild(v),u.insertAdjacentElement("beforeend",p),v.querySelector(".vdo_circle_svg").setAttribute("style","position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); height: auto; width 45% !important;")}else u.innerHTML=d,u.insertAdjacentHTML("beforeend",nt);if(u.classList.add("vdo_control_next_button"),n){var m=document.createElement("div");m.id="vdo-spinner-loading",m.style.display="none",l.appendChild(m),u.addEventListener("click",y)}else u.addEventListener("click",y);l.appendChild(u),n&&(document.querySelector(".vdo_circle_progress").style.stroke="unset");var g=document.createElement("span");g.style.animationDuration=i+"s",u.appendChild(g);var A,b=document.createElement("button");(b.innerText="Cancel",b.addEventListener("click",w),b.classList.add("vdo_control_cancel_stay_button"),b.setAttribute("style","font-size: ".concat(7*a/100,"px !important; margin: 0px !important")),i)&&(l.appendChild(b),o?c?(v.querySelector("svg").style.strokeDashoffset="0",A=setTimeout(y,1e3*i)):(f.addEventListener("load",(function(){v.querySelector("svg").style.strokeDashoffset="0",A=setTimeout(y,1e3*i)})),f.addEventListener("error",(function(){v.querySelector("svg").style.strokeDashoffset="0",A=setTimeout(y,1e3*i)}))):A=setTimeout(y,1e3*i));function y(){n?document.getElementById("vdo-spinner-loading").style.display="block":(clearTimeout(A),u.removeEventListener("click",y),b.removeEventListener("click",w),r&&r.remove(),e&&e())}function w(t){clearTimeout(A),u.removeEventListener("click",y),b.removeEventListener("click",w),r&&r.remove(),t&&"click"==t.type&&s&&s()}return w}function rt(t,i,e,s,n,o,r,a,h){switch(t){case"video":return function(t,i,e,s,n,o,r,a){var h=i[0],l=i[1],u={1566:{appnexus:{AE:4,IN:2,OTH:3}},1936:{appnexus:{OTH:2}},2013:{appnexus:{US:1.5,OTH:0}}},d=-1!==["1691","1945","1574","1443","1963"].indexOf(o);"v-rediff-v3"===a&&(ht.maxDuration=60);return t.map((function(t){var i=e,n=t.bidder.split("_");if(n.length>1&&(t.bidder=n[0]),s&&(s[t.bidder]||s.all)){var a=s[t.bidder]||s.all;a.floor&&(a.floor[r]||a.floor.all)&&(i=a.floor&&(a.floor[r]||a.floor.all)),t=lt(t,i)}else t=u[o]&&u[o][t.bidder]?lt(t,i=u[o][t.bidder][r]?u[o][t.bidder][r]:u[o][t.bidder].OTH):lt(t,i);switch(t.bidder){case"appnexus":t.params.video=t.params.video||{},t.params.video.playback_method=d?"auto_play_sound_off":"auto_play_sound_on",t.params.allowSmallerSizes=!0,t.params.video.frameworks=[1,2];break;case"openx":t.params=t.params||{},t.params.video=t.params.video||{},t.params.video.minduration=ht.minDuration,t.params.video.maxduration=ht.maxDuration,t.params.video.mimes=ht.mimes,t.params.video.protocols=ht.protocols,t.params.video.startdelay=0,t.params.video.playbackmethod=ht.playbackmethod,t.params.video.api=ht.api,t.params.video.skip=1,t.params.video.skipafter=5,t.params.video.w=h,t.params.video.h=l;break;case"lemma":t.params.video=t.params.video||{},t.params.video.mimes=ht.mimes;break;case"improvedigital":t.params.video=t.params.video||{},t.params.video.mimes=ht.mimes,t.params.video.skip=1,t.params.video.skipmin=30,t.params.video.skipafter=5;break;case"yahoossp":i&&(t.params.bidOverride=t.params.bidOverride||{},t.params.bidOverride.imp=t.params.bidOverride.imp||{},t.params.bidOverride.imp.bidfloor=i);break;case"smartadserver":t.params.formatId=105300,t.params.video={protocol:7};break;case"freewheel-ssp":t.params.vastUrlParams=t.params.vastUrlParams||{},t.params.vastUrlParams.protocolVersion="4.2";break;case"yieldmo":t.params=t.params||{},t.params.video=t.params.video||{},t.params.bidFloor=i,t.params.video.placement=1,t.params.video.startdelay=0,t.params.video.api=ht.api,t.params.video.protocols=ht.protocols,t.params.video.maxduration=ht.maxDuration,t.params.video.playbackmethod=ht.playbackmethod}return n.length>1&&(t.bidder+="_".concat(n[1])),t}))}(i,e,s,n,0,r,a,h);case"banner":return function(t,i,e,s,n,o,r){var a={1566:{appnexus:{AE:4,IN:2,OTH:3}},1936:{appnexus:{OTH:2}},2013:{appnexus:{US:1.5,OTH:0}}},h=t.map((function(t){var n=e,h=t.bidder.split("_");if(h.length>1&&(t.bidder=h[0]),s&&(s[t.bidder]||s.all)){var l=s[t.bidder]||s.all;l.floor&&(l.floor[r]||l.floor.all)&&(n=l.floor&&(l.floor[r]||l.floor.all)),t=lt(t,n)}else t=a[o]&&a[o][t.bidder]?lt(t,n=a[o][t.bidder][r]?a[o][t.bidder][r]:a[o][t.bidder].OTH):lt(t,n);switch(t.bidder){case"freewheel-ssp":delete t.params.defaultMute,t.params.vastUrlParams=t.params.vastUrlParams||{},t.params.vastUrlParams.protocolVersion="4.2";break;case"smartadserver":i.some((t=>50===t[1]||90===t[1]))?t.params.formatId=124244:t.params.formatId=124243;break;case"yahoossp":n&&(t.params.bidOverride=t.params.bidOverride||{},t.params.bidOverride.imp=t.params.bidOverride.imp||{},t.params.bidOverride.imp.bidfloor=n);break;case"synacormedia":t.params.bidfloor&&(t.params.bidfloor=.15);break;case"yieldmo":t.params=t.params||{},t.params.bidFloor=n}return h.length>1&&(t.bidder+="_".concat(h[1])),t}));return h}(i,e,s,n,0,r,a)}}var at={appnexus:{type:"number",keyName:"reserve"},unruly:{type:"number",keyName:"floor"},synacormedia:{type:"number",keyName:"bidfloor"},smilewanted:{type:"number",keyName:"bidfloor"},sonobi:{type:"number",keyName:"floor"},lemma:{type:"number",keyName:"bidFloor"},openx:{type:"number",keyName:"customFloor"},appnexus_apac:{type:"number",keyName:"reserve"},improvedigital:{type:"number",keyName:"bidFloor"},smartadserver:{type:"number",keyName:"bidfloor"},oftmedia:{type:"number",keyName:"reserve"},videobyte:{type:"number",keyName:"bidfloor"},richaudience:{type:"number",keyName:"bidfloor"},sharethrough:{type:"number",keyName:"floor"},iqzone:{type:"number",keyName:"bidfloor"},vidoomy:{type:"number",keyName:"bidfloor"},sovrn_WC:{type:"number",keyName:"bidfloor"},bcmssp:{type:"number",keyName:"bidFloor"},rubicon:{type:"float",keyName:"floor"},freewheelssp:{type:"float",keyName:"bidfloor"},pubmatic:{type:"string",keyName:"kadfloor"}},ht={mimes:["video/mp4","application/javascript","video/x-flv","video/x-ms-wmv","application/vnd.apple.mpegurl","application/x-mpegurl","video/3gpp","video/mpeg","video/ogg","video/quicktime","video/webm","video/x-m4v","video/ms-asf","video/x-msvideo"],minDuration:1,maxDuration:200,protocols:[1,2,3,4,5,6,7,8],playbackmethod:[3],api:[1,2,7]};function lt(t,i){return at[t.bidder]&&(i?t.params[at[t.bidder].keyName]="string"==at[t.bidder].type?""+i:i:delete t.params[at[t.bidder].keyName]),t}function ut(t,i){var e=document.createElement("div");e.id="vdo_ai_side_banner_wrapper",i.forEach((function(t){(function(t,i){return new Promise((function(t,e){var s=document.createElement("iframe");s.style.display="none",s.classList.add("vdo_ai_side_banner_frame"),s.addEventListener("load",(function i(){s.removeEventListener("load",i),t(this)})),i.appendChild(s)}))})(0,e).then((function(i){var e=document.createElement("div");e.id=t.div;var s=document.createElement("script");s.async=!0,s.src=t.script,i.contentDocument.body.style.margin="0px",i.contentDocument.body.appendChild(e),i.contentDocument.body.appendChild(s),i.style.display="block"}))})),t.appendChild(e)}var dt={javarevisitedv2:{google_apac:{geoType:"exclude",geoCountries:["IN"]}},"v-programmersought":{google_apac:{geoType:"include",geoCountries:["JP","US","FR","IT","ES","DE","SG"]}},"v-nationaldaycalendar":{google_apac:{geoType:"include",geoCountries:["US"]}},letters:{google_apac:{geoType:"include",geoCountries:["US","IN","AE","GB","HK","MY","CA","JP","PH","SG","DE"]}},"v-nicesnippets":{google_apac:{geoType:"include",geoCountries:["US","FR","GB","DE","IN","JP","IT","CA","ES","AU","AE","NL","MX","KR","BR","UA","KP"]}}};function ct(){return"function"==typeof __tcfapi}var vt,ft='<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="163.861px" height="163.861px" viewBox="0 0 163.861 163.861" style="enable-background:new 0 0 163.861 163.861;" xml:space="preserve"><g><path d="M34.857,3.613C20.084-4.861,8.107,2.081,8.107,19.106v125.637c0,17.042,11.977,23.975,26.75,15.509L144.67,97.275c14.778-8.477,14.778-22.211,0-30.686L34.857,3.613z"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',pt='<svg id="vdo_playlist_current_active" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 47.607 47.607" style="enable-background:new 0 0 47.607 47.607;" xml:space="preserve"><g><path d="M17.991,40.976c0,3.662-2.969,6.631-6.631,6.631l0,0c-3.662,0-6.631-2.969-6.631-6.631V6.631C4.729,2.969,7.698,0,11.36,0l0,0c3.662,0,6.631,2.969,6.631,6.631V40.976z"/><path d="M42.877,40.976c0,3.662-2.969,6.631-6.631,6.631l0,0c-3.662,0-6.631-2.969-6.631-6.631V6.631C29.616,2.969,32.585,0,36.246,0l0,0c3.662,0,6.631,2.969,6.631,6.631V40.976z"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>',mt='<svg class="vdo_playlist_circle" height="53" width="53"> <circle cx="31" cy="31" r="25" stroke="#c00" stroke-width="3" fill="transparent" /></svg><svg class="vdo_playlist_circle" height="53" width="53"> <circle cx="31" cy="31" r="25" stroke="#96969661" stroke-dashoffset="0" stroke-width="3" fill="transparent" /></svg>',gt=[];var[At,bt,yt,wt,_t,jt,xt,kt]=[null,null,null,null,!1,!1,!1],Et={},St=null;function Tt(t,s){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"amazon";var o=this;function r(){return o.Qt||document.querySelector("#".concat(o.Jt.unitId," #vdo_banner_frame-2"))||document.querySelector("#".concat(o.Jt.unitId," #vdo_banner_frame"))}this.resizeAds=function(t,i){try{yt&&yt.resize(t,i,google.ima.ViewMode.NORMAL),St.setAttribute("style","width: ".concat(t,"px; height: ").concat(i,"px"))}catch(t){G(e,"resizeAmazonAds",this.Wt)}},this.hideAmazonPlayer=function(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];(t||o.amazonPlayerPlayingAd)&&(t?(St.classList.add("hidden_amazon_wrapper"),!kt&&!r()&&o.Zt.play(),kt=!1):(St.classList.remove("hidden_amazon_wrapper"),kt=o.Zt.paused(),o.Zt.pause()))},function(){if(!yt){wt||((wt=document.createElement("div")).id="ad-container",wt.style="position:absolute;top:0;margin:auto",St.appendChild(wt),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(Et.disableCustomPlaybackForIOS10Plus),_t=new google.ima.AdDisplayContainer(wt,At),bt=new google.ima.AdsLoader(_t),Et.vpaidMode&&bt.getSettings().setVpaidMode(Et.vpaidMode),bt.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,(function(t){let e=new google.ima.AdsRenderingSettings;Et.adsRenderingSettings&&Et.adsRenderingSettings.loadVideoTimeout&&(e.loadVideoTimeout=Et.adsRenderingSettings.loadVideoTimeout),(yt=t.getAdsManager(At,e)).addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,h),yt.addEventListener(google.ima.AdEvent.Type.LOADED,a),yt.addEventListener(google.ima.AdEvent.Type.STARTED,(function(){o.qt=!0,o.amazonPlayerPlayingAd=!0,o.Xt=o.Jt.dual_player?++window.vdo_ai_.video_ad_count:++o.Xt,!r()&&o.hideAmazonPlayer(!1),o.Kt(),o.$t(o.currentOffset,n,s,"video"),Z("pageview_match","pixel",null,null,o.Jt,o.ti,o.ii,o.ei,o.si,o.ni,o.oi),Z("ad_match","pixel",{offset:o.ri,partner:n,cpm:s,type:"video"},null,o.Jt,o.ti,o.ii,o.ei,o.si,o.ni,o.oi),i().is(document.querySelector(o.ai))||o.hi.classList.contains("vdo_floating")||(o.li(),xt=!0),o.ui&&"content-floating"===o.Jt.unitType&&o.Jt.float_after_cross_click&&o.di()})),yt.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,h,!1),yt.addEventListener(google.ima.AdEvent.Type.SKIPPED,h,!1),_t.initialize();let[l,u]=[o.Zt.width(),o.Zt.height()];yt.init(l,u,google.ima.ViewMode.NORMAL),St.setAttribute("style","width: ".concat(l,"px; height: ").concat(u,"px")),yt.start()}),!1),bt.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,h,!1));var e=new google.ima.AdsRequest;e.adTagUrl=t,At.muted=!0,e.linearAdSlotWidth=At.clientWidth,e.linearAdSlotHeight=At.clientHeight,e.nonLinearAdSlotWidth=At.clientWidth,e.nonLinearAdSlotHeight=At.clientHeight/3,Et.vastLoadTimeout&&(e.vastLoadTimeout=Et.vastLoadTimeout),bt.requestAds(e)}function a(){}function h(){try{o.amazonPlayerPlayingAd=!1,o.ci&&xt&&(o.fi(),o.pi()),o.mi(),o.Jt.showOnlyOnAd&&!r()&&(o.Jt.playAdsOnly&&o.gi("add"),"floating"==o.Jt.unitType||o.Jt.playAdsOnly||(document.querySelector("#"+o.Jt.parent_div).classList.add("vdo_collapsible"),o.Ai&&(o.Ai=!1,showNextOrStay(o.bi,0,(function(){o.Ai=!0}),"",o.Jt.showGreyOverlay)),document.querySelector(".vdo_circle_progress").style.stroke="unset")),o.hideAmazonPlayer(!0),yt&&yt.destroy(),yt=null,o.yi()}catch(t){o.yi()}}}()}function Ct(){yt&&yt.destroy(),_t&&_t.destroy(),St&&St.remove()}function It(t){Et=t}function Mt(){if(!window.vdo_ai_[this.Jt.unitId].ivHandlersTaboola){const t=document.querySelector('[id*="taboola-below-"]'),i=window.vdo_ai_[this.Jt.unitId].ivHandlersTaboola=new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting||0===t.target.getBoundingClientRect().height?(this.fi(),this.pi(),this.wi=!0):(this.wi=!1,this.li.call(this))}))}),{threshold:0});if(t)i.observe(t);else{const t=new MutationObserver((e=>{let s=!1;e.forEach((t=>{if("childList"===t.type){const e=t.target.querySelector('[id*="taboola-below-"]');e&&(s=!0,i.observe(e))}})),s&&t.disconnect()}));t.observe(document.body,{childList:!0,subtree:!0})}}}function Dt(t,i){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);i&&(s=s.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),e.push.apply(e,s)}return e}function Bt(t){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{};i%2?Dt(Object(e),!0).forEach((function(i){Nt(t,i,e[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Dt(Object(e)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}))}return t}function Nt(t,i,e){return(i=function(t){var i=function(t,i){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var s=e.call(t,i||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)}(t,"string");return"symbol"==typeof i?i:i+""}(i))in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}if(window.__esModule&&(window.default=window),window.vdo_ai_=window.vdo_ai_?window.vdo_ai_:{},window.vdo_ai_.version="ddc9e06d",window.vdo_ai_.viewTimer=window.vdo_ai_.viewTimer||{},window.vdo_ai_.logCampaignClick=window.vdo_ai_.logCampaignClick||{},window.vdo_ai_.events=window.vdo_ai_.events||{},window.vdo_ai_.on=window.vdo_ai_.on||function(t,i){"string"==typeof t&&"function"==typeof i&&(window.vdo_ai_.events[t]=window.vdo_ai_.events[t]||[]).push(i)},window.vdo_ai_.cmd=window.vdo_ai_.cmd||[],window.vdo_ai_.cmd.length){var Rt=window.vdo_ai_.cmd;window.vdo_ai_.cmd=[],Rt.forEach(Ut)}function Ut(t){if("function"==typeof t)try{t()}catch(t){}}window.vdo_ai_.cmd.push=Ut,window.vdoHlsUrl=window.vdoHlsUrl||!1,Element.prototype.remove||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)});var Pt="G-8J9SC9WB3T",Ot="G-HXEC5QES15";function Lt(){dataLayer.push(arguments)}var zt=[{video:"16286054525561128c0c5c7ea",click:"https://gulfnews.com/subscriptions?utm_source=VDOAI&utm_medium=Common&utm_campaign=VDOAI"},{video:"16286053435961128b9fdf111",click:"https://gulfnews.com/subscriptions?utm_source=VDOAI&utm_medium=Huawei&utm_campaign=VDOAI"}],Ft={},Gt={},Ht={"v-nationaldaycalendar":{desktop:"8a969535017a7a0f5ff40fae3a3a0013",mobile:"8a969d84017a7a0f57000faef976001b"},"v-randomwordgenerator":{desktop:"8a969d84017a7a0f57000fb11729001c",mobile:"8a969065017a7a0f5ae30fb1b5880019"},jetlaggin:{desktop:"8a969065017a7a0f5ae30fa515610017",mobile:"8a969d84017a7a0f57000fa5eb3a0019"},jetlagginv4:{desktop:"8a969065017a7a0f5ae30fa515610017",mobile:"8a969d84017a7a0f57000fa5eb3a0019"},gardenmanage:{desktop:"8a969d84017a7a0f57000f9fe08f0018",mobile:"8a969535017a7a0f5ff40fa0fc110012"},technical:{desktop:"8a969065017a7a0f5ae30fb3133d001a",mobile:"8a969065017a7a0f5ae30fb3b0b4001b"},journaldev:{desktop:"8a969d84017a7a0f57000faa1ac6001a",mobile:"8a969065017a7a0f5ae30fab76030018"},"v-programmersought":{desktop:"8a969992017a7a3d7ef842bba3ea0206",mobile:"8a96944d017a7a3d87f542bcc2cd01ba"},"v-askinglot":{desktop:"8a969897017c7c3817874ab93ec204fc",mobile:"8a9691ef017c7c381d4a4ababa730561"},"v-techypu":{desktop:"8a969897017c7c3817874ac0a17104fe",mobile:"8a9691ef017c7c381d4a4ac116ba0563"},"v-mothertoday":{desktop:"8a9691ef017c7c381d4a4ac955d20565",mobile:"8a969897017c7c3817874ac9e66704ff"},"v-reaperscans":{desktop:"8a96956f017c7c3825854acdc9c604f2",mobile:"8a96956f017c7c3825854ace4c4504f3"},inpiringquotes:{desktop:"8a969897017c7c3817874ad148510503",mobile:"8a96905d017c7c4acde34ad1e4c50005"},"v-studytonight":{desktop:"8a96905d017c7c4acde34ad540730008",mobile:"8a969ce9017c7c4ac8b74ad6bcf60008"},"v-ebayfeescalculator":{desktop:"8a9694aa017c7c4ad2c04adffa770009",mobile:"8a96905d017c7c4acde34ae07ca7000a"},"v-text-compare":{desktop:"8a969ce9017c7c4ac8b74ae7400f000f",mobile:"8a96905d017c7c4acde34ae7c296000b"},"v-upbeatnews-v6":{desktop:"8a9694aa017c7c4ad2c04aea4d23000b",mobile:"8a969ce9017c7c4ac8b74aeae21f0012"},"v-upbeatnews":{desktop:"8a9694aa017c7c4ad2c04aea4d23000b",mobile:"8a969ce9017c7c4ac8b74aeae21f0012"},"v-sportsnest-co":{desktop:"8a969ce9017c7c4ac8b74aee64000017",mobile:"8a9694aa017c7c4ad2c04aeef54b000c"},"v-gamertweak":{desktop:"8a9699bf017d7da05072a3cf15940086",mobile:"8a9695fb017d7da05b7ba3cf1a5c007c"},javarevisitedv2:{desktop:"8a96910d017d7da05645a3cf3e320084",mobile:"8a9699bf017d7da05072a3cf42980089"},javarevisited:{desktop:"8a96910d017d7da05645a3cf3e320084",mobile:"8a9699bf017d7da05072a3cf42980089"},"v-sonysports-site":{desktop:"8a9699bf017d7da05072a3cf813f008e",mobile:"8a9695fb017d7da05b7ba3cf85b20084"},"v-findanyanswer":{desktop:"8a969c58017f7f992405ab3a81b80234",mobile:"8a969100017f7f992951ab3a38e90205"},"v-everythingwhat":{desktop:"8a969c58017f7f992405ab379262022e",mobile:"8a969100017f7f992951ab374a7d0204"},"v-delftstack":{desktop:"8a969558018080038b3c092ab04900af",mobile:"8a969558018080038b3c092a7afa00ae"},"v-technical-city":{desktop:"8a969065017a7a0f5ae30fb3133d001a",mobile:" 8a969065017a7a0f5ae30fb3b0b4001b"},"v-tfrecipes":{desktop:"8a969538018080d2f724d5ac32a70030",mobile:" 8a96918b018080d2f1c5d5ac08d2003b"},"v-quizsmash":{desktop:"8a9695a6018080b98f8cbbd201910017",mobile:"8a9695a6018080b98f8cbbd1c0290016"},"v-itsfoss":{desktop:"8a969469017f7fd08b61d4e377e100d7",mobile:"8a969469017f7fd08b61d4e33eda00d6"},"v-quotestats":{desktop:"8a969c58017f7f992405ab625c9e0249",mobile:"8a969100017f7f992951ab6217580218"},appdividendv2:{desktop:"8a9691670180800386280921b53d011f",mobile:"8a9699fd0180800380c5092164a50121"},"v-livenewsnow":{desktop:"8a96909a018080b98a1cbbe4d1fe0013",mobile:"8a96909a018080b98a1cbbe48ede0012"},"v-recipesandcook":{desktop:"8a96908d017f7fd08616d4e1188300bd",mobile:"8a96908d017f7fd08616d4e0cdc100bc"},"v-1point3acres":{desktop:"8a96982e017e7eb0dc7fb44f03f5009d",mobile:"8a9690bf017e7eb0e2b1b44fe29e00a2"},"v-stylecraze":{desktop:"8a969401017f7f992ec2ab4236a10282",mobile:"8a969100017f7f992951ab41ef2c020b"},"v-momjunction":{desktop:"8a9699ff018080b9845ebbe13288001b",mobile:"8a9699ff018080b9845ebbe0e2ad001a"},"v-yyzzbaby":{desktop:"8a969d84017a7a0f57000f9fe08f0018",mobile:"8a969535017a7a0f5ff40fa0fc110012"},"v-1point3acres-thread":{desktop:"8a96982e017e7eb0dc7fb44f03f5009d",mobile:"8a9690bf017e7eb0e2b1b44fe29e00a2"},"v-1point3acres-forum":{desktop:"8a96982e017e7eb0dc7fb44f03f5009d",mobile:"8a9690bf017e7eb0e2b1b44fe29e00a2"},"v-1point3acres-instant":{desktop:"8a96982e017e7eb0dc7fb44f03f5009d",mobile:"8a9690bf017e7eb0e2b1b44fe29e00a2"},"v-1point3acres-fixed":{desktop:"8a96982e017e7eb0dc7fb44f03f5009d",mobile:"8a9690bf017e7eb0e2b1b44fe29e00a2"},"v-prosportstrivia":{desktop:"8a96905d017c7c4acde34ada390b0009x",mobile:"8a969ce9017c7c4ac8b74adbc3e30009x"},"v-lifewithjanet":{desktop:"8a9695fb017d7da05b7ba3cf30a5007e",mobile:"8a9699bf017d7da05072a3cf35210088"},"v-mytravelquiz":{desktop:"8a969469017f7fd08b61d4e377e100d7",mobile:"8a969469017f7fd08b61d4e33eda00d6"},"v-triviaboss":{desktop:"8a969535017a7a0f5ff40f9c7d0e0011",mobile:"8a969065017a7a0f5ae30f9d431d0016"},"v-tvseasonspoilers":{desktop:"8a969c6a018080d2ed43d5a6db5c001c",mobile:"8a96918b018080d2f1c5d5a670f50032"},"v-lucianne":{desktop:"8a969535017a7a0f5ff40fae3a3a0013",mobile:"8a969d84017a7a0f57000faef976001b"},"v-easyminigames":{desktop:"8a969992017a7a3d7ef842bba3ea0206",mobile:"8a96944d017a7a3d87f542bcc2cd01ba"},"v-glanceoflife":{desktop:"8a9698c6018181179b5e190848cc0025",mobile:"8a969ccf01818117a22519080cc50024"}},Vt=["Openx_EBDA","unruly_EBDA","Openx_EBDA_apac","Smaato_EBDA","Onetag_EBDA","OnetagOB_EBDA_apac","FluctOB_EBDA","Smartadserver_EBDA","InMobi_EBDA","Nexxen_EBDA"],Yt=[""],Qt=["timesofindia.indiatimes.com","economictimes.indiatimes.com","m.indiatimes.com","m.timesofindia.com","livehindustan.com","bangla.hindustantimes.com","livemint.com","hindustantimes.com"],Jt=["prajavani.net","moneycontrol.com"],Wt=["thequint.com","photogallery.indiatimes.com"],Zt=["CA","CO","CT","UT","VA"],qt=["v-timesnownews-v4"],Xt={"ca-video-pub-7094677798399606":"google","ca-video-pub-2403018226404213":"google_apac","iu=/26001828/":"google_DFP","iu=/22100121508/":"google_DFP_apac","iu=/26001828,":"google_mcm","iu=/22100121508,":"google_mcm_apac","iu=/21939239661":"adipologreeter","iu=/7047":"adipoloAPL","iu=/21683059350":"adipolo","ads.stickyadstv.com":"freewheel","iu=/112081842,":"ADWMG","iu=/43606300,":"ampliffy","iu=/162717810,":"Fatchilli","onetag-sys.com":"onetag","vid.springserve.com":"mediafuse","iu=/60345044/RTB-Experts_TOP":"rtbexperts","secure.adnxs.com":"appnexus","ads.servenobid.com":"nobid","vast.smilewanted.com":"smilewanted","powerad.ai":"nextmillennium","iu=/93656639":"netlink"},Kt=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","GB"],$t=["CA","GL","MX","US","AI","AG","AW","BS","BB","BM","VG","KY","CU","CW","DM","DO","GD","GP","HT","JM","MQ","MS","PR","KN","LC","VC","TT","VI","BZ","CR","SV","GT","HN","NI","PA","AR","BO","BR","CL","CO","EC","GF","GY","PY","PE","SR","UY","VE"],ti=["manoramaonline.com"],ii=["v-ndtv-v7","v-jpost-v0","v-financialexpress-v2","v-indianexpress-v6","v-1point3acres-v5","v-timesnownews-v5","v-olx-in-v7","v-wowhead-v1","v-8bgames-v4","v-drudgereport-v1","v-pharmeasy-in-v3","v-marca-v2","v-fandom-v2","v-education-load-v3","v-samnytt-nu-v1","v-outlookindia-v5","v-fandom-v3","v-storiesdown-v4","v-webmd-v1","v-elmundo-es-v2","v-demotywatory-pl-v1","v-walla-co-il-v1","v-jpost-v2","v-koreaboo-v1","v-huskermax-v1","v-paltalk-v2","v-cookingfanatic-v1","v-medicinenet-v1","v-emedicinehealth-v1","v-marca-v3","v-webmd-v2","v-elmundo-es-v3","v-jpost-v3","v-thequint-v4","v-browsefeed-net-v2","v-browsefeed-net-v1","v-burbonik-pl","v-timesofisrael","v-hungliaonline-v1"];var ei,si,ni=["v-esakal-v0","v-glanceoflife","v-99-co","v-thehealthsite-v0","v-techypu","v-teluguadda-co-in","v-glanceoflife-v1"],oi=["US","ES","RO","CA","GB","AU","IL","AE","PL","DE","GR","BR","MX","FR","JP","NL","SE","NZ","CH","CL","KR","ZA","IE","BE","NO","AT","HU","DK","PR","FI","CY","SK","IS","UZ","KN","MQ","GP","PF","LI","CK","AS","MS","MH","WF","BL","SH","NF","FK"];class ri{constructor(t){this.Jt=JSON.parse(JSON.stringify(t)),this.Jt.targeting=this.Jt.targeting?this.Jt.targeting:{},this.Jt.controls="carousel"!=this.Jt.tagType,this._i=null,this.Zt=null,this.bi=null,this.hi=null,this.ji=null,this.xi=null,this.ki=!1,this.Ei=!1,this.Si=null,this.Ti=null,this.qt=!1,this.Jt.ibv_linked_tag&&ii.push(this.Jt.tagName),ii.includes(this.Jt.tagName)&&(window.vdoFreqCappValue=0==this.Jt.freqCap||"none"==this.Jt.freqCap?2:this.Jt.freqCap),this.Ci=this.Jt.device,this.Ii=null,this.ai=null,this.Wt=null,this.Mi=!0,this.Di=0,this.Bi=0,this.Ni=[],this.Ri=!1,this.Ui=0,this.Pi=2e3,this.Oi=!1,this.Li=!1,this.zi=!1,this.Fi=0,this.Gi=L(),this.ri=0,this.Hi=!1,this.Vi=!0,this.Yi=!1,this.Qi=null,this.Ji=null,this.Wi=null,this.Zi=0,this.qi={},this.Xi=!1,this.Ki=["138306086725"],this.$i=document.createElement("div"),this.te=!0,this.ie=3e3,this.ee=!1,this.se=[],this.ne=[],this.oe=[],this.re=[],this.ae=[],this.he=[],this.le=[],this.ue=!1,this.de=!1,this.ce=null,this.ve=null,this.fe=null,this.pe=!1,this.Qt=!1,this.me=!0,this.ge=!0,this.Ae=!1,this.be=!1,this.ye=Tt,this.we=!1,this._e=!1,this.wi=!1,this.je=null,this.xe=0,this.ke=3e4,this.Ee=null,this.Se=null,this.Te=null,this.Ce=null,this.Ie=!1,this.Me=null,this.De=null,this.Be=0,this.Ne=0,this.Re=!1,this.Ue=!1,this.Pe=null,this.Oe=null,this.Le=!1,this.ze=!1,this.Fe=0,this.Ge=null,this.He=!1,this.Ve=null,this.Ye=null,this.Qe=null,this.Je=null,this.We=null,this.Ze=null,this.qe=null,this.Xe=null,this.Ke=!1,this.$e=!1,this.ts=null,this.es=null,this.ss=null,this.ns=0,this.rs=0,this.hs=0,this.ls=null,this.us=null,this.ds=null,this.cs=null,this.vs=!1,this.fs=this.Jt.unmute_on_interaction,this.ps=!0,this.gs=0,this.As={US:.8,CA:.6,AU:.6,GB:.6,NZ:.6},this.bs=this.As[this.Jt.country]||.4,this.Jt.companionBanner&&this.Jt.companionBanner.rgtr&&this.Jt.companionBanner.rgtr.forEach((t=>{t.geos.includes(this.Jt.country)&&(this.ke=1e3*t.time)})),this.ys=Mt;var i=this;document.addEventListener("visibilitychange",(()=>{clearTimeout(i.patchTimeout),i.tabChangeState=document.visibilityState,"hidden"===i.tabChangeState&&(i.me=!1),"visible"===i.tabChangeState&&(i.patchTimeout=setTimeout((()=>{i.me=!0}),500),i.ws()&&document.activeElement.blur())})),window.addEventListener("blur",(function(t){i.ws()||(clearTimeout(i.patchTimeout),i.me=!1)})),window.addEventListener("focus",(function(){clearTimeout(i.patchTimeout),i.patchTimeout=setTimeout((()=>{i.me=!0}),500)})),this._s=!1,this.Xt=0,this.js=0,this.xs=!1,this.ks=0,this.Es=!1,this.Ss=null,this.Ts=null,this.Cs=!1,this.Is=!1,this.Ms=null,this.Ds=!1,this.Bs=!1,this.Ns=!1,this.Rs=function(t){const i=t.match(/(Chrome|Safari|Firefox|Edge|Opera|MSIE|Trident)[/ ]?([0-9.]*)/);return{browser:i?{name:i[1],version:i[2]}:{name:"NA",version:"NA"}}}(navigator.userAgent).browser.name,this.Us=.75,this.Ps={ad_url:"pubads.g.doubleclick.net/gampad/ads?iu=/26001828,".concat(this.Jt.google_mcm,"/DFP_Z1_Parent_Direct&description_url=[page_Location]&tfcd=0&npa=0&sz=1x1%7C300x250%7C400x300%7C640x360%7C640x480&cust_params=site%3D").concat(this.Jt.domain,"&gdfp_req=1&output=vast&unviewed_position_start=1&env=vp&impl=s&correlator=&nofb=1&vad_type=linear"),partner:"google_mcm_direct"},this.ti=Jt,this.Os={video:"/atlas_video"+this.Jt.unitId.slice(4)+"/",banner:"/atlas_banner"+this.Jt.unitId.slice(4)+"/",companion:"/atlas_companion"+this.Jt.unitId.slice(4)+"/"},this.Ls=[],this.zs=[],this.Fs=[],this.Gs=[],this.Hs=[],this.Vs=null,this.si=null,this.Ys=[{code:"video1"+t.unitId,mediaTypes:{video:{context:"instream",api:[1,2],mimes:["video/mp4","application/javascript","video/x-flv","video/x-ms-wmv","application/vnd.apple.mpegurl","application/x-mpegurl","video/3gpp","video/mpeg","video/ogg","video/quicktime","video/webm","video/x-m4v","video/ms-asf","video/x-msvideo"],protocols:[1,2,3,4,5,6,7,8],minduration:1,maxduration:60,linearity:1,startdelay:0,placement:1}},bids:[]},{code:"banner1"+t.unitId,mediaTypes:{banner:{sizes:[[300,250],[336,280]]}}}],this.Qs=[{code:"wc_video_"+t.unitId,mediaTypes:{video:{context:"instream",api:[1,2],mimes:["video/mp4","application/javascript","video/x-flv","video/x-ms-wmv","application/vnd.apple.mpegurl","application/x-mpegurl","video/3gpp","video/mpeg","video/ogg","video/quicktime","video/webm","video/x-m4v","video/ms-asf","video/x-msvideo"],protocols:[1,2,3,4,5,6,7,8],minduration:1,maxduration:60,linearity:1,startdelay:0,placement:1}},bids:[]},{code:"wc_banner_"+t.unitId.replace("_vdo",""),mediaTypes:{banner:{sizes:[[300,250],[336,280]]}}},{code:"wc_companion_"+t.unitId.replace("_vdo",""),mediaTypes:{banner:{sizes:[[300,250]]}}}],this.Js=[{code:"atlas_video"+t.unitId,mediaTypes:{video:{context:"instream",api:[1,2],mimes:["video/mp4","application/javascript","video/x-flv","video/x-ms-wmv","application/vnd.apple.mpegurl","application/x-mpegurl","video/3gpp","video/mpeg","video/ogg","video/quicktime","video/webm","video/x-m4v","video/ms-asf","video/x-msvideo"],protocols:[1,2,3,4,5,6,7,8],minduration:1,maxduration:60,linearity:1,startdelay:0,placement:1}},ortb2Imp:{ext:{data:{adserver:{adslot:this.Os.video}}}},bids:[]},{code:"atlas_banner",mediaTypes:{banner:{sizes:[[300,250],[336,280]]}},ortb2Imp:{ext:{data:{adserver:{adslot:this.Os.banner}}}}},{code:"atlas_companion_"+t.unitId.replace("_vdo",""),mediaTypes:{banner:{sizes:[[300,250],[336,280]]}},ortb2Imp:{ext:{data:{adserver:{adslot:this.Os.companion}}}}}],this.Ws=[{code:"adsolut_video_unit"+t.unitId,mediaTypes:{video:{context:"instream",api:[1,2],mimes:["video/mp4","application/javascript","video/x-flv","video/x-ms-wmv","application/vnd.apple.mpegurl","application/x-mpegurl","video/3gpp","video/mpeg","video/ogg","video/quicktime","video/webm","video/x-m4v","video/ms-asf","video/x-msvideo"],protocols:[1,2,3,4,5,6,7,8],minduration:1,maxduration:60,linearity:1,startdelay:0,placement:1}},bids:[]},{code:"adsolut_banner_unit",mediaTypes:{banner:{sizes:[[300,250],[336,280]]}},bids:[]},{code:"adsolut_companion_unit",mediaTypes:{banner:{sizes:[[300,250]]}},bids:[]}],this.Zs=[{code:"hindsight_video_unit"+t.unitId,mediaTypes:{video:{context:"instream",api:[1,2],mimes:["video/mp4","application/javascript","video/x-flv","video/x-ms-wmv","application/vnd.apple.mpegurl","application/x-mpegurl","video/3gpp","video/mpeg","video/ogg","video/quicktime","video/webm","video/x-m4v","video/ms-asf","video/x-msvideo"],protocols:[1,2,3,4,5,6,7,8],minduration:1,maxduration:60,linearity:1,startdelay:0,placement:1}},bids:[]},{code:"hindsight_banner_unit",mediaTypes:{banner:{sizes:[[300,250],[336,280]]}},bids:[]},{code:"hindsight_companion_unit",mediaTypes:{banner:{sizes:[[300,250]]}},bids:[]}],this.qs=[{code:"jumbojar_video_unit"+t.unitId,mediaTypes:{video:{context:"instream",api:[1,2],mimes:["video/mp4","application/javascript","video/x-flv","video/x-ms-wmv","application/vnd.apple.mpegurl","application/x-mpegurl","video/3gpp","video/mpeg","video/ogg","video/quicktime","video/webm","video/x-m4v","video/ms-asf","video/x-msvideo"],protocols:[1,2,3,4,5,6,7,8],minduration:1,maxduration:60,linearity:1,startdelay:0,placement:1}},bids:[]},{code:"jumbojar_banner_unit",mediaTypes:{banner:{sizes:[[300,250],[336,280]]}},bids:[]},{code:"jumbojar_companion_unit",mediaTypes:{banner:{sizes:[[300,250]]}},bids:[]}],this.Xs=[{code:"rhythmone_banner"+t.unitId,mediaTypes:{banner:{sizes:[[300,250],[336,280]]}}}],this.Ks=[{code:"oftmedia_video_unit"+t.unitId,mediaTypes:{video:{context:"instream",api:[1,2],mimes:["video/mp4","application/javascript","video/x-flv","video/x-ms-wmv","application/vnd.apple.mpegurl","application/x-mpegurl","video/3gpp","video/mpeg","video/ogg","video/quicktime","video/webm","video/x-m4v","video/ms-asf","video/x-msvideo"],protocols:[1,2,3,4,5,6,7,8],minduration:1,maxduration:60,linearity:1,startdelay:0,placement:1}},bids:[]}],this.$s=[{slotID:"banner1"+t.unitId,sizes:[[300,250]],slotName:"box-top"}],this.tn=[{slotID:"videotest",mediaType:"video"}],this.en=!1,"undefined"!=typeof VdoAiAppInterface&&null!==VdoAiAppInterface&&(this.en=!0,VdoAiAppInterface.setConfig(JSON.stringify(this.Jt.mobile).toString())),this.nn=this.As[this.Jt.country]||.4,this.Jt.companionBanner.google_mcm.upr&&"GOPT"!=this.Jt.companionBanner.google_mcm.upr&&(this.nn=Number(this.Jt.companionBanner.google_mcm.upr)),this.rn=this.As[this.Jt.country]||.4,this.Jt.nonLinearBanner.google_mcm.upr&&"GOPT"!=this.Jt.nonLinearBanner.google_mcm.upr&&(this.rn=Number(this.Jt.nonLinearBanner.google_mcm.upr)),this.an=[{code:"banner2"+t.unitId,mediaTypes:{banner:{sizes:[]}},bids:[]},{code:"banner4"+t.unitId,mediaTypes:{banner:{sizes:[]}},bids:[]},{code:"banner3_sovrn"+t.unitId,mediaTypes:{banner:{sizes:[]}},bids:[]}],this.hn=[{code:"banner3"+t.unitId,mediaTypes:{banner:{sizes:[]}},bids:[]}],this.ln=!1,this.un=!1,this.dn={desktop:[728,90],mobile:[320,50]},this.cn={desktop:[[800,450],[640,360],[640,480],[635,357],[444,250],[400,300],[419,236],[333,250],[1,1]],mobile:[[800,450],[640,360],[640,480],[635,357],[444,250],[400,300],[419,236],[333,250],[1,1]]},this.vn=null,this.pn=null,this.mn=null,this.gn=null,this.An=null,this.bn=!1,this.yn=null,this.wn=0,this._n=!1,this.jn=[[728,90],[320,50],[300,50]],this.xn=!!window.vdoResponse,this.kn=null,this.En=null,this.Sn=null,this.Tn=null,this.Cn=null,this.In=null,this.ni=Pt,this.oi=Ot,this.Mn=document.createElement("div");var e=document.createElement("div");"v-eenadu-net"==this.Jt.tagName?this.Jt.topCornerText="Know More":"v-gulfnews-v2"==this.Jt.tagName?this.Jt.topCornerText="":this.Jt.topCornerText||(this.Jt.topCornerText="Read More"),e.innerText=this.Jt.topCornerText,e.setAttribute("style","position: absolute; top: 5px; right: 5px; cursor: pointer; font-size: 1.5em;"),this.Mn.appendChild(e),this.Dn=!0,this.Bn=!0,this.Nn=Object.keys(this.Jt.adx),this.Rn=0,this.Un=0,this.Pn=null,this.On=["CN"],this.Ln=["//s.vdo.ai/vhs/30.m3u8","//s.vdo.ai/vhs/31.m3u8","//s.vdo.ai/vhs/32.m3u8"],this.zn=!0,this.Fn=0,this.Gn=0,this.Hn=null,this.Vn=null,this.Yn=null,this.Qn=!1,this.Jt.content_sources=this.Jt.content_sources.sort((()=>Math.random()-.5)),window.vdoHlsUrl&&this.Jt.use_global_hls&&("string"==typeof window.vdoHlsUrl&&(this.Jt.content_sources=[window.vdoHlsUrl]),Array.isArray(window.vdoHlsUrl)&&(this.Jt.content_sources=window.vdoHlsUrl)),this.Jt.content_sources&&this.Jt.content_sources.length&&(this.Jn(),this.Ln=this.Jt.content_sources.map(function(i){return"string"==typeof i&&(i={video:i,img:""}),i.video.match(/https/g)?i.setHlsHeaders=!1:(i.setHlsHeaders=!0,i.video=this.Jt.media_url+i.video,i.img=i.img&&"https://img.vdo.ai/media_file/".concat(t.tagName,"/source/").concat(i.img)),"v-gulfnews-v2"===this.Jt.tagName&&zt.forEach((function(t){i.video.indexOf(t.video)>=0&&(i.clickThrough=t.click)})),i}.bind(this))),this.Wn=[[320,50],[300,50],[320,100],[300,100],[728,90],[690,90],[675,90],[670,90],[650,90],[630,90],[600,90],[580,90],[570,90],[468,60],[300,75],[970,250],[300,250],[336,280],[300,600],[120,600],[160,600],[180,500],[970,90],[980,90],[990,90],[640,480],[320,180],[640,360],[468,60],[1080,90],[1176,718]],this.Zn="/26001828,".concat(this.Jt.google_mcm,"/z1_dfp_ron_display_non_linear_b_pre"),this.qn="/26001828,".concat(this.Jt.google_mcm,"/z1_dfp_ron_overlay_banner_b_pre"),this.Jt.nonLinearBanner&&this.Jt.nonLinearBanner.google_mcm&&this.Jt.nonLinearBanner.google_mcm.placement&&(this.Zn=this.Jt.nonLinearBanner.google_mcm.placement),this.Xn="/22100121508,".concat(this.Jt.google_mcm_apac,"/Ellipsis_dfp_ron_display_non_linear_b_pre"),this.Kn="26001828,".concat(this.Jt.google_mcm,"/Z1_Non_Linear_Banner/z1_dfp_ron_second_non_linear_b_pre"),this.$n=null,this.io=null,this.eo=!1,this.so=!1,this.no="DFPnonLinear_"+this.Jt.unitId.slice(8),this.oo=null,this.ro=null,this.ao=null,this.ho=null,this.lo=null,this.uo=!1,this.do={aps:!1,prebid:!1,adServerRequestSent:!1},this.co={aps:!1,prebid:!1,adServerRequestSent:!1},this.vo=[[1080,80],[728,90],[970,90],[980,90],[320,50],[300,100],[300,50],[320,100],[468,60]],this.fo=["RO","GB","CA","DE","US","AE","AU","SA"],this.po="nonLiniearBottom"+this.Jt.unitId,this.mo=this.Jt[this.Ci].amzn_nlb_banner,this.Ao=null,this.bo=15*this.Jt[this.Ci].smallHeight/100,this.yo=!1,this.wo=0,this._o=0,this.jo=!1,this.xo=!1,this.ko=!1,this.Eo=!1,this.So=!1,this.To=[],this.Co=[],this.Io=[],this.Mo=[],this.Do=null,this.Bo=null,this.Ro=null,this.Uo=null,this.Po=null,this.Oo=null,this.Lo=null,this.zo=null,this.ui=null,this.Fo=null,this.Go=null,this.Ho=null,this.Vo=null,this.Yo=null,this.Qo=0,this.Jo=!1,this.Wo=null,this.Zo=null,this.qo=null,this.Xo=null,this.Ko=!1,this.$o=null,this.tr=null,this.ir=null,this.ci=null,this.er=null,this.sr=0,this.nr=!1,this.rr=!1,this.ar=!1,this.hr=0,this.lr=0,this.ur={ip:this.Jt.ip_address,ua:window.navigator.userAgent},this.dr={},this.cr={},this.vr={"readtheory-org":{US:1.2,GB:1.2,CA:1.2,AU:1.2},"readtheory-org-v2":{US:1.2,GB:1.2,CA:1.2,AU:1.2},techandgeek:{US:.7},recipepair:{US:.7},factsherald:{US:.7},crushthat:{US:.7},alloutkings:{US:.7},"v-aboutnutra":{US:.7}},this.pr={cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"},userSync:{filterSettings:{iframe:{bidders:"*",filter:"include"}},aliasSyncEnabled:!0},bidderTimeout:this.ie,useBidCache:!0,floors:{},schain:{validation:"strict",config:{ver:"1.0",complete:1,nodes:[{asi:"vdo.ai",sid:""+this.Jt.pubId_vdo,hp:1}]}},s2sConfig:[{accountId:"8610",enabled:!0,bidders:["appnexus"],defaultVendor:"appnexus",timeout:this.ie,adapter:"prebidServer",cache:{vastxml:{returnCreative:!1}},endpoint:{p1Consent:"https://ib.adnxs.com/openrtb2/prebid",noP1Consent:"https://ib.adnxs.com/openrtb2/prebid"},syncEndpoint:{p1Consent:"https://prebid.adnxs.com/pbs/v1/cookie_sync",noP1Consent:"https://prebid.adnxs.com/pbs/v1/cookie_sync"}},{enabled:!0,accountId:"1",bidders:["brave","yandex"],adapter:"prebidServer",cache:{vastxml:{returnCreative:!1}},timeout:this.ie,endpoint:{p1Consent:"https://prebid.vdo.ai/openrtb2/auction",noP1Consent:"https://prebid.vdo.ai/openrtb2/auction"},syncEndpoint:{p1Consent:"https://prebid.vdo.ai/cookie_sync",noP1Consent:"https://prebid.vdo.ai/cookie_sync"}}],improvedigital:{usePrebidSizes:!0},yahoossp:{mode:"all"},currency:{adServerCurrency:"USD",conversionRateFile:"//cdn.jsdelivr.net/gh/prebid/currency-file@1/latest.json"}},this.mr={config:{schain:{validation:"strict",config:{ver:"1.0",complete:1,nodes:[{asi:"walletcircle.co",sid:this.Jt.pubId_wc,hp:1}]}}}},this.gr={config:{schain:{validation:"strict",config:{ver:"1.0",complete:1,nodes:[{asi:"atlas5.co",sid:this.Jt.pubId_atlas,hp:1}]}}}},this.Ar={config:{schain:{validation:"strict",config:{ver:"1.0",complete:1,nodes:[{asi:"vdo.ai",sid:this.Jt.pubId_vdo,hp:1}]}}}},this.br={config:{schain:{validation:"strict",config:{ver:"1.0",complete:1,nodes:[{asi:"adsolut.in",sid:this.Jt.pubId_adsolut,hp:1}]}}}},this.yr={config:{schain:{validation:"strict",config:{ver:"1.0",complete:1,nodes:[{asi:"hindsightsolutions.net",sid:this.Jt.pubId_hs,hp:1}]}}}},this.wr={config:{schain:{validation:"strict",config:{ver:"1.0",complete:1,nodes:[{asi:"jambojar.com",sid:this.Jt.pubId_jj,hp:1}]}}}};try{top!=self&&(this.pr.pageUrl=window.top.location.href,this.pr.publisherDomain=window.top.location.protocol+"//"+window.top.location.hostname)}catch(t){let i=window.location.href,e=window.location.protocol+"//"+window.location.hostname;""!=document.referrer&&(i=document.referrer.split("/").slice(0,3).join("/").split("?").slice(0,1).join("?"),e=document.referrer),this.pr.pageUrl=e,this.pr.publisherDomain=i}this.Jt.coppa&&(this.pr.coppa=!0),"US"==this.Jt.country&&Zt.includes(this.Jt.state)&&(this.pr.consentManagement={usp:{cmpApi:"iab",timeout:1e3}},this._r="1---"),this.ii=0,void 0!==this.Jt.t_map&&(this.ii=this.Jt.t_map/100),void 0!==this.Jt.t_max&&Math.random()>this.Jt.t_max&&(this.ei=!0),this.jr=X,(window.location.href.indexOf("debug_mode=2")>0||window.location.href.indexOf("sample_vdo_mode=video")>0)&&(this.Jt.waterfallTags={},this.Jt.waterfallTags[0]=[{ad_url:"pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/single_ad_samples&ciu_szs=300x250&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&cust_params=deployment%3Ddevsite%26sample_ct%3Dskippablelinear&correlator=",partner:"google",floor:null}]);i=this;this.kr=function(){var t=i.Ln[i.Fe-1].clickThrough;if(t&&t.indexOf("?")>-1||this.Jt.video_clickthrough_url.indexOf("?")>-1)var e="&";else e="?";t?t+=e+"utm_campaign="+this.Jt.tagName+"&utm_medium=recirculation&utm_source=vdoai_player":this.Jt.video_clickthrough_url+=e+"utm_campaign="+this.Jt.tagName+"&utm_medium=recirculation&utm_source=vdoai_player",window.open(t||this.Jt.video_clickthrough_url,"_blank"),Y("click_on_article",t||this.Jt.video_clickthrough_url,null,this.Jt,this.Ro)}.bind(this),this.Er=!0,this.Sr=this.Sr.bind(this)}Sr(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t instanceof Event&&(t=!0);var i=this;let e=[];const s=()=>{["touchstart","touch","click"].forEach((t=>{document.body.removeEventListener(t,i.Sr)}))};i.ln?i.rr&&(s(),i.Tr()):(t&&l.video({inline:!0,muted:!0,timeout:1e10}).then((function(t){t.result?(i.nr=!0,Y("auto_plays",null,null,i.Jt,i.Ro),Z("autoplay_".concat(i.sr+1,"th_interaction"),"ga2",null,null,i.Jt,i.ti,i.ii,i.ei,i.si,i.ni,i.oi)):(i.sr++,1==i.sr&&(Z("pageview",null,null,null,i.Jt,i.ti,i.ii,i.ei,i.si,i.ni,i.oi),Z("website_pageview",null,null,null,i.Jt,i.ti,i.ii,i.ei,i.si,i.ni,i.oi),Z("blocked_autoplay",null,null,null,i.Jt,i.ti,i.ii,i.ei,i.si,i.ni,i.oi),"desktop"==i.Jt.device?e.push("click"):e.push("touchstart","touch"),e.forEach((function(t){document.body.addEventListener(t,i.Sr)}))),i.sr>2&&(Y("error","media_compatibility_issues",null,i.Jt,i.Ro),i.ln=!0,i.nr=!0)),i.rr&&i.nr&&(s(),i.Tr())})),!t&&i.nr&&(s(),i.Tr()))}Cr(){try{if(this.Wt=this.Jt.tagName,ni.includes(this.Wt)){this.Ve={ad_click:!1};var t=function(t,i,e){var s;try{s=window.localStorage}catch(t){}if(!s)return;let n=new Date;var o,r="".concat(n.getFullYear(),"-").concat(n.getMonth()+1,"-").concat(n.getDate()," ").concat(n.getHours(),":").concat(n.getMinutes(),":").concat(n.getSeconds());if(s.getItem("vdo_stanford_group")?o=s.getItem("vdo_stanford_group"):Math.random()<=.01&&(o=Math.random()<=.01?"Treatment Group":"Control Group",s.setItem("vdo_stanford_group",o)),o){var a=0;if(window.googletag&&window.googletag.pubads){var h=window.googletag.pubads().getSlots();h&&h.length&&(a=h.length)}window.addEventListener("unload",(s=>{let n=new Date;var h="".concat(n.getFullYear(),"-").concat(n.getMonth()+1,"-").concat(n.getDate()," ").concat(n.getHours(),":").concat(n.getMinutes(),":").concat(n.getSeconds()),l={tagname:t,uuid:i,group:o,display_slots:a,vdo_slot:"Control Group"==o?1:0,start_timestamp:r,unload_timestamp:h,ad_duration:e.ad_duration||"NA",click:void 0!==e.ad_click?e.ad_click:"NA",content_duration:e.content_duration||"NA",ad_position:"preroll"};navigator.sendBeacon("https://analytics1.vdo.ai/track",JSON.stringify(l))}))}return o}(this.Wt,this.Gi,this.Ve);if("Treatment Group"===t)return}if("false"!==this.Jt.agent)return void Z("blocked_agent","pixel",null,null,this.Jt,this.ti,this.ii,this.ei,this.si,this.ni,this.oi);if("disabled"==this.Jt.allowed)return this.Jt.unitId,Z("player_blocked","pixel",null,null,this.Jt,this.ti,this.ii,this.ei,this.si,this.ni,this.oi),!1;if("true"!==this.Jt.allowed?(this.Mi=!1,this.Jt.unitId,Z("blocked_url","pixel",null,null,this.Jt,this.ti,this.ii,this.ei,this.si,this.ni,this.oi)):this.Jt.unitId,this.yn=this.Jt.ip_address,"parenting-firstcry-v2"==this.Wt&&"IN"==this.Jt.country||"firstcryv3"==this.Wt&&"IN"!=this.Jt.country)return;this.Ir()}catch(t){this.Jt.unitId,encodeURIComponent(t.getMessage()),this.Wt,btoa(t.getMessage()),G(t,"initVdo",this.Wt);var i={send_to:this.ni,event_category:"VDOError",event_label:window.vdo_ai_.version};Lt("event","Err:"+btoa(t.getMessage()).substr(0,10),i),Y("error",btoa(t.getMessage()).substr(0,10),null,this.Jt,this.Ro)}}Ir(){try{var t;if("v-franchiseindia-v1"===this.Wt&&"mobile"===this.Ci&&(this.Jt.close_after_first_ad_timer=10),!navigator.languages.find((t=>t.includes("en")||t.includes("es"))))for(var i in this.Jt.vast)t=this.Jt.vast[i].filter((t=>"adswizz"!==t.partner)),this.Jt.vast[i]=t;if(this.Jt.waterfallTags=this.Jt.vast,this.Mi)this.Mr()&&(this.Ps={},this.Jt.waterfallTags=this.Dr());else{this.Jt.unitId;for(let t in this.Jt.waterfallTags)if(this.Br(this.Jt.waterfallTags[t])){this.pe=!0;break}this.Jt.waterfallTags=this.Dr(),this.Ps={}}null==this.Jt.waterfallTags&&(this.Jt.waterfallTags={},this.ue=!0,Y("error","missing_placement",null,this.Jt,this.Ro)),null!=this.Jt.bidders||this.ue||(this.Jt.bidders=[],this.ue=!0,Y("error","missing_placement",null,this.Jt,this.Ro)),this.Jt[this.Ci].top_floating&&(this.de=!0),(window.location.href.indexOf("debug_mode=2")>0||window.location.href.indexOf("sample_vdo_mode=video")>0)&&(this.Jt.waterfallTags={},this.Jt.waterfallTags[0]=[{ad_url:"pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/single_ad_samples&ciu_szs=300x250&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&cust_params=deployment%3Ddevsite%26sample_ct%3Dskippablelinear&correlator=",partner:"google",floor:null}]);let B=new URL(location.href).searchParams.get("sample_vdo_mode");B&&("prebid"==B||"display"==B?this.Jt.waterfallTags={}:"vast"==B?this.Jt.bidders={}:"video"!=B&&"display"!=B&&(this.fe=B,Object.values(Xt).includes(this.fe)||this.fe.includes("EBDA")||(this.Jt.waterfallTags={}))),this.Ts="desktop"==this.Ci?this.cn.desktop:this.cn.mobile,this.vn=this.Ts[0],this.Ts=this.Ts.map((t=>t.join("x"))).join("|");var e=0,s=0,n="US"==this.Jt.country&&Zt.includes(this.Jt.state);for(var o in this.Jt.waterfallTags)if(this.Jt.waterfallTags.hasOwnProperty(o)){this.Jt.waterfallTags[o]=this.Nr(this.Jt.waterfallTags[o]);var r=this.Jt.waterfallTags[o];this.Jt.dual_player&&(window.vdo_ai_.video_ad_count=window.vdo_ai_.video_ad_count||0,window.location.href.includes("sample_vdo_mode=video")||(this.Jt.tagName.endsWith("-dual")&&o%2==0?r=[]:this.Jt.tagName.endsWith("-dual")||o%2==0||(r=[]))),this.Br(r)&&(0==e&&o,e++,this.pe=!0,r=r.map((function(t){if(t.ad_url.indexOf("doubleclick.net")>=0&&(t.ad_url.indexOf("ca-video-pub-7094677798399606")>=0||t.ad_url.indexOf("ca-video-pub-2403018226404213")>=0||t.ad_url.indexOf("iu=/26001828")>=0||t.ad_url.indexOf("iu=/22100121508")>=0)){let i=new RegExp("[?&](sdmax=[\\w-]+&?)").exec(t.ad_url);i&&s<2?t.ad_url=t.ad_url.replace(i[1],""):i&&(t.ad_url=t.ad_url.replace(i[1],"sdmax=90000")),s++}return t}))),this.Jt.waterfallTags[o]=r}for(var o in this.Jt.waterfallTags)if(this.Jt.waterfallTags.hasOwnProperty(o)){r=this.Jt.waterfallTags[o];for(var a=0;a<r.length;a++){try{decodeURIComponent(r[a].ad_url)}catch(t){Z("error","pixel","invalid_vast_".concat(r[a].partner),null,this.Jt,this.ti,this.ii,this.ei,this.si,this.ni,this.oi);continue}if(r[a].ad_url.indexOf("vid.springserve.com")>=0)r[a].ad_url=r[a].ad_url.replace("{{WIDTH}}",this.vn[0]),r[a].ad_url=r[a].ad_url.replace("{{HEIGHT}}",this.vn[1]),r[a].ad_url=r[a].ad_url.replace("{{CACHEBUSTER}}",Date.now()),r[a].ad_url=r[a].ad_url.replace("{{ENCODED_URL}}",encodeURIComponent(location.href)),r[a].ad_url=r[a].ad_url.replace("{{SCHAIN}}","1.0,1!vdo.ai,"+this.Jt.pubId_vdo+",1");else if(r[a].ad_url.indexOf("doubleclick.net")>=0)r[a].ad_url.indexOf("vad_type")>0?r[a].ad_url=r[a].ad_url.replace(/(vad_type=)[^\&]+/,"$1linear"):r[a].ad_url+="&vad_type=linear";else if(r[a].ad_url.indexOf("one.elitebidder.com")>=0)r[a].ad_url=r[a].ad_url.replace("[bm_width]",this.vn[0]),r[a].ad_url=r[a].ad_url.replace("[bm_height]",this.vn[1]),r[a].ad_url=r[a].ad_url.replace("[bm_country]",this.Jt.country),r[a].ad_url=r[a].ad_url.replace("[bm_ua]",encodeURIComponent(navigator.userAgent));else if("adswizz"==r[a].partner){let t=new RegExp("cb=[0-9]+").exec(r[a].ad_url);t&&(r[a].ad_url=r[a].ad_url.replace(t[0],"cb="+Date.now()))}else if(r[a].ad_url.includes("ads.stickyadstv.com")){let t=new RegExp("playerSize=.*?&"),i=t.exec(r[a].ad_url);if(!i){i=new RegExp("playerSize=.*").exec(r[a].ad_url)}let e=this.vn.join("x");i&&i[0]?r[a].ad_url=r[a].ad_url.replace(i[0],"playerSize=".concat(e)):r[a].ad_url+="&playerSize=".concat(e),t=new RegExp("loc=.*?&"),i=t.exec(r[a].ad_url);let s="loc=".concat(encodeURIComponent(location.href),"&");i||(t=new RegExp("loc=.*"),i=t.exec(r[a].ad_url),s="&loc=".concat(encodeURIComponent(location.href))),i&&i[0]?r[a].ad_url=r[a].ad_url.replace(i[0],s):r[a].ad_url+=s}if(r[a].ad_url.indexOf("iu=/60345044/RTB-Experts_TOP")>=0&&(r[a].ad_url=r[a].ad_url.replace("%5Bplaceholder%5D",this.Jt.domain)),st(r[a].partner,this.Jt.country,this.Jt.targeting[this.Ci],this.fe,this.Wt,n))if("google_mcm"==r[a].partner||"google_mcm_apac"==r[a].partner||"google"==r[a].partner){if("google_mcm_apac"==r[a].partner){var h=new URLSearchParams(r[a].ad_url).get("cust_params");if(!h||!h.includes("upr")){var u=new RegExp("([?&])cust_params=.*?(&|$)","i"),d=-1!==r[a].ad_url.indexOf("?")?"&":"?";h?h+="&upr=GOPT":h="upr=GOPT",r[a].ad_url.match(u)?r[a].ad_url=r[a].ad_url.replace(u,"$1cust_params="+encodeURIComponent(h)+"$2"):r[a].ad_url=r[a].ad_url+d+"cust_params="+encodeURIComponent(h)}}this.Co.push(r[a])}else r[a].partner.toLowerCase().includes("direct")?this.Mo.push(r[a]):this.Io.push(r[a])}}this.Mo.length&&(this.Mo.currentIndex=0);let N=[];this.Co.forEach((t=>{N.includes(t.partner)||N.push(t.partner)})),1==N.length&&(this.Jt.vast_ad_gap=Math.max(5,this.Jt.vast_ad_gap)),this.To=JSON.parse(JSON.stringify(this.Co)),this.Ye=!1,this.Qe=!1;var c=!1;for(var o in this.qe={},this.Xe={},this.Jt.bidders)if(this.Jt.bidders.hasOwnProperty(o)&&null!=this.Jt.bidders[o]){if(this.Jt.bidders[o].hasOwnProperty("bids")){this.Jt.bidders[o].bids=this.Nr(this.Jt.bidders[o].bids);var v=this.Jt.bidders[o].bids}this.Jt.bidders[o].hasOwnProperty("banner")&&null==this.Jt.bidders[o].banner&&(this.ue||Y("error","missing_placement",null,this.Jt,this.Ro),this.Jt.bidders[o].banner={prebid:[],amazon:[]}),this.Jt.bidders[o].banner=this.Jt.bidders[o].banner||{},this.Jt.bidders[o].banner.hasOwnProperty("prebid")&&(this.Jt.bidders[o].banner.prebid=this.Nr(this.Jt.bidders[o].banner.prebid));var f=this.Jt.bidders[o].banner.prebid,p=this.Jt.bidders[o].banner.amazon||[];this.Jt.bidders[o].bids=et(v,this.Jt.country,this.Wt,this.Jt.targeting[this.Ci],this.fe,n),this.Jt.bidders[o].banner.prebid=et(f,this.Jt.country,this.Wt,this.Jt.targeting[this.Ci],this.fe,n),this.Jt.bidders[o].banner.amazon=et(p,this.Jt.country,this.Wt,this.Jt.targeting[this.Ci],this.fe,n),location.href.indexOf("vdo.ai")>=0&&(this.Jt.bidders[o].bids=this.Jt.bidders[o].bids.filter((function(t){return-1==t.bidder.indexOf("_atlas")&&-1==t.bidder.indexOf("_WC")&&"appnexus_companion"!=t.bidder&&-1==t.bidder.indexOf("_adsolut")&&-1==t.bidder.indexOf("_jj")&&-1==t.bidder.indexOf("_HS")})),this.Jt.bidders[o].banner.prebid=this.Jt.bidders[o].banner.prebid.filter((function(t){return-1==t.bidder.indexOf("_atlas")&&-1==t.bidder.indexOf("_WC")&&"appnexus_companion"!=t.bidder&&-1==t.bidder.indexOf("_adsolut")&&-1==t.bidder.indexOf("_jj")&&-1==t.bidder.indexOf("_HS")}))),this.Jt.bidders[o].bids&&this.Jt.bidders[o].bids.length&&(this.Jt.bidders[o].bids.forEach((t=>{if(Vt.indexOf(t.bidder)>=0){var i=t.bidder.toLowerCase().replace("_apac","");-1==t.bidder.indexOf("_apac")?this.qe[i]="true":this.Xe[i]="true"}})),this.Jt.bidders[o].bids=this.Jt.bidders[o].bids.filter((function(t){return-1==Vt.indexOf(t.bidder)}))),(this.Jt.bidders[o].bids.length||this.Jt.bidders[o].banner.prebid.length)&&(this.Ye=!0),this.Jt.bidders[o].banner.amazon.length&&(this.Qe=!0),c||(c=this.Jt.bidders[o].bids.some((function(t){return"amazon"==t.bidder})))}else this.Jt.bidders[o]={banner:{},bids:[]},this.ue||Y("error","missing_placement",null,this.Jt,this.Ro);if(c){this.Qe=!0,this.be="content-floating"==this.Rr("unitType")&&this.Jt.amzn_dual_player;let t={slotID:"videotest",mediaType:"video"};if(c)for(a=1;a<5;a++)t.slotID="videotest_".concat(a),this.tn.push(JSON.parse(JSON.stringify(t))),t.slotID="outstream_test".concat(a),this.tn.push(JSON.parse(JSON.stringify(t)))}for(var o in this.Ur([]),this.Jt.bidders)if(this.Jt.bidders.hasOwnProperty(o)){v=this.Jt.bidders[o].bids;var m=this.Pr();v&&v.length&&(v=v.map((function(t){return"appnexus_companion"==t.bidder?t.bidder="yahoossp":"xapads"==t.bidder&&(t.params.host=m),t})),this.Jt.bidders[o].bids=v),(f=this.Jt.bidders[o].banner&&this.Jt.bidders[o].banner.prebid)&&f.length&&(f=f.map((function(t){return"appnexus_companion"==t.bidder?t.bidder="yahoossp":"xapads"==t.bidder&&(t.params.host=m),t})),this.Jt.bidders[o].banner.prebid=f)}if(this.Jt.targeting[this.Ci]&&this.Jt.targeting[this.Ci].appnexus_companion&&(this.Jt.targeting[this.Ci].yahoossp=this.Jt.targeting[this.Ci].appnexus_companion),window.vdo_ai_.logCampaignClick[this.Jt.unitId]=()=>{Z("zee5_click","ga",null,null,this.Jt,this.ti,this.ii,this.ei,this.si,this.ni,this.oi)},this.xn&&(this.Jt[this.Ci].unitType="content"),this.hi=document.getElementById(this.Jt.unitId),null==this.hi&&("yes"==this.Jt.auto_override_placement||"floating"==this.Rr("unitType"))){var g=document.createElement("div");g.id=this.Jt.unitId,document.body.appendChild(g),this.hi=document.getElementById(this.Jt.unitId),this.Jt[this.Ci].unitType="floating"}if(void 0===this.Jt.show_on_ad&&(this.Jt.show_on_ad=!0),Ft[this.Wt]&&"desktop"==this.Ci&&(this.Jt.show_on_ad=!1),top!=self&&window.innerWidth>1&&"v-rediff"!=this.Wt||!this.Jt.show_on_ad?this.hi.style.display="block":this.hi.style.display="none",this.hi.classList.add("vdo_video_unit"),document.getElementById(this.Jt.parent_div)&&"floating"!=this.Rr("unitType")){var A;for(let t=0;t<window.vdo_ai_.ids.length;t++){const i=window.vdo_ai_.ids[t].parentId.split("-");window.vdo_ai_.ids[t].parentId.replace("-".concat(i[i.length-1]),"")==this.Jt.realParentDiv&&(A=t)}this.Jt.parent_div=window.vdo_ai_.ids[A].parentId;var b=document.getElementById(this.Jt.parent_div);if(this.ji=b,this.Jt.dual_player&&this.Jt[this.Ci].float_only_on_ads){let t=b.parentNode.querySelector("div");this.xi=t,t.id==this.Jt.parent_div&&(this.ki=!0)}if(this.Jt.unitId,"isSecondaryTag - ".concat(this.ki),"carousel"==this.Jt.tagType){this.Cn=b.clientWidth<4*(this.Jt[this.Ci].height*(9/16)+12);var y=document.createElement("vdo");if(y.id="vdo_articles_top_bar",y.style.padding="5px 0px",this.Cn||(y.style.width=4*(this.Jt[this.Ci].height*(9/16)+12)+"px",y.style.margin="0 auto"),y.innerHTML='<p>Sponsored Links by <a href="https://vdo.ai/?utm_campaign='+this.Wt+'&utm_medium=recirculation&utm_source=vdoai_carousel" target="_blank">VDO.AI</a></p>',b.appendChild(y),"mobile"==this.Ci){let t=document.createElement("style");t.innerHTML=".vdo_carousel_image_item .vdo_carousel_title{bottom: 0;top: unset !important;}",document.body.appendChild(t)}this.Cn?(this.Jt.width=(b.clientWidth-12)/2,this.Jt.height=this.Jt.width*(16/9)):(this.Jt.width=this.Jt[this.Ci].height*(9/16),this.Jt.height=this.Jt[this.Ci].height),this.Jt[this.Ci].width=this.Jt.width,this.Jt[this.Ci].height=this.Jt.height,this.Jt[this.Ci].autoResize=!1}this.Tn=document.getElementById("unitDivWrapper-"+A),this.Tn||(this.Tn=document.createElement("vdo"),this.Tn.id="unitDivWrapper-"+A);var w=document.getElementById(this.Jt.unitId);let t=this.Jt.custom_title;if(t){let i=document.createElement("style"),e=this.Jt.unitId+"_custom_title",s="#"+e+"{display:none;text-align: center; padding: 0 !important; margin: 0 auto; width : "+(this.Jt[this.Ci].width+"px;")+"}";i.innerHTML=s,document.body.appendChild(i),document.getElementById(e)&&document.getElementById(e).remove();let n=document.createElement("p");n.id=e,n.innerText=t,n.classList.add("vdo_custom_title"),b.insertAdjacentElement("afterbegin",n)}b.appendChild(w);var _=document.getElementById("parentDiv"+A);_||((_=document.createElement("vdo")).id="parentDiv"+A),this.Tn.style.height="0px",this.Cn&&(this.Tn.style.flexDirection="column");var j=document.querySelector("#"+this.Jt.parent_div)&&document.querySelector("#"+this.Jt.parent_div).querySelectorAll("#"+this.Jt.unitId);if(j&&j.length>1&&j[0].remove(),_.appendChild(this.Tn),b.appendChild(_),this.Cn&&"carousel"==this.Jt.tagType){var x=document.createElement("vdo");x.classList.add("vdo_carousel_mobile_div"),x.appendChild(document.getElementById(this.Jt.unitId)),this.Tn.appendChild(x)}else this.Tn.appendChild(document.getElementById(this.Jt.unitId));window.vdo_ai_.ids[A].unitId=this.Jt.unitId,window.vdo_ai_.ids[A].unitWrapper=this.Tn.id}if(Z("initVdo",null,null,null,this.Jt,this.ti,this.ii,this.ei,this.si,this.ni,this.oi),!window.vdo_ai_.records[this.Jt.unitId].vdo_ai_unload_event_added){const t=()=>{window.vdo_ai_.records[this.Jt.unitId].ad_request_temp.length&&Z("ad_request","pixel",window.vdo_ai_.records[this.Jt.unitId].ad_request_temp,null,this.Jt,this.ti,this.ii,this.ei,this.si,this.ni,this.oi),window.vdo_ai_.records[this.Jt.unitId].ad_request_temp=[]};window.addEventListener("beforeunload",t),window.addEventListener("pagehide",t),window.vdo_ai_.records[this.Jt.unitId].vdo_ai_unload_event_added=!0}if(document.cookie.indexOf("vdo_engagement_start")>=0&&!window.vdo_ai_.records.PV_generated&&(window.vdo_ai_.records.PV_generated=!0,Y("generated_pvs_on_article",null,null,this.Jt,this.Ro),Z("PV_generated","ga",null,null,this.Jt,this.ti,this.ii,this.ei,this.si,this.ni,this.oi)),!this.Rr("dispose_off")){var k=document.createElement("style");k.innerHTML=".vdo_content #cross_div{display: none !important;}",document.body.appendChild(k)}if(this.dr[this.Jt.country]||(this.dr[this.Jt.country]=.8),null!=this.dr[this.Jt.country]&&(this.kn=this.dr[this.Jt.country],this.En=this.dr[this.Jt.country],this.Sn=this.dr[this.Jt.country]),this.vr[this.Wt])(E=this.vr[this.Wt][this.Jt.country])&&(this.kn=E,this.En=E,this.Sn=E);if("v-informazionefiscale-it"==this.Wt&&(this.Jt.fPrice=4.8),void 0!==this.Jt.fPrice&&this.Jt.fPrice){var E=parseFloat(this.Jt.fPrice);this.kn=E,this.En=E,this.Sn=E}if(top!=self&&(this.$o=!0),q[this.Wt]){var S=this.jr(this.Jt.bidders[0],this.Jt.waterfallTags[0]);this.Jt.bidders[0]=S.bidders,this.Jt.waterfallTags[0]=S.waterfalls}this.Jt.controlBar={volumePanel:{inline:!1,vertical:!0}};var T=navigator.userAgent.toLowerCase(),C=/safari/.test(T),I=/iphone/.test(T),M=/ipad/.test(T);(I||M)&&(this.Je=!0,this.Jt.audiojk=0),this.Jt.canAutoplayCheck=!0,this.Jt.unitId,this.Jt.canAutoplayCheck;const R=/OS (\d+)_(\d+)/,U=navigator.userAgent.match(R);let P=1/0;if(U&&U[1]&&(P=Number(U[1])),this.Jt.canAutoplayCheck&&I&&P<10&&!C){var D=this;return l.video({inline:!0,muted:!0,timeout:1e3}).then((function(t){!0===t.result?(D.Jt.unitId,D.Or()):(D.Jt.unitId,Z("blocked_inline",null,null,null,D.Jt,D.ti,D.ii,D.ei,D.si,D.ni,D.oi),D.ln=!0,D.Or())})),!1}if("undefined"!=typeof google&&google.ima)null!=vdo_ai_[this.Jt.unitId]?(this.Lr(vdo_ai_[this.Jt.unitId],(()=>{this.Jt.id="vdo_ai_"+Math.ceil(9999999*Math.random()),this.Or()})),this.Jt.unitId):this.Or();else{for(var o in this.Jt.unitId,this.Cs=!0,this.Jt.waterfallTags={},this.Jt.vast={},this.Co=[],this.Io=[],this.Jt.bidders)this.Jt.bidders.hasOwnProperty(o)&&(this.Jt.bidders[o].bids=[]);this.Jt.unitStyle="single",this.Or()}}catch(t){this.Jt.unitId,encodeURIComponent(t.getMessage()),this.Wt,btoa(t.getMessage()),G(t,"startVdo",this.Wt);var B={send_to:this.ni,event_category:"VDOError",event_label:window.vdo_ai_.version};Lt("event","Err:"+btoa(t.getMessage()).substr(0,10),B),Y("error",btoa(t.getMessage()).substr(0,10),null,this.Jt,this.Ro)}this.zr("playerStart")}Or(){var t,e;if(this.ar=!1,this.Sr(!0),this.Fr(),window.vdo_ai_[this.Jt.unitId]&&window.vdo_ai_[this.Jt.unitId].handleUrlChange&&(t=window.vdo_ai_[this.Jt.unitId].handleUrlChange),window.vdo_ai_[this.Jt.unitId]&&window.vdo_ai_[this.Jt.unitId].ivHandlersTaboola&&(e=window.vdo_ai_[this.Jt.unitId].ivHandlersTaboola),vdo_ai_[this.Jt.unitId]={},vdo_ai_[this.Jt.unitId].id=this.Jt.id,t&&(window.vdo_ai_[this.Jt.unitId].handleUrlChange=t),e&&(window.vdo_ai_[this.Jt.unitId].ivHandlersTaboola=e),this.Zt=null,this.Bo=Date.now(),1==this.Rr("show")){this.Jt.unitId,this.Ci,this.Rr("smallWidth")||(this.Jt.desktop.smallWidth=498,this.Jt.mobile.smallWidth=333),this.Rr("smallHeight")||(this.Jt.desktop.smallHeight=280,this.Jt.mobile.smallHeight=250),this.Rr("height")||(this.Jt[this.Ci].height=280),this.Rr("width")||(this.Jt[this.Ci].width=498),this.Rr("unitType")||(this.Jt[this.Ci].unitType="floating"),this.Rr("parent_div")||(this.Jt[this.Ci].parent_div="vdo_ai_div"),void 0===this.Jt.tagType&&(this.Jt.tagType="video"),void 0===this.Jt[this.Ci].belowBanner&&(this.Jt[this.Ci].belowBanner=!0),void 0===this.Jt[this.Ci].companionOff&&(this.Jt[this.Ci].companionOff=!1),void 0===this.Jt[this.Ci].bannerOff&&(this.Jt[this.Ci].bannerOff=!1),void 0===this.Jt.showLogo&&(this.Jt.showLogo=!0),void 0===this.Jt.showDemoAdsVideo&&(this.Jt.showDemoAdsVideo=!1),void 0===this.Jt.showOnlyOnAd&&(this.Jt.showOnlyOnAd=!1),void 0===this.Jt.playAdsOnly&&(this.Jt.playAdsOnly=!1),void 0===this.Jt.showGreyOverlay&&(this.Jt.showGreyOverlay=!1),void 0===this.Jt.enableCrossButton&&(this.Jt.enableCrossButton=!1),void 0===this.Jt.disposeOnSkip&&(this.Jt.disposeOnSkip=!1),void 0===this.Jt.exposeClickTag&&(this.Jt.exposeClickTag=!1),void 0===this.Jt.dispose_off_in_floating&&(this.Jt.dispose_off_in_floating=!1),this.Jt.max_ad_breaks||(this.Jt.max_ad_breaks=6),this.Jt.unitStyle||(this.Jt.unitStyle="single"),this.Ms=this.Jt[this.Ci].float_only_on_ads,"floating"===this.Jt[this.Ci].unitType&&this.Ms&&(this.Jt.show_on_ad=!0,this.Jt.playAdsOnly=!0,this.hi.style.display="none"),void 0===this.Jt.autoplay_player&&(this.Jt.autoplay_player=!1),this.Rr("dispose_off")&&(this.Jt.dispose_off_in_floating=!0),"timesofindia-indiatimes"!=this.Wt&&"v-timesofindia-indiatimes"!=this.Wt||(this.Jt.dispose_off_in_floating=!1);["ibv-manorama2","montestv9","v-montest-v60_et"].indexOf(this.Wt)>=0&&(this.Jt.exposeClickTag=!0);var s=[];if(void 0===this.Jt.customPlacementCode&&(this.Jt.customPlacementCode=!1),"v-gulfnews-v2"==this.Wt&&(this.Jt.customPlacementCode="var parentToAppend = document.querySelectorAll('.article-body > .story-block')[1] || document.querySelectorAll('.article-body > div')[2];var parentToAppend2 = document.querySelectorAll('.sc-container .top-story')[0];if (document.querySelector(`[data-page*='${window.location.pathname}']`) && !document.querySelector(`[data-page*='${window.location.pathname}'] .article-body .gallery-item`)) {var urlMatchedOnScroll = document.querySelectorAll(`[data-page*='${window.location.pathname}'] .article-body > .story-block`)[1];urlMatchedOnScroll.insertAdjacentElement('afterend', arguments[0]);} else if (parentToAppend) {parentToAppend.insertAdjacentElement('afterend', arguments[0]);} else if (parentToAppend2) {parentToAppend2.insertAdjacentElement('beforebegin', arguments[0]);}"),"v-deccanherald"==this.Wt&&(this.Jt.customPlacementCode="var parentToAppend1 = document.querySelectorAll('.field-items .field-item.even p')[0] || document.querySelectorAll('.field-items .field-item.even p')[1];var parentToAppend2 = document.querySelectorAll('.article-title.parent-relative .strap-heading-wrapper h1')[0];if (document.querySelector(`[data-io-article-url*='${window.location.pathname}']`)) {var urlMatchedOnScroll = document.querySelectorAll(`[data-io-article-url*='${window.location.pathname}'] .field-item.even p`)[0];urlMatchedOnScroll.insertAdjacentElement('afterend', arguments[0]);} else if (parentToAppend1) {parentToAppend1.insertAdjacentElement('afterend', arguments[0]);} else if (parentToAppend2) {parentToAppend2.insertAdjacentElement('afterend', arguments[0]);}"),"v-skynewsarabia"==this.Wt&&(this.Jt.customPlacementCode="var parentToAppend = document.querySelectorAll('.article.article-content .article-body .body-div-for-inread > p')[0] || document.querySelectorAll('.article.article-content .article-body #firstBodyDiv > p')[0]; var parentToAppend1 = document.querySelector('.article-container .article.article-content .article-body'); if (document.querySelector(`[data-url-vdo-content*='${window.location.pathname}']`)) { var urlMatchedOnScroll = document.querySelectorAll(`[data-url-vdo-content*='${window.location.pathname}'] .body-div-for-inread > p`)[0]; urlMatchedOnScroll.insertAdjacentElement('afterend', arguments[0]); } else if (parentToAppend) { parentToAppend.insertAdjacentElement('afterend', arguments[0]); } else if (parentToAppend1) { parentToAppend1.insertAdjacentElement('afterend', arguments[0]);}"),"v-gamesadda-in"==this.Wt&&(this.Jt.customPlacementCode="var parentToAppend = document.querySelectorAll('.single-post-content > p')[2] || document.querySelectorAll('.single-post-content > p')[3]; if (document.querySelector(`[data-url-vdo-content*='${window.location.pathname}']`)) { var urlMatchedOnScroll = document.querySelectorAll(`[data-url-vdo-content*='${window.location.pathname}'] .single-post-content > p`)[2]; urlMatchedOnScroll.insertAdjacentElement('afterend', arguments[0]); } else if (parentToAppend) { parentToAppend.insertAdjacentElement('afterend', arguments[0]);}"),"v-devdiscourse-v2"==this.Wt&&"mobile"==this.Ci&&(this.Jt.customPlacementCode="var parentToAppend = document.querySelectorAll('article .article-cont > p')[2] || document.querySelectorAll('article .article-cont > p')[1]; if (document.querySelectorAll(`section:not([data-url-vdo-content])[class^=article-cont]`)) { document.querySelectorAll(`section:not([data-url-vdo-content])[class^=article-cont]`)[0].setAttribute('data-url-vdo-content', window.location.pathname); var urlMatchedOnScroll = document.querySelectorAll(`[data-url-vdo-content*='${window.location.pathname}'] > p`)[2]; urlMatchedOnScroll.insertAdjacentElement('afterend', arguments[0]); } else if (parentToAppend) { parentToAppend.insertAdjacentElement('afterend', arguments[0]);}"),"v-etvbharat"==this.Wt&&(this.Jt.customPlacementCode="var parentToAppend1 =document.querySelectorAll('.text-base .content > p')[1] || document.querySelectorAll('.text-base .content > p')[0]; if (document.querySelectorAll(`div:not([data-url-vdo-content])[class^=text-base]`)) { try { document.querySelectorAll(`div:not([data-url-vdo-content])[class^=text-base]`)[0].setAttribute('data-url-vdo-content', window.location.pathname);} catch(e) {}; var urlMatchedOnScroll = document.querySelectorAll(`[data-url-vdo-content*='${window.location.pathname}'] .content > p`)[1]; urlMatchedOnScroll.insertAdjacentElement('afterend', arguments[0]); }else if (parentToAppend1) { parentToAppend1.insertAdjacentElement('afterend', arguments[0]); }"),"v-businessinsider-in"==this.Wt&&(this.Jt.customPlacementCode="var parentToAppend1=document.querySelectorAll('.Cms-den .Normal br')[3];if(document.querySelectorAll(`div:not([data-url-vdo-content])[class~=Cms-den]`)){try{document.querySelectorAll(`div:not([data-url-vdo-content])[class~=Cms-den]`)[0].setAttribute('data-url-vdo-content',window.location.pathname)}catch(e){}var urlMatchedOnScroll=document.querySelectorAll(`[data-url-vdo-content*='${window.location.pathname}'] .Normal br`)[3];urlMatchedOnScroll.insertAdjacentElement('beforebegin',arguments[0])}else if(parentToAppend1){parentToAppend1.insertAdjacentElement('beforebegin',arguments[0])}"),[].indexOf(this.Wt)>-1&&(this.Jt.enableCrossButton=!0),this.Jt.playAdsOnly&&s.push(this.Wt),s.indexOf(this.Wt)>-1&&(this.Jt.showOnlyOnAd=!0,this.Jt.playAdsOnly=!0),void 0===this.Jt.setBackgroundOverlay&&(this.Jt.setBackgroundOverlay=!1),"ibv-manoramaonline-test"==this.Wt&&(this.Jt.setBackgroundOverlay=!0),this.Jt.showOnlyOnAd&&(this.Jt.show_on_ad=!0),this.Jt.freqCap=Number(this.Jt.freqCap),!this.Jt.freqCap||!Number.isInteger(this.Jt.freqCap)||ti.includes(this.Jt.domain)&&"IN"!=this.Jt.country||(this.js=Math.min(5,this.Jt.freqCap)),(this.Jt.showOnlyOnAd||this.js)&&(this.Jt.showGreyOverlay=!0),this.Jt.urlChange||(this.Jt.urlChange={}),this.Jt.urlChange.timeout||(this.Jt.urlChange.timeout=10),void 0===this.Jt.urlChange.recordPv&&(this.Jt.urlChange.recordPv=!1),this.Jt.customPlacementCode&&(this.Jt.urlChange.recordPv=!0),this.Wo=void 0===this.Jt.close_after_first_ad_timer?0:1e3*this.Jt.close_after_first_ad_timer,void 0===this.Jt.autoReplay&&(this.Jt.autoReplay=!0),void 0===this.Jt.replayOnlyOnEnded&&(this.Jt.replayOnlyOnEnded=!1),"v-20il-co-il"===this.Wt&&(this.Jt.replayOnlyOnEnded=!0),"jagranv2"==this.Wt&&(this.Jt.autoReplay=!1),this.Jt.hls=!0,this.Jt.hls&&delete this.Jt.sources,this.Rr("media_url")||(this.Jt.media_url="https://s.vdo.ai/media_file/".concat(this.Jt.tagName,"/source/")),this.Jt.height=this.Rr("height"),this.Jt.width=this.Rr("width"),this.Jt.smallHeight=this.Rr("smallHeight"),this.Jt.smallWidth=this.Rr("smallWidth"),this.Jt.unitType=this.Rr("unitType"),"floating"!=this.Jt.unitType){this.Ii=document.getElementById(this.Jt.parent_div),this.ai="#"+this.Tn.id,"content-floating"==this.Jt.unitType&&i().threshold(.75),this.Ii.style.marginLeft="0px";var n=this.Gr(this.Ii.parentNode,"padding-left")+this.Gr(this.Ii.parentNode,"padding-right"),o=this.Gr(this.Ii.parentNode,"padding-top")+this.Gr(this.Ii.parentNode,"padding-bottom"),r=parseFloat(getComputedStyle(this.Ii.parentNode).width)-n,a=this.Ii.parentNode.clientHeight-o;if(r<this.Jt.width&&r>336&&(this.Jt[this.Ci].autoResize=!0),this.Jt[this.Ci].autoResize&&this.Hr(r,a),Ft[this.Wt]&&"desktop"==this.Ci&&(this.Jt.width=656,this.Jt.height=369,!this.Zo&&r>=this.Jt.width+180&&this.Jt.height>=360&&(ut(this.Ii,Ft[this.Wt]),this.Ii.style.display="flex",this.Ii.style.justifyContent="center",this.Ii.style.flexWrap="wrap",this.Zo=!0)),"gallery"==this.Jt.unitStyle&&r>500){var h=this.Jt.width;h=Math.min(.2*r,150);var l=this.Jt.width+h+5>r?r-h-5:this.Jt.width;if(h/(16/9)*this.Jt.content_sources.length>l/(16/9)-30&&(this.Jt.width=l,this.Vr("width"),!this.qo)){this.Tn.style.width=this.Jt.width+h+5+"px",this.Tn.style.margin="0 auto",this.Tn.style.display="flex";var u=this;this.qo=function(t,i,e,s){let n=document.createElement("div");n.id="vdo_playlist_gallery_wrapper",vt=n,n.style.display="none";var o=[];return i.forEach((function(t,i){var r=document.createElement("div");r.classList.add("vdo_playlist_item"),r.style.width=e+"px",n.appendChild(r);var a=document.createElement("img");a.src=t.img||"https://upload.wikimedia.org/wikipedia/commons/7/7c/Aspect_ratio_16_9_example.jpg",o.push(new Promise((function(t,i){a.addEventListener("load",t),a.addEventListener("error",(function t(){a.removeEventListener("error",t),a.src=a.src.replace(/[a-z0-9]+\.vdo.ai/i,"s.vdo.ai")}))}))),r.appendChild(a);var h=document.createElement("div");h.classList.add("vdo_playlist_play"),h.innerHTML=0==i?pt+mt:ft,r.appendChild(h),gt.push(r),r.addEventListener("click",(function(){var t=this;this.querySelector("#vdo_playlist_current_active")||s(gt.findIndex((i=>i===t)))}))})),Promise.all(o).then((function(){n.style.display="flex"})),{element:n,onTimeUpdate:function(t,i){try{if(t&&!isNaN(i)){var e=t/i;n.querySelector(".vdo_playlist_item.active .vdo_playlist_circle").setAttribute("style","stroke-dashoffset : "+(190-190*e)+"!important;")}else n.querySelector(".vdo_playlist_item.active .vdo_playlist_circle").setAttribute("style","stroke-dashoffset : 190!important;")}catch(t){}}}}(this.Jt.media_url,this.Jt.content_sources,h,(function(t){t>=0&&(u.Fe=t,u.Yr())})),this.Tn.appendChild(this.qo.element)}}if(!this.Jt.show_on_ad)if("floating"!==this.Jt.unitType){var d=this.Rr("crossSize"),c=Math.max(d+2,20);this.Tn.style.height=(this.Jt.height+c||0)+"px"}else this.hi.style.display="block";if("mobile"==this.Ci&&screen.width>667&&("topDock"==this.Rr("leftOrRight").position||"bottomDock"==this.Rr("leftOrRight").position)&&(this.Jt.mobile.leftOrRight=this.Jt.desktop.leftOrRight,this.Jt.mobile.topMargin=this.Jt.desktop.topMargin,this.Jt.mobile.bottomMargin=this.Jt.desktop.bottomMargin),window.vdo_ai_[this.Jt.unitId].ivHandlers=i()("#"+this.Tn.id),window.vdo_ai_[this.Jt.unitId].ivHandlers.check(),this.Jt[this.Ci].taboola_overlap_exception&&this.ys(),this.Rr("belowBanner")&&!this.Jt[this.Ci].companionOff&&"carousel"!=this.Jt.tagType&&!this.In){var v=this.Qr(r);this.Jt.unitId,v[0]&&(this.dn[this.Ci]=v,this.Jr(this.Ii))}}else this.Jt.show_on_ad||(this.hi.style.display="block");if("floating"==this.Rr("unitType")&&this.Jt.show_on_ad&&(this.hi.classList.add("vdo_collapsible_floating"),this.Rr("leftOrRight").position.includes("top")?this.hi.classList.add("vdo_floating_top"):this.hi.classList.add("vdo_floating_bottom")),this.Jt[this.Ci].bannerOff&&(this.Dn=!1),"carousel"!=this.Jt.tagType&&(this.Bn?"desktop"==this.Ci?"content-floating"==this.Rr("unitType")?(this.Jt.height<250||this.Jt.smallHeight<250)&&(Z("banner_blocked_size","ga",null,null,this.Jt,this.ti,this.ii,this.ei,this.si,this.ni,this.oi),this.Dn=!1):"content-floating"!=this.Rr("unitType")&&this.Jt.height<250&&(Z("banner_blocked_size","ga",null,null,this.Jt,this.ti,this.ii,this.ei,this.si,this.ni,this.oi),this.Dn=!1):(this.Jt.width<333||this.Jt.height<250||"content-floating"==this.Rr("unitType")&&this.Jt.smallWidth<333&&this.Jt.smallHeight<250)&&(Z("banner_blocked_size","ga",null,null,this.Jt,this.ti,this.ii,this.ei,this.si,this.ni,this.oi),this.Dn=!1):this.Wr(),(this.Jt.height<280||"content-floating"==this.Rr("unitType")&&this.Jt.smallHeight<280||"mobile"==this.Ci&&(this.Jt.width<336||"content-floating"==this.Rr("unitType")&&this.Jt.smallWidth<336))&&this.Zr()),void 0===this.Rr("cancelTimeoutType")&&(this.Jt[this.Ci].cancelTimeoutType={},this.Jt[this.Ci].cancelTimeoutType.allow=!0),0==this.Jt[this.Ci].cancelTimeoutType.allow&&void 0!==this.Jt[this.Ci].cancelTimeoutType.allow||this.qr(),this.xn){var f=parseInt(window.innerHeight),p=parseInt(window.innerWidth);if(!(p>=288&&f>=162))return void this.Jt.unitId;document.body.style.backgroundColor="#e0e0e0",parseInt(p/(16/9))>f?(this.Jt.height=f-10,this.Jt.width=parseInt(this.Jt.height/(9/16))):(this.Jt.width=p-10,this.Jt.height=parseInt(this.Jt.width/(16/9)));var m=document.createElement("style");m.innerHTML="#"+this.Jt.unitId+"{top: 50%;left: 50%;transform: translate(-50%, -50%);position: absolute !important;margin: 0px !important;box-shadow: 0px 2px 5px rgba(0,0,0,0.3);}",document.body.appendChild(m)}if(null==this.Rr("unitType"))this.Jt[this.Ci].unitType="floating",this.Xr();else switch(this.Rr("unitType")){case"floating":this.Xr();break;case"content":this.pi()}this.Jt.vast_ad_gap&&this.Jt.vast_ad_gap>=3&&this.Jt.vast_ad_gap<=30&&(this.Pi=1e3*this.Jt.vast_ad_gap),this.eo=!(this.Jt[this.Ci].bannerOff||"true"!==this.Jt.allowed||!this.Wn.length||!(this.Jt.nonLinearBanner.gtr.include&&this.Jt.nonLinearBanner.gtr.include.includes(this.Jt.country)||this.Jt.nonLinearBanner.gtr.exclude&&!this.Jt.nonLinearBanner.gtr.exclude.includes(this.Jt.country))||!this.Jt.google_mcm||this.Jt.showOnlyOnAd),"floating"!=this.Jt.unitType&&(this.so=!(this.Jt[this.Ci].bannerOff||"true"!=this.Jt.allowed||!this.vo.length||!this.fo.includes(this.Jt.country)||this.Jt.showOnlyOnAd)),this.pn=this.cn[this.Ci].find((t=>t[0]<=this.Jt.width&&t[1]<=this.Jt.height)),1===this.pn[0]&&1===this.pn[1]&&(this.pn=this.cn[this.Ci][this.cn[this.Ci].length-2]),this.qi=this.Dr();var g=document.getElementById("vdo_ai_duo_player");g&&(g.style.height=this.Tn.style.height),this.Kr()}else this.Jt.unitId,this.Ci,Z("blocked_device",null,null,null,this.Jt,this.ti,this.ii,this.ei,this.si,this.ni,this.oi);"content-floating"===this.Jt.unitType&&(this.Ms&&(this.Jt.float_after_cross_click=!0,this.pe||(this.Oi=!0),this.ui=!0),this.Jt.dual_player&&(this.Xo=this.$r.bind(this),window.addEventListener("vdo_ai_check_to_ad_float",this.Xo))),this.Ao=15*this.Jt.height/100}Hr(t,i){if(self!==top&&("vdo_test"!=this.Wt||location.href.indexOf("mode=fullscreen")>=0)){document.body.style.margin="0px",document.body.style.overflow="hidden",document.body.setAttribute("style","margin: 0px; border: none;"),this.Jt[this.Ci].companionOff=!0;let t=window.innerHeight,i=window.innerWidth;t>i?(this.Jt.width=this.Jt.overflow_size?i:i>640?640:i,this.Vr("width")):(this.Jt.height=this.Jt.overflow_size?t:t>360?360:t,this.Vr("height"),this.Jt.width>i&&(this.Jt.width=this.Jt.overflow_size?i:i>640?640:i,this.Vr("width")))}else t&&t>=100&&t<=800?(this.Jt.width=t,this.Vr("width")):t&&t>800&&(this.Jt.width=this.Jt.overflow_size?t:800,this.Vr("width"))}Vr(){var t,i;if((this.Jt.showLogo||this.Jt[this.Ci].dispose_off)&&(this.Jt.height=this.Jt.height-this.Jt[this.Ci].crossSize),this.Jt.custom_title){var e=document.getElementById("".concat(this.Jt.unitId,"_custom_title"));if(e){e.style.display="block";var s=e.offsetHeight;this.Jt.height=this.Jt.height-s,e.style.display="none"}}i=Math.max(this.Jt.width,256),i=Math.min(i,720),t=Math.round(9*i/16),this.Jt.height>0&&(t>this.Jt.height?this.Jt.height<144?(t=144,i=256):(t=Math.round(Math.min(this.Jt.height,405)),i=Math.round(16*t/9)):t>405&&(t=405,i=720)),this.Jt.width=Math.floor(i),this.Jt.height=Math.floor(t)}async Kr(){this.Jt.unitId;var t=this;window.location.href.indexOf("debug_mode=2")>0?(this.Ti=!0,this.Ko=!0):window.location.href.indexOf("sample_vdo_mode")>0?(this.Ti=!1,this.Ko=!0):window.location.href.indexOf("debug_mode=1")>0?this.Ti=!0:this.Ti=!1,this.Ti=!1;this.Jt.pubId;Promise.all([this.ta("//a.vdo.ai/core/assets/player/vdo.player.js","_vdo_ads_videojs_5654_"),this.ta("//a.vdo.ai/core/assets/rtb_v7.45.0.js","_vdo_ads_pbjs_5654_"),qt.includes(this.Jt.tagName)?this.ta("//a.vdo.ai/core/assets/comscore.js","_vdo_ads_pbjs_5654_"):Promise.resolve(),this.Jt.dfp_companion||this.eo||this.so?this.ta("//securepubads.g.doubleclick.net/tag/js/gpt.js","_vdo_ads_gptjs_5654_"):Promise.resolve(),this.ia(),this.ea()]).then((()=>{"carousel"!=this.Jt.tagType||Object.keys(this.Jt.waterfallTags).length>0?this.sa||(this.na(),this.Uo||this.oa(),this.ra(),qt.includes(this.Jt.tagName)&&(window.analytics?this.aa(window.vdo_ai_.records[this.Jt.unitId].comscoreSA):this.ha()),this.la(this.Jt.unitId)):(Z("pageview",null,null,null,this.Jt,this.ti,this.ii,this.ei,this.si,this.ni,this.oi),Z("website_pageview",null,null,null,this.Jt,this.ti,this.ii,this.ei,this.si,this.ni,this.oi)),pbjs_vdo.onEvent("auctionEnd",(function(i){var e=[];(t.En||t.Us)&&(i.bidsReceived.forEach((function(i){let s="xapads"==i.bidder?t.Us:t.En;i.cpm<s&&e.push({bidder:i.bidder,mediaType:i.mediaType,size:i.size,internalCPM:s,responseCPM:i.cpm})})),e.length&&Y("bid_reject",e,null,t.Jt,t.Ro))})),this.yo||(this.yo=!0,pbjs_vdo.onEvent("bidRequested",(function(i){for(const s of i.bids)if(s.adUnitCode.includes(t.Jt.unitId)){var e=s.bidder;s.adUnitCode.includes("wc_")&&"yahoossp"!=s.bidder&&!e.includes("_WC")&&(e="".concat(s.bidder,"_WC")),s.adUnitCode.includes("atlas_")&&"appnexus_apac"!=s.bidder&&!e.includes("_atlas")&&(e="".concat(s.bidder,"_atlas")),s.adUnitCode.includes("adsolut_")&&!e.includes("_adsolut")&&(e="".concat(s.bidder,"_adsolut")),s.adUnitCode.includes("hindsight_")&&!e.includes("_HS")&&(e="".concat(s.bidder,"_HS")),s.adUnitCode.includes("jumbojar_")&&!e.includes("_jj")&&(e="".concat(s.bidder,"_jj")),e&&t.da(e)}}))),this.ca()})).catch((function(t){}))}ta(t,i){var e=this;return new Promise((function(s,n){if(t.indexOf("vdo.player.js")>0&&window.vdo_player&&window.vdo_ads)return s();if(t.indexOf("rtb_v7.45.0.js")>0&&window.pbjs_vdo)return s();if(t.includes("gpt.js")&&window.googletag&&googletag._loaded_)return s();if(t.includes("comscore.js")&&window.ns_)return s();var o=document.createElement("script");o.id=i,o.async=!1,o.src=location.protocol+t,document.body.appendChild(o);var r,a=Date.now();t.indexOf("vdo.player.8.0.js")>=0?r="load_vdo.player.js":t.indexOf("rtb_v7.45.0.js")>=0?r="load_rtb_v7.45.0.js":t.indexOf("vdo.player.ads.js")>=0&&(r="load_ads.js"),o.onload=function(){Z("timing_complete","ga",Date.now()-a,r,e.Jt,e.ti,e.ii,e.ei,e.si,e.ni,e.oi),s()},o.onerror=n}))}Wr(){var t=document.createElement("style");t.innerHTML="#"+this.Jt.unitId+" #vdo_banner_frame {position: static!important;} #"+this.Jt.unitId+" #vdo_banner_frame > iframe, #"+this.Jt.unitId+" #vdo_banner_frame > ins {position: static!important;transform:unset!important;}",document.body.appendChild(t)}va(){if(this.Jt.unitId,"content-floating"==this.Rr("unitType")&&(this.Tn.offsetHeight&&!i().is(document.querySelector(this.ai))&&(this.Ui>=.1&&!this.ui||!this.pe||this.Jt.cfvt)?(this.Jt.unitId,this.Ms?this.hi.classList.contains("vdo_content")||this.hi.classList.contains("vdo_floating")||(this.fi(),this.pi()):(this.de?this.Tn.getBoundingClientRect().top<0&&(this.fa(),this.Xr()):(this.fa(),this.Xr()),1!=this.zi?this.pa():this.ma()&&(this.ma().style.display="flex"))):(this.Jt.unitId,this.fi(),this.pi(),this.Jt.show_on_ad||this.ga())),"content-header"==this.Rr("unitType")&&(i().is(document.querySelector(this.ai))||!(this.Di>0)&&this.pe?(this.Jt.unitId,this.pi(),this.ga()):(this.Jt.unitId,this.Aa(),1!=this.zi?this.pa():this.ma()&&(this.ma().style.display="flex"))),"content"==this.Rr("unitType")&&(i().is(document.querySelector(this.ai))?(!this.$o&&this.pe&&(Z("began_atf","ga",null,null,this.Jt,this.ti,this.ii,this.ei,this.si,this.ni,this.oi),Y("began_atf",null,null,this.Jt,this.Ro),this.$e=!0,ct()&&Kt.includes(this.Jt.country)&&this.ba(),this.$o=!0),this.ya()):this.li()),!this.Oi&&"floating"!=this.Jt.unitType){var t=this;window.vdo_ai_[this.Jt.unitId].ivHandlers.handlers&&window.vdo_ai_[this.Jt.unitId].ivHandlers.handlers.enter.length||window.vdo_ai_[this.Jt.unitId].ivHandlers.on("enter",(function(){t.ya.call(t)})).on("exit",(function(){t.li.call(t)}))}this.wa()}_a(){this.tr&&(this.Ui+=(Date.now()-this.tr)/1e3,this.Ui=parseFloat(this.Ui.toFixed(1)),this.tr=null),this.Jt.unitId,this.Ui}ba(){var t=this.Zt.play();t&&t.then((()=>{try{this.ja()&&this.Zt.pause()}catch(t){}})).catch((function(){}))}wa(){i().is(document.querySelector("#".concat(this.Jt.unitId)))&&(this.ir||(this.ir=!0,this.ki&&!this.xa()&&this.ka(),Z("came_in_view","ga",null,null,this.Jt,this.ti,this.ii,this.ei,this.si,this.ni,this.oi),Y("came_in_view",null,null,this.Jt,this.Ro)))}Ea(t){try{if(this.Ns)return;this.Je&&!this.Fo.isAdPlaying()||(t?(this.Fo.adMute=!0,this.Fo.getAdsManager().setVolume(0)):(this.Fo.adMute=!1,this.Fo.getAdsManager().setVolume(.01)))}catch(t){}}ya(){if(this.wa(),"v-herzindagi"==this.Wt||"v-moviesandtv-myvi-in"==this.Wt)try{this.ba(),this.Zt.trigger("play")}catch(t){}this.Oi||(this.Jt.unitId,"onEnterViewport this._isOtherPlayerPlayingAd ".concat(this.xa()),"content-floating"!=this.Jt.unitType&&"content-header"!=this.Jt.unitType||(clearTimeout(this.Si),this.Si=null,this.Jt.show_on_ad&&!this.qt||this.ga(),this.hi.classList.contains("vdo_floating")&&this.xa()?(this.Qt&&this.Fo.isAdPlaying()&&(this.Ei=!0),this.Sa()):this._s&&this.ka(),this.fi(),this.pi(),!this.Li&&this.ma()&&(this.ma().style.display="none"))),"floating"!=this.Jt.unitType&&this.ci&&(this.ci=!1,this.$o=!0,this.pe&&!this.Jt.btfc&&(this.Ms&&(this._s||(this.Oi=!0),this.ui=!0),this.Jt.dual_player&&i().threshold(0),this.Ta()))}li(){if(this.Jt.unitId,"v-herzindagi"==this.Wt||"v-moviesandtv-myvi-in"==this.Wt)try{this.Zt.pause(),this.Zt.trigger("pause")}catch(t){}this.Oi||this.Zt&&(this._a(),this.Jt.unitId,"content-header"==this.Jt.unitType?(this.Ui>=2||!this.pe)&&(this.Aa(),this.fa(),1!=this.zi?this.pa():this.ma()&&(this.ma().style.display="flex")):"content-floating"==this.Jt.unitType&&(this.amazonPlayerPlayingAd||(this.Ui>=.1||!this.pe||this.Jt.cfvt)&&(!this.ui||this.Qt))&&(this.de?this.Tn.getBoundingClientRect().top<0&&(this.fa(),this.Xr()):(this.fa(),this.Xr()),1!=this.zi?this.pa():this.ma()&&(this.ma().style.display="flex")))}Ca(){this.Jt.unitId,window.removeEventListener("locationchange",window.vdo_ai_[this.Jt.unitId].handleUrlChange)}Ia(){this.Jt.unitId;var t=this.Rr("passback").string,i=document.createElement("script");null!=this.Rr("passback").src&&""!=this.Rr("passback").src&&(i.src=this.Rr("passback").src),i.innerHTML=t,this.hi.innerHTML="",this.hi.classList.remove("vdo_floating"),this.hi.appendChild(i),"floating"!=this.Jt.unitType&&(this.Ii.style.height="auto"),this.hi.style.display="block",this.qo&&(this.qo.element.style.display="none"),this.Tn&&(this.Tn.style.height=""),delete vdo_ai_[this.Jt.unitId],Z("passback","both",null,null,this.Jt,this.ti,this.ii,this.ei,this.si,this.ni,this.oi),this.er&&(clearInterval(this.er),this.er=null)}Ma(){this.Jt.unitId,this.Qi=setTimeout(this.Da.bind(this),this.Rr("passback").value)}Da(t){this.Jt.unitId,this.Ba("passback"),!this.Ue&&this.Rr("passback").allow&&this.Rr("passback").string&&(this.Lr(vdo_ai_[this.Jt.unitId],this.Ia),this.en&&VdoAiAppInterface.hideWebView())}Na(){return!(!(this.Rr("passback").allow&&"adrequest"==this.Rr("passback").type&&this.Rr("passback").value&&this.wo>=this.Rr("passback").value)||this.Ue)}fa(){document.getElementsByClassName("vdo_floating").length&&this.Jt.dual_player||this.xa()&&!this.ja()||this.wi||this.Zt&&(this.Zt.height()==this.Jt.smallHeight&&this.Zt.width()==this.Jt.smallWidth||(this.Jt.unitId,this.Zt.height(this.Jt.smallHeight),this.Zt.width(this.Jt.smallWidth),this.ve&&!this.Dn&&(this.ve.height(this.Jt.smallHeight),this.ve.width(this.Jt.smallWidth)),this.en&&VdoAiAppInterface.updateSize(this.Jt.smallHeight,this.Jt.smallWidth),this.Ra(),this.be&&this.resizeAds&&this.resizeAds(this.Jt.smallWidth,this.Jt.smallHeight),!this.Cs&&this.Fo.getAdsManager()&&this.Fo.getAdsManager().resize(this.Jt.smallWidth,this.Jt.smallHeight,google.ima.ViewMode.NORMAL)))}Aa(){this.hi.classList.contains("vdo_content")?this.hi.classList.remove("vdo_content"):this.hi.classList.remove("vdo_floating")&&this.hi.classList.remove("vdo_floating"),this.hi.classList.add("vdo_header"),this.hi.style.width="100%",this.hi.style.marginTop="0px",this.hi.style.zIndex="9999999999",this.hi.style.padding="0px",this.hi.firstChild.style.position="relative",this.hi.firstChild.style.margin="auto"}ga(){if(this.Jt.unitId,i().is(document.querySelector(this.ai))){this.tr||(this.tr=Date.now())}}fi(){if(this.Zt){if(this.Zt.height()==this.Jt.height&&this.Zt.width()==this.Jt.width||(this.Jt.unitId,this.Zt.height(this.Jt.height),this.Zt.width(this.Jt.width),this.en&&VdoAiAppInterface.updateSize(this.Jt.height,this.Jt.width),this.Ra(),this.be&&this.resizeAds&&this.resizeAds(this.Jt.width,this.Jt.height),!this.Cs&&this.Fo.getAdsManager()&&this.Fo.getAdsManager().resize(this.Jt.width,this.Jt.height,google.ima.ViewMode.NORMAL),this.ve&&!this.Dn&&(this.ve.height(this.Jt.height),this.ve.width(this.Jt.width))),this.Qt){let t=document.getElementById(this.Jt.id+"_ima-mute-div");if(t){let i=7*this.Jt.width/100;i=i<40?40:i,i=i>80?80:i,"v-timesnownews-v5"===this.Wt?t.style.margin="0px 10px":t.style.margin="0px ".concat(i,"px")}}this.Ua(!1)}}Pa(){var t;void 0!==document.hidden?t="hidden":void 0!==document.msHidden?t="msHidden":void 0!==document.webkitHidden&&(t="webkitHidden");var i=this;if(i.Jt.unitId,i.Bi,i.We=setTimeout((()=>{this.Pa()}),1e3),!i.Zt.isDisposed()){if(i.Qn=!0,i.Bi%5==0&&i.Bi<=25&&!i.Jo){if(5===i.Bi&&ii.includes(i.Wt))return i.Lr(vdo_ai_[i.Jt.unitId]),window.stopRefresh=!1,void(window.stopRefreshMrec=!1);i.Oa(),i.Oo="",i.La(),0==i.Bi?i.za(!0):10==i.Bi&&Yt.indexOf(i.Wt)>=0?i.Fa("https://pubads.g.doubleclick.net/gampad/ads?iu=/26001828/stanford_res_video&description_url=http://"+encodeURIComponent(i.Jt.domain)+"&tfcd=0&npa=0&sz=640x360&gdfp_req=1&output=vast&unviewed_position_start=1&env=vp&impl=s&correlator=141513525325&vpos=preroll","url"):(5==i.Bi||i.Bi,i.za(!0))}else if(26==i.Bi&&i.Jt.autoReplay&&!i.Jt.replayOnlyOnEnded&&"vdo_test"!=i.Wt&&"v-andhrajyothy-v2"!=i.Wt&&"v-stanford-test"!=i.Wt){i.Ga(),i.Ha();let e=i.hi;"mobile"==this.Ci&&"floating"==this.Jt[this.Ci].unitType&&this.Jt.playAdsOnly&&(e=i.bi),i.Vo=ot(e,5,(function(){i.Vo=null,"mobile"==i.Ci&&document[t]||i.Yr()}),(function(){i.Vo=null,Z("cancel_btn_clicked","ga",null,null,i.Jt,i.ti,i.ii,i.ei,i.si,i.ni,i.oi)}),null,i.Ln[i.Fe>=i.Ln.length?0:i.Fe].img)}else{if(60==i.Bi)return void(i.Bi=0);if(!i.Jt.autoReplay&&!i.js&&30==i.Bi&&i.Zt.duration()/60>=10)return i.Bi=0,i.Yo=!1,i.Qo=0,i.Zi=0,void((Date.now()-i.Bo)/1e3/60>=10&&(i.Bo=Date.now(),i.Fi=0));if(i.Bi==i.Fn&&"v-andhrajyothy-v2"==i.Wt)return i.Bi=0,i.Yo=!1,i.Qo=0,i.Zi=0,void(i.Jo=!1)}i.Bi+=1}}Ta(){this.ln||(this.Rr("passback")&&"timeout"==this.Rr("passback").type&&this.Rr("passback").value&&!this.Qi?(this.Jt.unitId,this.Ma()):this.Jt.unitId,this.Ri||(this.Ri=!0,this.Jt.unitId,setTimeout((()=>{this.Pa()}))))}Va(){var t=this;if(this.Jt.unitId,googletag&&(googletag.pubads||this.vs)){if(!(this.co.auctionRunning||this.Qt||document.querySelector("#".concat(this.Jt.unitId," #vdo_banner_frame")))){this.Ha(),this.co={aps:!this.Qe,prebid:!1,adServerRequestSent:!1,auctionRunning:!0};var i=document.createElement("div");i.id=this.po,i.style.maxHeight="15%",document.getElementById(this.Jt.unitId).getElementsByTagName("video")[0].parentNode.appendChild(i),window.googletag=window.googletag||{cmd:[]},googletag.cmd.push((function(){t.cs=googletag.defineSlot(t.qn,t.vo,t.po),t.cs&&t.cs.setCollapseEmptyDiv(!1).addService(googletag.pubads()).setTargeting("site",[t.Jt.domain]),googletag.pubads().set("page_url",window.location.href),googletag.enableServices(),t.Ya(),t.Qa(t.ls,!1,t.qn,!0)})),this.lo=setTimeout((()=>{this.co.adServerRequestSent||(this.co.prebid=!0,this.co.aps=!0,this.Ja())}),5e3)}}else setTimeout((()=>{this.Va()}),500)}Wa(){var t=this;!this._e&&this.Za.apstag.init(Bt({pubID:"b3d50ad3-eca1-4091-be72-de4a8bc67a3d",adServer:"googletag",videoAdServer:"DFP",schain:{ver:"1.0",complete:1,nodes:[{asi:"vdo.ai",sid:""+this.Jt.pubId_vdo,hp:1}]}},this._r&&{params:{us_privacy:this._r}})),this._e=!0,this.Za.apstag.fetchBids({slots:[{slotID:this.po,sizes:this.vo,slotName:"amazon_nlb_banner",floor:{value:100*this.bs,currency:"USD"}}],timeout:this.ie},(function(i){i&&i.length&&(t.io=[...i[0].amznsz.split("x")]),i&&i[0]&&i[0].amzniid&&googletag.cmd.push((function(){t.cs&&(t.cs.setTargeting("amznbid",i[0].amznbid).setTargeting("amzniid",i[0].amzniid).setTargeting("amznsz",i[0].amznsz).setTargeting("amznp",i[0].amznp).setTargeting("amznactt",i[0].amznactt).setTargeting("site",window.location.hostname),t.co.aps=!0,t.Ja())}))}))}Ya(){if(!this.vs){var t=this;this.us=function(i){if(i.slot==t.cs&&1!=i.isEmpty){let n=i.slot.getHtml();var e=i.size[0],s=i.size[1];n.includes("apstag.renderImp")?(e=parseInt(t.io[0]),s=parseInt(t.io[1])):n.includes("pbjs")&&t.rs&&t.hs&&(e=parseInt(t.rs),s=parseInt(t.hs)),t.qa(s,e)}},googletag.pubads().addEventListener("slotRenderEnded",this.us),this.vs=!0}}qa(t,i){if(this.Ao<t)var e=this.Ao/t*100;if(this.bo<t)var s=this.bo/t*100;if(this.Jt[this.Ci].width<i){let t=this.Jt[this.Ci].width/i*100;e=e?Math.min(t,e):t}if(this.Jt[this.Ci].smallWidth<i){let t=this.Jt[this.Ci].smallWidth/i*100;s=s?Math.min(t,s):t}this.eo&&this.ps||this.Xa();let n=document.getElementById(this.po).childNodes[0].id,o="";o='.vdo_content [id*="'.concat(n,'"] {transform-origin: center; transform: scale(').concat(e-1,"%); max-width: unset !important; margin:unset !important;}"),s&&(o+=' .vdo_floating [id*="'.concat(n,'"] { transform-origin: center; transform: scale(').concat(s-1,"%); max-width: unset !important; margin:unset !important;}"));const r=document.getElementById("adsBottomScaling_".concat(this.Jt.unitId));r&&r.remove();const a=document.head||document.getElementsByTagName("head")[0],h=document.createElement("style");h.id="adsBottomScaling_".concat(this.Jt.unitId),a.appendChild(h),h.type="text/css",h.styleSheet?h.styleSheet.cssText=o:h.appendChild(document.createTextNode(o))}Ha(){this.ao&&clearTimeout(this.ao),this.Ka()&&this.Ka().remove(),this.cs&&googletag.destroySlots([this.cs]),this.co.auctionRunning=!1,document.getElementById("adsBottomScaling_".concat(this.Jt.unitId))&&document.getElementById("adsBottomScaling_".concat(this.Jt.unitId)).remove(),this.cs=null;try{this.lo&&(clearTimeout(this.lo),this.lo=null),this.ds&&(clearTimeout(this.ds),this.ds=null)}catch(t){}}$a(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{if(t&&this.Ha(),this.Jt.unitId,!googletag||!googletag.pubads&&!this.uo)return void setTimeout((()=>{this.$a()}),500);if(this.do.auctionRunning||this.Qt||document.querySelector("#".concat(this.Jt.unitId," #vdo_banner_frame")))return;this.Ga();var i=this;i.gs>=3&&(i.ps=!1);var e=document.createElement("div");e.id=this.no,document.getElementById(this.Jt.unitId).getElementsByTagName("video")[0].parentNode.appendChild(e),this.th(),this.do={aps:!this.Qe,prebid:!1,adServerRequestSent:!1,auctionRunning:!0},window.googletag=window.googletag||{cmd:[]},googletag.cmd.push((function(){t||(t=i.Zn),i.oo=googletag.defineSlot(t,i.Wn,i.no),i.oo&&i.oo.setCollapseEmptyDiv(!1).addService(googletag.pubads()).setTargeting("site",[i.Jt.domain]),i.Jt.nonLinearBanner&&i.Jt.nonLinearBanner.google_mcm&&i.Jt.nonLinearBanner.google_mcm.upr?i.oo&&i.oo.setTargeting("upr",i.Jt.nonLinearBanner.google_mcm.upr):i.oo&&i.oo.setTargeting("upr","GOPT"),googletag.pubads().set("page_url",window.location.href),googletag.enableServices(),i.ls=i.Ni[i.ih()],i.Qa(i.ls,!0,t)})),this.ho=setTimeout((()=>{this.do.adServerRequestSent||(this.do.prebid=!0,this.do.aps=!0,this.eh())}),5e3)}catch(t){}}th(){try{if(this.uo)return;var t=this;this.Ze=function(i){if(i.slot==t.oo)if(i.isEmpty&&i.slot.getAdUnitPath()==t.Zn&&t.gs++,1!=i.isEmpty){t.gs<3&&(t.gs=0);let w=i.slot.getHtml();var e=i.slot.getSlotElementId(),s=document.getElementById(e);s.style.background="#000000",s.style.zIndex=9999;var n=document.getElementById(t.Jt.unitId).getElementsByTagName("video")[0].parentNode,o=document.createElement("div");o.id="vdo_banner_frame-2",o.appendChild(t.sh()),n.appendChild(o);var r=document.createElement("div");r.id="nlb_ads_by_google_container",r.innerHTML='\n              <p id="nlb_ads_by_google_label" style="">Ads By Google</p>\n              <p id="nlb_ads_timer" style="">Ad will end in</p>\n            ',n.appendChild(r),setTimeout((function(){document.querySelector("#".concat(t.Jt.unitId," #vdo_banner_frame-2 #vdo_banner_progress #vdo_banner_progress_inner")).style.width="100%"})),t.ro=setTimeout((()=>{t.Ga(),t.Ha()}),15e3);var a=document.createElement("button");a.type="button",a.id="dfp_banner_btn_".concat(t.Jt.unitId),a.innerHTML='Skip Ad <svg xmlns="http://www.w3.org/2000/svg" style="margin-left: 5px;" width="18" height="18" viewBox="0 0 24 24" fill="#fff" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-skip-forward"><polygon points="5 4 15 12 5 20 5 4"/><line x1="19" x2="19" y1="5" y2="19"/></svg>',n.appendChild(a),t.Jt.float_after_cross_click&&(t._s=!0,t.nh(!0),t.Oi&&(t.Oi=!1));var h=document.createElement("p");h.id="skip_timer",h.textContent="Skip ad in 5",r.appendChild(h);let _=5;document.getElementById("skip_timer");let j=30;const x=document.getElementById("nlb_ads_timer");x.textContent="Ad will close in ".concat(j),t.Ee=setInterval((()=>{j--,_--,x.textContent="Ad will close in ".concat(j," \n                "),h.textContent="Skip ad in ".concat(_),_<=0&&(a.style.display="flex",h.remove()),j<=0&&(clearInterval(t.Ee),t.Ga(),t.Ha(),t.Ee=null)}),1e3),t.be&&t.hideAmazonPlayer&&t.hideAmazonPlayer(!0),"content-floating"==t.Jt.unitType&&t.di(!1);var l=t.Jt.width,u=t.Jt.smallWidth,d=t.Jt.height,c=t.Jt.smallHeight;t.mo&&(d=t.Jt.height-t.Ao,c=t.Jt.smallHeight-t.bo);var v,f,p,m=i.size[0],g=i.size[1];if(w.includes("apstag.renderImp")?(m=parseInt(t.$n[0]),g=parseInt(t.$n[1])):w.includes("pbjs")&&t.Be&&t.Ne&&(m=parseInt(t.Be),g=parseInt(t.Ne)),d<g&&(v=d/g*100),l<m){let t=l/m*100;v=v?Math.min(t,v):t}if(c<g&&(f=c/g*100),u<m){let t=u/m*100;f=f?Math.min(t,f):t}if(p=".vdo_content .scalingAds_".concat(t.Jt.unitId," div { transform-origin: center; transform: scale(").concat(v,"%); max-width: unset !important;}"),f&&(p+=" .vdo_floating .scalingAds_".concat(t.Jt.unitId," div {  transform-origin: center;transform: scale(").concat(f,"%); max-width: unset !important;}")),t.mo&&(p+=".vdo_content .scalingAds_".concat(t.Jt.unitId," {padding-bottom:").concat(t.Ao,"px} .vdo_floating .scalingAds_").concat(t.Jt.unitId," {padding-bottom:").concat(t.bo,"px} ")),p&&s.classList.add("scalingAds_".concat(t.Jt.unitId)),p){var A=document.getElementById("adsScaling_".concat(t.Jt.unitId));A&&A.remove();const i=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.id="adsScaling_".concat(t.Jt.unitId),i.appendChild(e),e.type="text/css",e.styleSheet?e.styleSheet.cssText=p:e.appendChild(document.createTextNode(p))}if(m&&l){var b=document.querySelector("#".concat(t.no," iframe")),y=document.querySelector("#".concat(t.no," > div"));b&&(b.style.setProperty("width","".concat(m,"px"),"important"),y.style.setProperty("width","".concat(m,"px"),"important"))}}else if(i.slot.getSlotId().getId().includes("Ellipsis_dfp_ron_display_non_linear_b_pre")||""==t.Jt.google_mcm_apac||!["US","CA","AU"].includes(t.Jt.country))t.Ga(),t.Xa();else{if(i.slot.getAdUnitPath()==t.Kn)return;t.Xa(),googletag.cmd.push((function(){googletag.destroySlots([t.oo]),t.oo=googletag.defineSlot(t.Xn,t.Wn,t.no).setCollapseEmptyDiv(!1).addService(googletag.pubads()).setTargeting("site",[t.Jt.domain]),googletag.pubads().set("page_url",window.location.href),googletag.enableServices(),googletag.display(t.no),googletag.pubads().isInitialLoadDisabled()&&googletag.pubads().refresh([t.oo])}))}},googletag.pubads().addEventListener("slotRenderEnded",this.Ze),this.uo=!0}catch(t){G(t,"addDfpNonLinearEventListner",this.Wt)}}Xa(){var t=this;document.getElementById(t.po)&&(t.ao=setTimeout((()=>{var i=document.createElement("div");i.classList.add("bottomNlbCross"),i.onclick=i=>{i.stopPropagation(),t.Ha()},document.getElementById(t.po).appendChild(i)}),1e3))}eh(){var t=this;if(this.do.prebid&&this.do.aps&&!this.do.adServerRequestSent){if(this.do.adServerRequestSent=!0,this.do.auctionRunning=!1,!this.ps)return;googletag.cmd.push((function(){pbjs_vdo.que.push((function(){pbjs_vdo.setTargetingForGPTAsync()})),googletag.display(t.no),googletag.pubads().isInitialLoadDisabled()&&googletag.pubads().refresh([t.oo])}))}}Ja(){var t=this;this.co.prebid&&this.co.aps&&!this.co.adServerRequestSent&&document.getElementById(t.po)&&(this.co.adServerRequestSent=!0,this.co.auctionRunning=!1,googletag.cmd.push((function(){pbjs_vdo.que.push((function(){pbjs_vdo.setTargetingForGPTAsync()})),googletag.display(t.po),googletag.pubads().isInitialLoadDisabled()&&googletag.pubads().refresh([t.cs])})))}Ga(t){try{if(this.Jt.unitId,this.ro&&(clearTimeout(this.ro),this.ro=null),this.ho&&(clearTimeout(this.ho),this.ho=null),this.De&&(clearTimeout(this.De),this.De=null),this.Ee&&(clearInterval(this.Ee),this.Ee=null),!this.bi)return;var i=document.querySelector("#".concat(this.Jt.unitId," #vdo_banner_frame-2"));i&&(i&&i.remove(),this.be&&this.hideAmazonPlayer&&this.hideAmazonPlayer(!1));var e=document.querySelector("#dfp_banner_btn_".concat(this.Jt.unitId));e&&e.remove();var s=document.querySelector("#".concat(this.Jt.unitId," #nlb_ads_by_google_container"));if(s&&s.remove(),document.getElementById("adsScaling_".concat(this.Jt.unitId))&&document.getElementById("adsScaling_".concat(this.Jt.unitId)).remove(),this.do.auctionRunning=!1,this.oo){var n=this;googletag.cmd.push((function(){n.newMember=!0,googletag.destroySlots([n.oo])}));let t=document.getElementById(this.no);t&&t.remove(),this.oo=null}!t&&vdo_player.getPlayer(this.Jt.id)&&(this.ui||this.Ms)&&(this.amazonPlayerPlayingAd||(this.We&&(this.Oi=!0),this.fi(),this.pi()),e&&this.oh(),this.ja()&&this.Zt.pause())}catch(t){G(t,"distroyNonLinear",this.Wt)}}za(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.Co.length&&(this.je=JSON.parse(JSON.stringify(this.Co))),t&&(this.lr++,window.vdo_ai_.records[this.Jt.unitId].ad_request_temp.length&&(Z("ad_request","pixel",window.vdo_ai_.records[this.Jt.unitId].ad_request_temp,null,this.Jt,this.ti,this.ii,this.ei,this.si,this.ni,this.oi),window.vdo_ai_.records[this.Jt.unitId].ad_request_temp=[]),this.Qo=0,this.xe=0,this.Yo=!1,this.Ce=!1,this.xs=!1,this.rh(),this.ks=0,(!oi.includes(this.Jt.country)&&"IN"!==this.Jt.country&&this.Bi>=5||"IN"===this.Jt.country&&this.Bi>=15)&&(this.Co=[]),this.Co=this.Co.filter((t=>"amazon"!==t.partner)),!this.be&&this.ah()),window[this.Jt.unitId+"_vast"]&&!this.Ie){for(var i in this.Ie=!0,this.Jt.vast=this.Jt.waterfallTags=window[this.Jt.unitId+"_vast"],this.To=[],window[this.Jt.unitId+"_vast"])if(window[this.Jt.unitId+"_vast"].hasOwnProperty(i))for(var e=window[this.Jt.unitId+"_vast"][i],s=0;s<e.length;s++){try{decodeURIComponent(e[s].ad_url)}catch(t){Z("error","pixel","invalid_vast_".concat(e[s].partner),null,this.Jt,this.ti,this.ii,this.ei,this.si,this.ni,this.oi);continue}if(e[s].ad_url.indexOf("doubleclick.net")>=0&&(e[s].ad_url.indexOf("vad_type")>0?e[s].ad_url=e[s].ad_url.replace(/(vad_type=)[^\&]+/,"$1linear"):e[s].ad_url+="&vad_type=linear"),"google_mcm"==e[s].partner||"google_mcm_apac"==e[s].partner||"google"==e[s].partner){if("google_mcm_apac"==e[s].partner){var n=new URLSearchParams(e[s].ad_url).get("cust_params");if(!n||!n.includes("upr")){var o=new RegExp("([?&])cust_params=.*?(&|$)","i"),r=-1!==e[s].ad_url.indexOf("?")?"&":"?";n?n+="&upr=GOPT":n="upr=GOPT",e[s].ad_url.match(o)?e[s].ad_url=e[s].ad_url.replace(o,"$1cust_params="+encodeURIComponent(n)+"$2"):e[s].ad_url=e[s].ad_url+r+"cust_params="+encodeURIComponent(n)}}this.To.push(e[s])}}let t=this.Co.filter((t=>"amazon"===t.partner));this.Ur(t)}if(this.Mo.currentIndex<this.Mo.length){this.ks=4;let t=this.Mo[this.Mo.currentIndex++];return this.si=t.partner,void this.hh(0,t.ad_url,t.partner)}let a=this.uh();if(4==this.ks&&this.Mo.currentIndex>=this.Mo.length&&(this.ks=0),this.Yo&&0==this.ks){if(this.ce)return;this.ks=1}else this.xs||1!=this.ks?(1==this.ks&&this.xs||2==this.ks&&this.Ce||5==this.ks)&&(26==this.Bi&&5!=this.ks&&""!=this.Jt.google_mcm&&this.Ps.ad_url?this.ks=5:this.ks=3):this.ks=2;if(this.Ro=null,this.ks)if(1==this.ks){let t=this.Ni[this.ih()];this.Qa(t)}else if(2==this.ks){let t=this.dh();t?(this.si=t.partner,this.hh(0,t.ad_url,t.partner)):this.za()}else 5==this.ks?(this.si=this.Ps.partner,this.hh(0,this.Ps.ad_url,this.Ps.partner)):this.Ta();else this.si=a.partner,"amazon"==this.si?this.fh(a):this.hh(0,a.ad_url,a.partner,a.rule_id)}ph(t,i,e){var s=new RegExp("[?&]("+i+"=[\\w-]+&?)").exec(t);return s?t=t.replace(s[1],i+"="+e+"&"):t+="&"+i+"="+e,t}hh(t,i,e,s){this.Ro=s;var n=this;Z("adrequest_"+e,"ga",null,null,n.Jt,n.ti,n.ii,n.ei,n.si,n.ni,n.oi);var o=void 0;try{o=encodeURIComponent(top.location.href)}catch(t){}if(o||(o=n.Jt.domain.includes("http")?n.Jt.domain:"https://"+n.Jt.domain),n.Vs=o,i.indexOf("pubads.g.doubleclick.net")>=0){i=this.ph(i,"plcmt","2"),"google_mcm"!=e&&"google_mcm_apac"!=e||(i=this.ph(i,"env","instream"),void 0!==this.Ln[this.Fe-1].title&&(i=this.ph(i,"vid_t",this.Ln[this.Fe-1].title)),void 0!==this.Ln[this.Fe-1].duration&&(i=this.ph(i,"vid_d",this.Ln[this.Fe-1].duration)),void 0!==this.Ln[this.Fe-1].keyword&&(i=this.ph(i,"vid_kw",this.Ln[this.Fe-1].keyword)));let t=new RegExp("description_url=.*?&").exec(i);t&&t[0]?o&&(i=i.replace(t[0],"description_url="+o+"&")):i=i+"&description_url="+o}this.mh().then((()=>{if((i=1==this.Bs||!this.Is&&!this.Zt.muted()||this.Ns?this.ph(i,"ad_type","audio_video"):this.ph(i,"ad_type","video")).indexOf("googleads.g.doubleclick.net")>=0||-1===i.indexOf("doubleclick.net")||-1==i.indexOf("ca-video-pub-7094677798399606")&&-1==i.indexOf("ca-video-pub-2403018226404213")&&-1==i.indexOf("iu=/26001828")&&-1==i.indexOf("iu=/22100121508"))return i=this.gh(i),void this.Fa(location.protocol+"//"+i,"url");if(e.includes("direct"))this.Fa(location.protocol+"//"+i,"url");else{n.Jt.unitId;var t={adUnit:{code:"video1_random_"+n.Jt.unitId,mediaTypes:{video:{context:"instream",api:[1,2],mimes:["video/mp4","application/javascript","video/x-flv","video/x-ms-wmv","application/vnd.apple.mpegurl","application/x-mpegurl","video/3gpp","video/mpeg","video/ogg","video/quicktime","video/webm","video/x-m4v","video/ms-asf","video/x-msvideo"],protocols:[1,2,3,4,5,6,7,8],minduration:1,maxduration:60,linearity:1,startdelay:0,placement:1}}},url:location.protocol+"//"+i};-1==i.indexOf("single_ad_samples")&&(t.params={cust_params:i.indexOf("26001828")>0?n.qe:n.Xe,sz:this.Ts,url:"",description_url:o},t.params.cust_params.build_dependency="dependencies_master_revert");var s=pbjs_vdo.adServers.dfp.buildVideoUrl(t);n.Fa(s,"url")}}))}rh(){this.wo++}oa(){if(this.bn&&(this.Jt.unitId,this.Uo=!0,this.Uo&&this.Ye)){this.Es=!1,this.un=!1,this.In&&(this.In.innerHTML="");var t=this.Ni[this.ih()];this.Ah(t)}}bh(){this.Jt.unitId,this.Uo=!1,this.In&&(this.In.innerHTML="")}Mr(){return this.On.indexOf(this.Jt.country)>=0}ih(){return this.Zi>=this.Ni.length&&(this.Zi=0,this.Xi=!0),this.Zi++}yh(){return this._o>=this.Ni.length&&(this._o=0),this._o++}yi(){var t=this.Jt.dual_player?window.vdo_ai_.video_ad_count:this.Xt;if(this.js&&t>=this.js)return this.Jo=!0,void(this.Jt.replayOnlyOnEnded=!0);!function(t,i,e){if(St)return;(St=document.createElement("div")).classList.add("vdo_amazon_wrapper","hidden_amazon_wrapper"),St.setAttribute("style","width: ".concat(i,"px; height: ").concat(e,"px"));let s=document.createElement("source");(At=document.createElement("video")).id="amazon_vdo_player",At.setAttribute("autoplay",!0),At.setAttribute("muted",!0),At.setAttribute("playsinline",!0),At.appendChild(s),St.appendChild(At),document.getElementById(t).insertAdjacentElement("beforeend",St)}(this.Jt.unitId,this.Jt.width,this.Jt.height);let i=this.oe.shift()||{};i.code?this.ye(i.code,i.p,"amazon"):this.ah()}ah(){if(this.tn.length<2||this.ln||this.be&&this.oe.length)return;this.we=!0;let t=this;this.oe=[],this.wh(this.tn).then((()=>this._h([],this.oe))).then((i=>{if(this.be){if(!i.length){let t=this;return void setTimeout((()=>{t.ah()}),3e4)}this.oe=JSON.parse(JSON.stringify(i)),this.yi()}else{var e=null;this.ce=!1,e=t.Yo?this.Co.length:t.Qo<6?6:t.Qo,i.forEach(((i,s)=>{let n={cpm:i.p,partner:"amazon",bidder:"amazon",amzniid:i.amzniid,vastUrl:i.code,mediaType:"video"};t.Co.splice(e+s,0,n)})),this.Yo&&(this.Yo=!1,this.Qo=0,this.za())}})).catch((t=>{this.Jt.unitId,G(t,"compareAmazonPrebidBid, auctionAmazonVideoBids",this.Wt)}))}Ur(t){var i=this.To.length;this.Co=JSON.parse(JSON.stringify(this.To));try{this.Jt.hasOwnProperty("vast_copy")||(this.Jt.vast_copy=!0);let t="IN"===this.Jt.country?24:64;if(this.Jt.vast_copy&&i&&i<t){var e=Math.round(t/i);if(e>2||"IN"===this.Jt.country&&2==e)for(let t=0;t<e;t++)this.Co=this.Co.concat(this.To);else this.Co=this.Co.concat(this.To)}}catch(t){G(t,"copyGoogleVast",this.Wt)}}Qa(t,i,e){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];var n=this;if(this.Jt.unitId,this.Jt.bidders&&this.Jt.bidders[t]&&this.Ye){var o=JSON.parse(JSON.stringify(this.Jt.bidders))[t],r=i||s?[]:o.bids;pbjs_vdo=pbjs_vdo||{},pbjs_vdo.removeAdUnit(),pbjs_vdo.que=pbjs_vdo.que||[];var a=this.Jt.dual_player?[]:this.jh(t);if(r=rt("video",r,this.pn,this.En,this.Jt.targeting[this.Ci],this.Jt.s2s,this.Jt.pubId_vdo,this.Jt.country,this.Wt),this.Ys[0].mediaTypes.video.playerSize=this.pn,this.Ys[0].mediaTypes.video.w=this.pn[0],this.Ys[0].mediaTypes.video.h=this.pn[1],this.Ys[0].bids=r.filter((function(t){return!("appnexus_apac"===t.bidder||t.bidder.includes("_atlas")||"yahoossp"===t.bidder||t.bidder.includes("_WC")||t.bidder.includes("_jj")||t.bidder.includes("_adsolut")||t.bidder.includes("_HS")||"oftmedia"==t.bidder)})),this.Qs[0].mediaTypes.video.playerSize=this.pn,this.Qs[0].mediaTypes.video.w=this.pn[0],this.Qs[0].mediaTypes.video.h=this.pn[1],this.Qs[0].bids=r.filter((function(t){return"yahoossp"==t.bidder||t.bidder.includes("_WC")})),this.Js[0].mediaTypes.video.playerSize=this.pn,this.Js[0].mediaTypes.video.w=this.pn[0],this.Js[0].mediaTypes.video.h=this.pn[1],this.Js[0].bids=r.filter((function(t){return"appnexus_apac"===t.bidder||t.bidder.includes("_atlas")})),this.Ws[0].mediaTypes.video.playerSize=this.pn,this.Ws[0].mediaTypes.video.w=this.pn[0],this.Ws[0].mediaTypes.video.h=this.pn[1],this.Ws[0].bids=r.filter((t=>t.bidder.includes("_adsolut"))),this.Zs[0].mediaTypes.video.playerSize=this.pn,this.Zs[0].mediaTypes.video.w=this.pn[0],this.Zs[0].mediaTypes.video.h=this.pn[1],this.Zs[0].bids=r.filter((t=>t.bidder.includes("_HS"))),this.qs[0].mediaTypes.video.playerSize=this.pn,this.qs[0].mediaTypes.video.w=this.pn[0],this.qs[0].mediaTypes.video.h=this.pn[1],this.qs[0].bids=r.filter((t=>t.bidder.includes("_jj"))),this.Ks[0].bids=r.filter((t=>"oftmedia"==t.bidder)),this.Ks[0].bids){var h=JSON.parse(JSON.stringify(this.pn));333==this.pn[0]&&250===this.pn[1]&&(h[0]=419,h[1]=236),this.Ks[0].mediaTypes.video.playerSize=h,this.Ks[0].mediaTypes.video.w=h[0],this.Ks[0].mediaTypes.video.h=h[1]}this.hn[0].mediaTypes.banner.sizes=this.pn,this.hn[0].bids=a.filter((function(t){return"freewheel-ssp"===t.bidder})),this.Ys[1].bids=a.filter((function(t){return!("freewheel-ssp"===t.bidder||"appnexus_apac"===t.bidder||t.bidder.includes("_atlas")||"rhythmone"===t.bidder||"yahoossp"===t.bidder||"mediafuse_aol"===t.bidder||t.bidder.includes("_WC")||t.bidder.includes("_jj")||t.bidder.includes("_adsolut")||t.bidder.includes("_HS"))})),this.Js[1].bids=a.filter((function(t){return"appnexus_apac"===t.bidder||t.bidder.includes("_atlas")})),this.Xs[0].bids=a.filter((function(t){return"mediafuse_aol"===t.bidder})),this.Qs[1].bids=a.filter((function(t){return"yahoossp"===t.bidder||t.bidder.includes("_WC")})),this.Ws[1].bids=a.filter((t=>t.bidder.includes("_adsolut"))),this.Zs[1].bids=a.filter((t=>t.bidder.includes("_HS"))),this.qs[1].bids=a.filter((t=>t.bidder.includes("_jj"))),Math.random()>.5&&(this.Js[0].bids=this.Js[0].bids.filter((function(t){return"ix_atlas"!==t.bidder})),this.Js[1].bids=this.Js[1].bids.filter((function(t){return"ix_atlas"!==t.bidder})));var l=[],u=[],d=[],c=[],v=[],f=[];let A=this.Js[0].bids.findIndex((t=>"ix_atlas"===t.bidder)),b=this.Js[1].bids.findIndex((t=>"ix_atlas"===t.bidder));this.Js[0].ortb2Imp.ext.data.adserver.adslot=this.Os.video,this.Js[1].ortb2Imp.ext.data.adserver.adslot=this.Os.banner,A>=0&&(this.Js[0].ortb2Imp.ext.data.adserver.adslot+=t,Z("ix_video_bid","ga",null,null,this.Jt,this.ti,this.ii,this.ei,this.si,this.ni,this.oi)),b>=0&&(this.Js[1].ortb2Imp.ext.data.adserver.adslot+=t,Z("ix_300x250_bid","ga",null,null,this.Jt,this.ti,this.ii,this.ei,this.si,this.ni,this.oi)),i||s||this.Rr("belowBanner")&&this.Dn?(l=JSON.parse(JSON.stringify(JSON.parse(JSON.stringify(this.Ys)))),this.hn[0].bids&&this.hn[0].bids[0]&&l.push(JSON.parse(JSON.stringify(this.hn[0]))),this.Js[0].bids&&this.Js[0].bids.length&&d.push(JSON.parse(JSON.stringify(this.Js[0]))),this.Js[1].bids&&this.Js[1].bids.length&&d.push(JSON.parse(JSON.stringify(this.Js[1]))),this.Qs[0].bids&&this.Qs[0].bids.length&&u.push(JSON.parse(JSON.stringify(this.Qs[0]))),this.Qs[1].bids&&this.Qs[1].bids.length&&u.push(JSON.parse(JSON.stringify(this.Qs[1]))),this.qs[0].bids.length&&v.push(JSON.parse(JSON.stringify(this.qs[0]))),this.qs[1].bids.length&&v.push(JSON.parse(JSON.stringify(this.qs[1]))),this.Ws[0].bids.length&&c.push(JSON.parse(JSON.stringify(this.Ws[0]))),this.Ws[1].bids.length&&c.push(JSON.parse(JSON.stringify(this.Ws[1]))),this.Zs[0].bids.length&&f.push(this.Zs[0]),this.Zs[1].bids.length&&f.push(this.Zs[1]),this.Ks[0].bids.length&&l.push(this.Ks[0])):(l.push(JSON.parse(JSON.stringify(this.Ys[0]))),this.Js[0].bids&&this.Js[0].bids.length&&d.push(JSON.parse(JSON.stringify(this.Js[0]))),this.Qs[0].bids&&this.Qs[0].bids.length&&u.push(JSON.parse(JSON.stringify(this.Qs[0]))),this.qs[0].bids.length&&v.push(JSON.parse(JSON.stringify(this.qs[0]))),this.Ws[0].bids.length&&c.push(JSON.parse(JSON.stringify(this.Ws[0]))),this.Zs[0].bids.length&&f.push(JSON.parse(JSON.stringify(this.Zs[0]))),this.Ks[0].bids.length&&l.push(JSON.parse(JSON.stringify(this.Ks[0])))),this.Jt.unitId,this.Jt.country;var p={};l.forEach((function(t){t.bids.forEach((function(t){if(t.bidder.indexOf(":")>0){var i=t.bidder.split(":");p[t.bidder]=i[0]}}))}));var m=[...l,...u,...d,...v,...c,...f];for(const t of m){for(const i of t.bids)i.bidder.includes("_WC")&&(i.bidder=i.bidder.replace(/_WC/g,""),this.Ls.includes(i.bidder)||this.Ls.push(i.bidder)),i.bidder.includes("_atlas")&&(i.bidder=i.bidder.replace(/_atlas/g,""),this.zs.includes(i.bidder)||this.zs.push(i.bidder)),i.bidder.includes("_jj")&&(i.bidder=i.bidder.replace(/_jj/g,""),this.Fs.includes(i.bidder)||this.Fs.push(i.bidder)),i.bidder.includes("_adsolut")&&(i.bidder=i.bidder.replace(/_adsolut/g,""),this.Gs.includes(i.bidder)||this.Gs.push(i.bidder)),i.bidder.includes("_HS")&&(i.bidder=i.bidder.replace(/_HS/g,""),this.Hs.includes(i.bidder)||this.Hs.push(i.bidder));i&&t.mediaTypes.banner&&t.mediaTypes.banner.sizes&&(t.code=this.no,t.mediaTypes.banner.sizes=this.Wn,t.floors={currency:"USD",schema:{fields:["mediaType"]},values:{banner:this.rn}}),s&&t.mediaTypes.banner&&t.mediaTypes.banner.sizes&&(t.code=this.po,t.mediaTypes.banner.sizes=this.vo,t.floors={currency:"USD",schema:{fields:["mediaType"]},values:{banner:n.bs}})}if(this.xh(t)){var g=JSON.parse(JSON.stringify(this.$s));i?this.kh(e):s?this.Wa():this.Rr("belowBanner")&&this.Dn&&this.wh(g)}pbjs_vdo.que.push((function(){for(var t in pbjs_vdo.aliasBidder("appnexus","appnexus_apac"),pbjs_vdo.aliasBidder("adkernel","xapads"),p)if(Object.hasOwnProperty.call(p,t)){var e=p[t];pbjs_vdo.aliasBidder(e,t)}pbjs_vdo.setConfig(n.pr),pbjs_vdo.setBidderConfig({bidders:["appnexus"],config:{schain:{validation:"strict",config:{ver:"1.0",complete:1,nodes:[{asi:"datacygnal.io",sid:"151427",hp:1}]}}}}),n.Ar.bidders=[...new Set([...n.Ls,...n.zs,...n.Gs,...n.Hs,...n.Fs])],n.Ar.bidders&&n.Ar.bidders.length&&pbjs_vdo.setBidderConfig(n.Ar),pbjs_vdo.addAdUnits(l),pbjs_vdo.bidderSettings={adagio:{storageAllowed:!0}},pbjs_vdo.requestBids({bidsBackHandler:function(){n.Eh(i,s)}}),pbjs_vdo.removeAdUnit(),d&&d.length&&(n.gr.bidders=n.zs,pbjs_vdo.setBidderConfig(n.gr),pbjs_vdo.addAdUnits(d),pbjs_vdo.requestBids({bidsBackHandler:function(){n.Eh(i,s)}})),u&&u.length&&(n.mr.bidders=n.Ls,pbjs_vdo.setBidderConfig(n.mr),pbjs_vdo.addAdUnits(u),pbjs_vdo.requestBids({bidsBackHandler:function(){n.Eh(i,s)}})),v.length&&(pbjs_vdo.removeAdUnit(),n.wr.bidders=n.Fs,pbjs_vdo.setBidderConfig(n.wr),pbjs_vdo.addAdUnits(v),pbjs_vdo.requestBids({bidsBackHandler:function(){n.Eh(i,s)}})),c.length&&(pbjs_vdo.removeAdUnit(),n.br.bidders=n.Gs,pbjs_vdo.setBidderConfig(n.br),pbjs_vdo.addAdUnits(c),pbjs_vdo.requestBids({bidsBackHandler:function(){n.Eh(i,s)}})),f.length&&(pbjs_vdo.removeAdUnit(),n.yr.bidders=n.Hs,pbjs_vdo.setBidderConfig(n.yr),pbjs_vdo.addAdUnits(f),pbjs_vdo.requestBids({bidsBackHandler:function(){n.Eh(i,s)}})),n.Xs[0].bids=n.Xs[0].bids.map((function(t){return"mediafuse_aol"===t.bidder&&(t.bidder="yahoossp",pbjs_vdo.setBidderConfig({bidders:["yahoossp"],config:{schain:{validation:"strict",config:{ver:"1.0",complete:1,nodes:[{asi:"yahoo.com",sid:"57872",hp:0}]}}}})),t})),n.Xs[0].bids.length&&(pbjs_vdo.addAdUnits(n.Xs),pbjs_vdo.requestBids({bidsBackHandler:n.Eh.bind(n)}))})),i||s?i?this.De=setTimeout((function(){n.do.prebid=!0,n.eh()}),this.ie+200):s&&(this.ds=setTimeout((function(){n.co.prebid=!0,n.Ja()}),this.ie+200)):this.Me=setTimeout((function(){n.Sh(t)}),this.ie+200)}else this.Jt.unitId,i||this.za()}Eh(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var e=[],s=pbjs_vdo.getHighestCpmBids(this.Ys[0].code),n=pbjs_vdo.getHighestCpmBids(this.Ys[1].code),o=pbjs_vdo.getHighestCpmBids(this.hn[0].code),r=pbjs_vdo.getHighestCpmBids(this.Qs[0].code),a=pbjs_vdo.getHighestCpmBids(this.Qs[1].code),h=pbjs_vdo.getHighestCpmBids(this.Js[0].code),l=pbjs_vdo.getHighestCpmBids(this.Js[1].code),u=pbjs_vdo.getHighestCpmBids(this.Ws[0].code),d=pbjs_vdo.getHighestCpmBids(this.Ws[1].code),c=pbjs_vdo.getHighestCpmBids(this.Zs[0].code),v=pbjs_vdo.getHighestCpmBids(this.Zs[1].code),f=pbjs_vdo.getHighestCpmBids(this.qs[0].code),p=pbjs_vdo.getHighestCpmBids(this.qs[1].code),m=pbjs_vdo.getHighestCpmBids(this.Ks[0].code),g=pbjs_vdo.getHighestCpmBids(this.Xs[0].code);if(t)var A=pbjs_vdo.getHighestCpmBids(this.no);if(i)var b=pbjs_vdo.getHighestCpmBids(this.po);if(t)A[0]&&(this.ps=!0,this.Be=A[0].width,this.Ne=A[0].height);else{if(!i)return n[0]&&(n[0].adType="banner",n[0].partner="prebid",e.push(n[0])),o[0]&&(o[0].adType="banner",o[0].partner="prebid",e.push(o[0])),h[0]&&(h[0].adType="video",h[0].partner="prebid",h[0].bidder.includes("_atlas")||"appnexus_apac"==h[0].bidder||(h[0].bidder+="_atlas"),e.push(h[0])),l[0]&&(l[0].adType="banner",l[0].partner="prebid",l[0].bidder.includes("_atlas")||"appnexus_apac"==l[0].bidder||(l[0].bidder+="_atlas"),e.push(l[0])),g[0]&&(g[0].adType="banner",g[0].partner="prebid",e.push(g[0])),s[0]&&(s[0].adType="video",s[0].partner="prebid","onetag"==s[0].bidder&&(s[0].mediaType="video"),e.push(s[0])),r[0]&&(r[0].adType="video",r[0].partner="prebid",r[0].bidder.includes("_WC")||"yahoossp"==r[0].bidder||(r[0].bidder+="_WC"),e.push(r[0])),a[0]&&(a[0].adType="banner",a[0].partner="prebid",a[0].bidder.includes("_WC")||"yahoossp"==a[0].bidder||(a[0].bidder+="_WC"),e.push(a[0])),u[0]&&(u[0].adType="video",u[0].partner="prebid",u[0].bidder.includes("_adsolut")||(u[0].bidder+="_adsolut"),e.push(u[0])),d[0]&&(d[0].adType="banner",d[0].partner="prebid",d[0].bidder.includes("_adsolut")||(d[0].bidder+="_adsolut"),e.push(d[0])),c[0]&&(c[0].adType="video",c[0].partner="prebid",c[0].bidder.includes("_HS")||(c[0].bidder+="_HS"),e.push(c[0])),v[0]&&(v[0].adType="banner",v[0].partner="prebid",v[0].bidder.includes("_HS")||(v[0].bidder+="_HS"),e.push(v[0])),f[0]&&(f[0].adType="video",f[0].partner="prebid",f[0].bidder.includes("_jj")||(f[0].bidder+="_jj"),e.push(f[0])),p[0]&&(p[0].adType="banner",p[0].partner="prebid",p[0].bidder.includes("_jj")||(p[0].bidder+="_jj"),e.push(p[0])),m[0]&&(m[0].adType="video",m[0].partner="prebid",e.push(m[0])),this.Jt.unitId,e.forEach((t=>{this.se.filter((function(i){if(i.adId==t.adId)return!0})).length||this.Th.call(this,t)})),!!e.length||void 0;b[0]&&(this.rs=b[0].width,this.hs=b[0].height)}}Br(t){for(var i of t)if(i.ad_url.indexOf("doubleclick.net")>=0)return!0;return!1}Ch(t){t&&(si=t.tcString,ei=Object.keys(t.vendor.consents).join(",")),"true"===this.Jt.gdpr_check&&(this.pr.consentManagement={gdpr:{cmpApi:"iab",timeout:8e3,defaultGdprScope:!0}})}gh(t,i){if(-1===t.indexOf("doubleclick.net")&&-1===t.indexOf("ads.stickyadstv.com")&&-1===t.indexOf("rubiconproject")){if(t.indexOf("vid.springserve.com")>-1){var e=t.replace("&schain={{SCHAIN}}","");for(var s in e=(e=(e=(e=e.replace("[LATITUDE]","")).replace("[LONGITUDE]","")).replace("[DO_NOT_TRACK]","")).replace("{{US_PRIVACY}}",""),e+=this.Ih(e),this.ur)if(this.ur.hasOwnProperty(s))if(e.indexOf(s)>=0){var n=this.ur[s],o="("+s+"=).*?(&|$)";e=e.replace(new RegExp(o),"$1"+n+"$2")}else e=e+"&"+s+"="+n;return e}if(t.indexOf("vast.smilewanted.com")>=0)t=t.replace(/(referrer_url=)[^\&]+/,"$1"+encodeURIComponent(document.referrer));else if(t.indexOf("soma.smaato.net")>=0){let i=new RegExp("height=.*?&"),e=new RegExp("width=.*?&"),s=i.exec(t),n=e.exec(t);t=(t=t.replace(s[0],"height="+this.vn[1]+"&")).replace(n[0],"width="+this.vn[0]+"&")}if(t.indexOf("vast.smilewanted.com")>=0||t.indexOf("soma.smaato.net")>=0)return t+this.Ih(t)}else{if(t.indexOf("ads.stickyadstv.com")>=0){let i=new URLSearchParams(t);return Kt.includes(this.Jt.country)?(i.set("_fw_gdpr","1"),si?i.set("_fw_gdpr_consent",si):i.delete("_fw_gdpr_consent"),ei?i.set("_fw_gdpr_consented_providers",ei):i.delete("_fw_gdpr_consented_providers")):(i.delete("_fw_gdpr"),i.delete("_fw_gdpr_consent"),i.delete("_fw_gdpr_consented_providers")),this._r?i.set("_fw_us_privacy",this._r):i.delete("_fw_us_privacy"),t=i.toString(),t=decodeURIComponent(t)}if(t.indexOf("rubiconproject")>=0)return t=this.ph(t,"srcPageUrl",this.Vs);t.indexOf("pubads.g.doubleclick.net")>-1&&(t.includes("&env")||(t=this.ph(t,"env","instream")),t.includes("&ad_type")||(t=this.ph(t,"ad_type","audio_video")))}return t}Ih(t){if(-1===t.indexOf("schain")){var i=-1===t.indexOf("?")?"?schain=":"&schain=";return t.indexOf("vast.aniview.com")>=0?i+=encodeURIComponent("1.0,1!vdo.ai,"+this.Jt.pubId_vdo+",1,,,"):i+="1.0,1!vdo.ai,"+this.Jt.pubId_vdo+",1",i}return""}Sh(t){var i=this.se;this.se=[],this.Jt.unitId,i.sort((function(t,i){return t.cpm>i.cpm?-1:1})),this.Jt.unitId,this.Jt.country;var e={};e=this.Mh(i,"banner");var s,n=this.Mh(i,"video");if(location.href.indexOf("sample_vdo_mode=display")>=0&&(e={cpm:100,mediaType:"banner",size:"300x250",bidder:"vdoaisample"}),n.cpm=n.cpm||0,e.cpm=e.cpm||0,e.cpm>n.cpm?"ix_atlas"==(s=e).bidderCode&&Z("ix_"+s.size+"_ad","ga",null,null,this.Jt,this.ti,this.ii,this.ei,this.si,this.ni,this.oi):"ix_atlas"==(s=n).bidderCode&&Z("ix_video_ad","ga",null,null,this.Jt,this.ti,this.ii,this.ei,this.si,this.ni,this.oi),s&&s.bidder){let t=this.Dh(s),i="xapads"==s.bidder?this.Us:t||this.En;s&&s.cpm&&(s.bidder.indexOf(":")>0||s.cpm>=i)||(s={cpm:0})}this._h(s,this.ne).then((t=>{!t.bidder&&this.ne.length&&(this.ne=[]),this.Jt.unitId,t&&t.bidder?this.fh(t):this.za()})).catch((t=>{this.Jt.unitId,this.za(),G(t,"compareAmazonPrebidBid, companion",this.Wt)}))}Dh(t){if(this.Jt.targeting&&this.Jt.targeting[this.Ci]){var i=this.Jt.targeting[this.Ci],e=i[t.bidderCode]&&i[t.bidderCode].floor;if(e=e&&(e[this.Jt.country]||e.all))return e}return!1}Fa(t,i){if(i||(i="xml"),this.Jt.unitId,window.location.href.indexOf("debug_mode=2")>0||window.location.href.indexOf("sample_vdo_mode=video")>0?this.Fo.vastRequest("https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/single_ad_samples&ciu_szs=300x250&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&cust_params=deployment%3Ddevsite%26sample_ct%3Dskippablelinear&correlator="):this.Fo.vastRequest(t,i),this.Is||this.Ns)this.mh().then((()=>{1==this.Jt.static_vpmute&&("google_mcm"==this.si||"google_mcm_apac"==this.si?this.Fo.setImaOption("adsWillPlayMuted",!1):this.Fo.setImaOption("adsWillPlayMuted",!0)),1!=this.Bs&&this.Is&&!this.Ns||(this.Fo.setImaOption("adsWillPlayMuted",!1),Z("audio_jack_active","ga2",null,null,this.Jt,this.ti,this.ii,this.ei,this.si,this.ni,this.oi),this.Re=!0),"google_mcm"==this.si&&Z("vpmute_".concat(Number(this.Fo.getImaOption("adsWillPlayMuted"))),"ga2",null,null,this.Jt,this.ti,this.ii,this.ei,this.si,this.ni,this.oi),this.Fo.requestAds(),this.Bh()}));else{if(1==this.Jt.static_vpmute){var e="google_mcm"!=this.si&&"google_mcm_apac"!=this.si;this.Fo.setImaOption("adsWillPlayMuted",e)}else this.Fo.setImaOption("adsWillPlayMuted",!0);this.Re=!1,"google_mcm"==this.si&&Z("vpmute_".concat(Number(this.Fo.getImaOption("adsWillPlayMuted"))),"ga2",null,null,this.Jt,this.ti,this.ii,this.ei,this.si,this.ni,this.oi),this.Fo.requestAds(),this.Bh()}this.Oa()}Bh(){if(this.Ke||!this.$e)return;this.Ke=!0;let t=Date.now()-this.Jt.vdo_ai_initial_time,i="";switch(!0){case t>=0&&t<=1e3:i="requests_btwn_0_to_1";break;case t>=1001&&t<=2e3:i="requests_btwn_1_to_2";break;case t>=2001&&t<=3e3:i="requests_btwn_2_to_3";break;case t>=3001&&t<=4e3:i="requests_btwn_3_to_4";break;case t>=4001&&t<=5e3:i="requests_btwn_4_to_5";break;case t>=5001&&t<=6e3:i="requests_btwn_5_to_6";break;case t>=6001&&t<=7e3:i="requests_btwn_6_to_7";break;case t>=7001&&t<=8e3:i="requests_btwn_7_to_8";break;case t>=8001&&t<=9e3:i="requests_btwn_8_to_9";break;case t>=9001&&t<=1e4:i="requests_btwn_9_to_10";break;case t>1e4:i="requests_above_10"}i.length&&Z(i,"ga2",null,null,this.Jt,this.ti,this.ii,this.ei,this.si,this.ni,this.oi)}fh(t){this.Jt.unitId,this.Po=t;var i=t.cpm/1e3;Z("revenue","pixel",""+i,null,this.Jt,this.ti,this.ii,this.ei,this.si,this.ni,this.oi),Z("revenue_"+t.bidder,"pixel",""+i,null,this.Jt,this.ti,this.ii,this.ei,this.si,this.ni,this.oi);t.mediaType,t.bidder;var e="amazon"!=t.bidder;if(e||(this.ne=this.ne.filter((i=>{if(i.amzniid!=t.amzniid)return!0}))),"banner"!==t.mediaType)if(pbjs_vdo.markWinningBidAsUsed(t),this.Hi=t.cpm/1e3,this.An=t.auctionId,this.Oo=t.bidder,t.vastXml){var s=t.vastXml;this.Fa(s)}else{var n=t.vastUrl;this.Fa(n,"url")}else{var o=t.size.split("x"),r=this;this.Nh(parseFloat(o[0]),parseFloat(o[1]),(function(i){location.href.indexOf("sample_vdo_mode=display")>=0?i.contentDocument.write('<a href="https://vdo.ai/" target="_blank"><img width="300" height="250" src="//vdo.ai/samplebanner.gif"/></a>'):e?("freewheel-ssp"==t.bidder&&r.Rh(),pbjs_vdo.renderAd(i.contentDocument,t.adId),r.Jt.unitId,Z("banner_pbjs_loaded",null,null,null,r.Jt,r.ti,r.ii,r.ei,r.si,r.ni,r.oi)):(r.Jt.unitId,i.contentDocument.write(t.code),Z("banner_amzn_loaded",null,null,null,r.Jt,r.ti,r.ii,r.ei,r.si,r.ni,r.oi),i.contentDocument.close()),r.Gn+=30,r.Ji=setTimeout((function(){r.Uh.call(r)}),3e4);var s=document.querySelector("#"+r.Jt.unitId+" #vdo_banner_progress_inner");s&&(s.style.width="100%"),r.Jt.exposeClickTag&&(window.clickTAG=""),r.Ga(!0),r.Ha()}))}}Uh(t){if(this.xs=!0,this.Ph()&&this.Ph().remove(),document.getElementById(this.Jt.id).style.display="block",this.Mn.style.display="block",this.Ho||this.ba(),vdo_ai_.players[this.Jt.unitId].gptSlot){var i=this;googletag.cmd.push((function(){googletag.destroySlots([vdo_ai_.players[i.Jt.unitId].gptSlot]),vdo_ai_.players[i.Jt.unitId].gptSlot=null}))}clearTimeout(this.Ji),this.be&&this.hideAmazonPlayer&&this.hideAmazonPlayer(!1),window.freewheelOutstreamAdComplete&&(window.freewheelOutstreamAdComplete=void 0),this.Fi>=this.Jt.max_ad_breaks&&(this.Jt.unitId,this.Fi,this.Jo=!0,this.Bi=26);i=this;this.Gn>Math.round(this.Zt.duration())&&(this.Jo=!0,this.Bi=26),t||this.Ho||this.za(),this.Jt.showOnlyOnAd&&!this.amazonPlayerPlayingAd&&(this.Jt.playAdsOnly&&this.gi("add"),"floating"==this.Jt.unitType||this.Jt.playAdsOnly||(document.querySelector("#"+i.Jt.parent_div).classList.add("vdo_collapsible"),i.nextButtonClicked&&(i.nextButtonClicked=!1,ot(i.bi,0,(function(){i.nextButtonClicked=!0}),"",i.Jt.showGreyOverlay))))}Nh(t,i,e){let s=this.Po.bidder;"yahoossp"===this.Po.bidder&&"rhythmone_banner"===this.Po.adUnitCode&&(s="mediafuse_aol"),this.Jt.unitId,this.be&&this.hideAmazonPlayer&&this.hideAmazonPlayer(!0),this.Zt.pause(),this.Bn||(document.getElementById(this.Jt.id).style.display="none"),this.Mn.style.display="none",this.hi.style.display="block",this.Ph()&&this.Ph().remove();var n=document.createElement("vdo");n.id="vdo_banner_frame",this.Bn||n.setAttribute("style","position: relative; width: fit-content; margin: 0 auto;");var o=document.createElement("vdo");n.appendChild(o),this.Bn&&n.appendChild(this.sh());var r=document.createElement("a");r.href="https://vdo.ai",r.target="_blank",r.id="vdo_banner_logo",r.classList.add("vdo_banner_logo"),r.innerHTML='<img src="//a.vdo.ai/core/assets/img/logo.svg" alt="VDO.AI" style="vertical-align:middle!important;height:11px!important">',!this.Bn&&this.Jt.showLogo&&o.appendChild(r);var a=document.createElement("iframe");a.setAttribute("style","border: none!important; width: "+t+"px!important; height: "+i+"px!important; overflow: hidden!important;"),a.setAttribute("scrolling","no");var h=this;return a.addEventListener("load",(function t(){a.removeEventListener("load",t),e&&e(this);var i=document.createElement("style");i.innerHTML="body{margin: 0px}",this.contentDocument.head.appendChild(i),Z("ad_match","pixel",{offset:h.ri,partner:s,cpm:h.Po.cpm,type:"banner"},null,h.Jt,h.ti,h.ii,h.ei,h.si,h.ni,h.oi),h.Oh(!1,s,h.Po.cpm)})),o.appendChild(a),document.getElementById(this.Jt.id).parentNode.appendChild(n),this.Bn&&o.appendChild(this.Lh()),this.Lo=!0,a}sh(){var t=document.createElement("vdo");t.id="vdo_banner_progress";var i=document.createElement("vdo");return i.id="vdo_banner_progress_inner",t.appendChild(i),t}Rh(){window.freewheelOutstreamAdComplete=()=>{this.Uh()}}Lh(){var t=document.createElement("vdo");t.classList.add("skip-ui-wrapper");return t.innerHTML='<svg width="105" height="40" viewBox="0 0 302 113" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="Vector"><path d="M0 15C0 6.71573 6.71573 0 15 0H287C295.284 0 302 6.71573 302 15V98C302 106.284 295.284 113 287 113H15C6.71572 113 0 106.284 0 98V15Z" fill="black"/><path d="M56.2635 47.8182C56.059 46.0909 55.2294 44.75 53.7749 43.7955C52.3203 42.8409 50.5362 42.3636 48.4226 42.3636C46.8771 42.3636 45.5249 42.6136 44.3658 43.1136C43.218 43.6136 42.3203 44.3011 41.6726 45.1761C41.0362 46.0511 40.718 47.0455 40.718 48.1591C40.718 49.0909 40.9396 49.892 41.3828 50.5625C41.8374 51.2216 42.4169 51.7727 43.1214 52.2159C43.826 52.6477 44.5646 53.0057 45.3374 53.2898C46.1101 53.5625 46.8203 53.7841 47.468 53.9545L51.0135 54.9091C51.9226 55.1477 52.9339 55.4773 54.0476 55.8977C55.1726 56.3182 56.2464 56.892 57.2692 57.6193C58.3033 58.3352 59.1555 59.2557 59.826 60.3807C60.4965 61.5057 60.8317 62.8864 60.8317 64.5227C60.8317 66.4091 60.3374 68.1136 59.3487 69.6364C58.3715 71.1591 56.9396 72.3693 55.0533 73.267C53.1783 74.1648 50.8999 74.6136 48.218 74.6136C45.718 74.6136 43.5533 74.2102 41.7237 73.4034C39.9055 72.5966 38.4737 71.4716 37.4283 70.0284C36.3942 68.5852 35.8089 66.9091 35.6726 65H40.0362C40.1499 66.3182 40.593 67.4091 41.3658 68.2727C42.1499 69.125 43.1385 69.7614 44.3317 70.1818C45.5362 70.5909 46.8317 70.7955 48.218 70.7955C49.8317 70.7955 51.2805 70.5341 52.5646 70.0114C53.8487 69.4773 54.8658 68.7386 55.6158 67.7955C56.3658 66.8409 56.7408 65.7273 56.7408 64.4545C56.7408 63.2955 56.4169 62.3523 55.7692 61.625C55.1214 60.8977 54.2692 60.3068 53.2124 59.8523C52.1555 59.3977 51.0135 59 49.7862 58.6591L45.4908 57.4318C42.7635 56.6477 40.6044 55.5284 39.0135 54.0739C37.4226 52.6193 36.6271 50.7159 36.6271 48.3636C36.6271 46.4091 37.1555 44.7045 38.2124 43.25C39.2805 41.7841 40.7124 40.6477 42.5078 39.8409C44.3146 39.0227 46.3317 38.6136 48.5589 38.6136C50.8089 38.6136 52.8089 39.017 54.5589 39.8239C56.3089 40.6193 57.6953 41.7102 58.718 43.0966C59.7521 44.483 60.2976 46.0568 60.3544 47.8182H56.2635Z" fill="white"/><path d="M70.9865 64.4545L70.9183 59.4773H71.7365L83.1911 47.8182H88.1683L75.9638 60.1591H75.6229L70.9865 64.4545ZM67.2365 74V39.0909H71.2592V74H67.2365ZM83.8729 74L73.6456 61.0455L76.5092 58.25L88.9865 74H83.8729Z" fill="white"/><path d="M93.3459 74V47.8182H97.3686V74H93.3459ZM95.3913 43.4545C94.6072 43.4545 93.9311 43.1875 93.3629 42.6534C92.8061 42.1193 92.5277 41.4773 92.5277 40.7273C92.5277 39.9773 92.8061 39.3352 93.3629 38.8011C93.9311 38.267 94.6072 38 95.3913 38C96.1754 38 96.8459 38.267 97.4027 38.8011C97.9709 39.3352 98.255 39.9773 98.255 40.7273C98.255 41.4773 97.9709 42.1193 97.4027 42.6534C96.8459 43.1875 96.1754 43.4545 95.3913 43.4545Z" fill="white"/><path d="M104.737 83.8182V47.8182H108.623V51.9773H109.1C109.396 51.5227 109.805 50.9432 110.327 50.2386C110.862 49.5227 111.623 48.8864 112.612 48.3295C113.612 47.7614 114.964 47.4773 116.668 47.4773C118.873 47.4773 120.816 48.0284 122.498 49.1307C124.18 50.233 125.492 51.7955 126.435 53.8182C127.379 55.8409 127.85 58.2273 127.85 60.9773C127.85 63.75 127.379 66.1534 126.435 68.1875C125.492 70.2102 124.185 71.7784 122.515 72.892C120.844 73.9943 118.918 74.5455 116.737 74.5455C115.055 74.5455 113.708 74.267 112.697 73.7102C111.685 73.142 110.907 72.5 110.362 71.7841C109.816 71.0568 109.396 70.4545 109.1 69.9773H108.759V83.8182H104.737ZM108.691 60.9091C108.691 62.8864 108.981 64.6307 109.56 66.142C110.14 67.642 110.987 68.8182 112.1 69.6705C113.214 70.5114 114.577 70.9318 116.191 70.9318C117.873 70.9318 119.276 70.4886 120.401 69.6023C121.538 68.7045 122.39 67.5 122.958 65.9886C123.538 64.4659 123.827 62.7727 123.827 60.9091C123.827 59.0682 123.543 57.4091 122.975 55.9318C122.418 54.4432 121.572 53.267 120.435 52.4034C119.31 51.5284 117.896 51.0909 116.191 51.0909C114.555 51.0909 113.18 51.5057 112.066 52.3352C110.952 53.1534 110.112 54.3011 109.543 55.7784C108.975 57.2443 108.691 58.9545 108.691 60.9091Z" fill="white"/><path d="M149.464 74H145.032L157.85 39.0909H162.214L175.032 74H170.6L160.168 44.6136H159.896L149.464 74ZM151.1 60.3636H168.964V64.1136H151.1V60.3636Z" fill="white"/><path d="M189.81 74.5455C187.629 74.5455 185.702 73.9943 184.032 72.892C182.362 71.7784 181.055 70.2102 180.112 68.1875C179.168 66.1534 178.697 63.75 178.697 60.9773C178.697 58.2273 179.168 55.8409 180.112 53.8182C181.055 51.7955 182.367 50.233 184.049 49.1307C185.731 48.0284 187.674 47.4773 189.879 47.4773C191.583 47.4773 192.93 47.7614 193.918 48.3295C194.918 48.8864 195.68 49.5227 196.202 50.2386C196.737 50.9432 197.151 51.5227 197.447 51.9773H197.788V39.0909H201.81V74H197.924V69.9773H197.447C197.151 70.4545 196.731 71.0568 196.185 71.7841C195.64 72.5 194.862 73.142 193.85 73.7102C192.839 74.267 191.492 74.5455 189.81 74.5455ZM190.356 70.9318C191.969 70.9318 193.333 70.5114 194.447 69.6705C195.56 68.8182 196.407 67.642 196.987 66.142C197.566 64.6307 197.856 62.8864 197.856 60.9091C197.856 58.9545 197.572 57.2443 197.004 55.7784C196.435 54.3011 195.594 53.1534 194.481 52.3352C193.367 51.5057 191.992 51.0909 190.356 51.0909C188.651 51.0909 187.231 51.5284 186.094 52.4034C184.969 53.267 184.123 54.4432 183.555 55.9318C182.998 57.4091 182.719 59.0682 182.719 60.9091C182.719 62.7727 183.004 64.4659 183.572 65.9886C184.151 67.5 185.004 68.7045 186.129 69.6023C187.265 70.4886 188.674 70.9318 190.356 70.9318Z" fill="white"/><path d="M262 56L224 78V34L262 56Z" fill="white"/><path d="M270 33H274V79H270V33Z" fill="white"/></g></svg>',t.addEventListener("click",this.zh.bind(this)),t}zh(){this.zo=!0,this.Jt.disposeOnSkip&&this.Lr(vdo_ai_[this.Jt.unitId]),clearTimeout(this.Ji),this.Uh(),this.er&&(clearInterval(this.er),this.er=null)}Ah(t){this.Jt.unitId,t>10&&(t-=15),pbjs_vdo=pbjs_vdo||{},pbjs_vdo.removeAdUnit(),pbjs_vdo.que=pbjs_vdo.que||[];var i,e=[],s=[],n=[],o=[],r=[],a=[],h=[30,35].indexOf(this.Un)>=0;"desktop"==this.Ci&&728==this.dn.desktop[0][0]?i=[[728,90]]:"mobile"==this.Ci&&320==this.dn.mobile[0][0]&&(i=[[320,50]]);let l=i||[[320,50]],u="320,50"==l.toString()?"mobile":"desktop";var d=Ht[this.Wt]&&Ht[this.Wt][u];Gt[this.Wt]&&Gt[this.Wt][u];this.an[1].mediaTypes.banner.sizes=this.dn[this.Ci],this.an[2].mediaTypes.banner.sizes=l,this.Qs[2].mediaTypes.banner.sizes=this.dn[this.Ci],this.Js[2].mediaTypes.banner.sizes=this.dn[this.Ci],this.Ws[2].mediaTypes.banner.sizes=this.dn[this.Ci],this.Zs[2].mediaTypes.banner.sizes=this.dn[this.Ci],this.qs[2].mediaTypes.banner.sizes=this.dn[this.Ci];var c=this.Fh(t);this.an[0].mediaTypes.banner.sizes=this.dn[this.Ci],this.an[0].bids=c.filter((function(t){return!("appnexus_apac"==t.bidder||"yahoossp"==t.bidder||"mediafuse_aol"==t.bidder||t.bidder.includes("_WC")||t.bidder.includes("_atlas")||t.bidder.includes("_jj")||t.bidder.includes("_adsolut")||t.bidder.includes("_HS"))})),this.Js[2].bids=c.filter((function(t){return t.bidder.includes("_atlas")})),this.Ws[2].bids=c.filter((t=>t.bidder.includes("_adsolut"))),this.Zs[2].bids=c.filter((t=>t.bidder.includes("_HS"))),this.qs[2].bids=c.filter((t=>t.bidder.includes("_jj")));let v=this;this.an[2].bids=[],this.Qs[2].bids=c.filter((function(t){return"yahoossp"==t.bidder?!!d&&(t.params.pos=d,!0):!!t.bidder.includes("_WC")})),this.an[1].bids=c.filter((t=>"appnexus_apac"==t.bidder));let f=this.Js[2].bids.findIndex((t=>"ix_atlas"===t.bidder));if(this.Js[2].ortb2Imp.ext.data.adserver.adslot=this.Os.companion,f>=0&&(this.Js[2].ortb2Imp.ext.data.adserver.adslot+=t,Z("ix_companion_bid","ga",null,null,this.Jt,this.ti,this.ii,this.ei,this.si,this.ni,this.oi)),this.an[0].bids[0]&&this.an[0].bids.length&&e.push(this.an[0]),this.an[1].bids&&this.an[1].bids.length&&e.push(this.an[1]),this.Qs[2].bids&&this.Qs[2].bids.length&&s.push(this.Qs[2]),this.Js[2].bids&&this.Js[2].bids.length&&n.push(this.Js[2]),this.Ws[2].bids.length&&o.push(JSON.parse(JSON.stringify(this.Ws[2]))),this.Zs[2].bids.length&&r.push(JSON.parse(JSON.stringify(this.Zs[2]))),this.qs[2].bids.length&&a.push(JSON.parse(JSON.stringify(this.qs[2]))),h&&0==e.length&&0==s.length&&0==n.length&&0==this.an[2].bids.length){this.Jt.unitId,this.Gh();var p=this.Hh();this.Vh(p.width,p.height)}else{this.xh(t)&&(this.Jt.dfp_companion&&window.vdo_companion_slot&&window.vdo_companion_sizes?this.Yh():this.Qh(),this.da("amazon"));var m=[],g=[],A=[...e,...s,...n,...o,...r,...a];for(const t of A)for(const i of t.bids)t.floors={currency:"USD",schema:{fields:["mediaType"]},values:{banner:this.nn}},(i.bidder.includes("_WC")||"yahoossp"==i.bidder)&&(i.bidder=i.bidder.replace(/_WC/g,""),m.push(i.bidder)),(i.bidder.includes("_atlas")||"appnexus_apac"==i.bidder)&&(i.bidder=i.bidder.replace(/_atlas/g,""),g.push(i.bidder)),i.bidder.includes("_jj")&&(i.bidder=i.bidder.replace(/_jj/g,""),this.Fs.includes(i.bidder)||this.Fs.push(i.bidder)),i.bidder.includes("_adsolut")&&(i.bidder=i.bidder.replace(/_adsolut/g,""),this.Gs.includes(i.bidder)||this.Gs.push(i.bidder)),i.bidder.includes("_HS")&&(i.bidder=i.bidder.replace(/_HS/g,""),this.Hs.includes(i.bidder)||this.Hs.push(i.bidder)),this.Jt.dfp_companion&&(t.code="vdo-banner-ad",t.mediaTypes.banner.sizes=window.vdo_companion_sizes);pbjs_vdo.que.push((()=>{pbjs_vdo.aliasBidder("appnexus","appnexus_apac"),pbjs_vdo.aliasBidder("adkernel","xapads"),v.Ar.bidders=[...new Set([...m,...g,...v.Gs,...v.Hs,...v.Fs])],v.Ar.bidders&&v.Ar.bidders.length&&pbjs_vdo.setBidderConfig(v.Ar),pbjs_vdo.addAdUnits(e),pbjs_vdo.bidderSettings={adagio:{storageAllowed:!0}},pbjs_vdo.setConfig(this.pr),pbjs_vdo.requestBids({bidsBackHandler:function(t){v.Jh(t)}}),n&&n.length&&(pbjs_vdo.removeAdUnit(),v.gr.bidders=g,pbjs_vdo.setBidderConfig(v.gr),pbjs_vdo.addAdUnits(n),pbjs_vdo.requestBids({bidsBackHandler:function(t){v.Jh(t)}})),s&&s.length&&(pbjs_vdo.removeAdUnit(),v.mr.bidders=m,pbjs_vdo.setBidderConfig(v.mr),pbjs_vdo.addAdUnits(JSON.parse(JSON.stringify(s))),pbjs_vdo.requestBids({bidsBackHandler:function(t){v.Jh(t)}})),o.length&&(pbjs_vdo.removeAdUnit(),v.br.bidders=v.Gs,pbjs_vdo.setBidderConfig(v.br),pbjs_vdo.addAdUnits(JSON.parse(JSON.stringify(o))),pbjs_vdo.requestBids({bidsBackHandler:function(t){v.Jh(t)}})),r.length&&(pbjs_vdo.removeAdUnit(),v.yr.bidders=v.Hs,pbjs_vdo.setBidderConfig(v.yr),pbjs_vdo.addAdUnits(JSON.parse(JSON.stringify(r))),pbjs_vdo.requestBids({bidsBackHandler:function(t){v.Jh(t)}})),a.length&&(pbjs_vdo.removeAdUnit(),v.wr.bidders=v.Fs,pbjs_vdo.setBidderConfig(v.wr),pbjs_vdo.addAdUnits(JSON.parse(JSON.stringify(a))),pbjs_vdo.requestBids({bidsBackHandler:function(t){v.Jh(t)}})),this.an[2].bids.length>0&&(pbjs_vdo.removeAdUnit(),pbjs_vdo.setBidderConfig({bidders:["yahoossp"],config:{schain:{validation:"strict",config:{ver:"1.0",complete:1,nodes:[{asi:"yahoo.com",sid:"57872",hp:0}]}}}}),pbjs_vdo.addAdUnits(this.an[2]),pbjs_vdo.requestBids({bidsBackHandler:function(t){v.Jh(t)}})),this.Ss=Date.now()+500,setTimeout((()=>{this.Jt.dfp_companion?this.Gh():this.Wh()}),this.ie+200)}))}}Jh(t){t&&t["vdo-banner-ad"]&&(window.companionPrebidAdWidth=t["vdo-banner-ad"].bids[0].width,window.companionPrebidAdHeight=t["vdo-banner-ad"].bids[0].height)}Wh(){var t,i,e,s=pbjs_vdo.getHighestCpmBids(this.an[0].code),n=pbjs_vdo.getHighestCpmBids(this.an[2].code),o=pbjs_vdo.getHighestCpmBids(this.an[1].code),r=pbjs_vdo.getHighestCpmBids(this.Qs[2].code),a=pbjs_vdo.getHighestCpmBids(this.Js[2].code),h=pbjs_vdo.getHighestCpmBids(this.Ws[2].code),l=pbjs_vdo.getHighestCpmBids(this.Zs[2].code),u=pbjs_vdo.getHighestCpmBids(this.qs[2].code);s[0]||(s[0]={cpm:0}),o[0]||(o[0]={cpm:0}),r[0]||(r[0]={cpm:0}),a[0]||(a[0]={cpm:0}),n[0]||(n[0]={cpm:0}),h[0]||(h[0]={cpm:0}),l[0]||(l[0]={cpm:0}),u[0]||(u[0]={cpm:0});var d=s[0].cpm>=o[0].cpm?s:o;d=(d=(d=(d=(d=(d=d[0].cpm>=r[0].cpm?d:r)[0].cpm>=a[0].cpm?d:a)[0].cpm>=n[0].cpm?d:n)[0].cpm>=h[0].cpm?d:h)[0].cpm>=l[0].cpm?d:l)[0].cpm>=u[0].cpm?d:u;let c=!1;if(location.href.indexOf("sample_vdo_mode=display")>=0){let t={desktop:{width:728,height:90},mobile:{width:320,height:50}};d[0]={cpm:100,mediaType:"banner",size:"300x250",bidder:"vdoaisample",adId:"vdoaisample-123",width:t[this.Ci].width,height:t[this.Ci].height},c=!0}let v=(d.length>0&&d[0]&&d[0].cpm,d[0]),f=this.Dh(v)||this.Sn;v&&v.cpm&&v.cpm<f&&(v={cpm:0}),this._h(v,this.re,!0).then((s=>{if(d[0]=s,!s.bidder&&this.re.length&&(this.re=[]),d[0]&&d[0].bidder){this.Jt.unitId,d[0],t=d[0].width,i=d[0].height,"amazon"==d[0].bidder?(t=d[0].size.split("x")[0],i=d[0].size.split("x")[1],e=d[0].code,this.re=this.re.filter((t=>{if(t.amzniid!=s.amzniid)return!0}))):e=d[0].adId;let o=d[0].bidder;d[0].adUnitCode==this.an[2].code&&(o="mediafuse_aol"),d[0].adUnitCode==this.Qs[2].code&&"yahoossp"!=o&&(o+="_WC"),d[0].adUnitCode==this.Js[2].code&&"appnexus_apac"!=o&&(o+="_atlas"),d[0].adUnitCode==this.Ws[2].code&&(o+="_adsolut"),d[0].adUnitCode==this.Zs[2].code&&(o+="_HS"),d[0].adUnitCode==this.qs[2].code&&(o+="_jj");var n=this.In;n.style.width="".concat(t,"px"),n.style.height="".concat(i,"px"),n.style.minWidth="".concat(t,"px"),n.style.minHeight="".concat(i,"px"),this.Zh(e,t,i,c,d[0].bidder,d[0].cpm),Z("ad_match","pixel",{offset:this.ri,partner:o,cpm:d[0].cpm,type:"companion"},null,this.Jt,this.ti,this.ii,this.ei,this.si,this.ni,this.oi)}else this.Gh()})).catch((t=>{this.Jt.unitId,G(t,"compareAmazonPrebidBid, companion",this.Wt)}))}Qh(){!this._e&&this.Za.apstag.init(Bt({pubID:"b3d50ad3-eca1-4091-be72-de4a8bc67a3d",adServer:"googletag",videoAdServer:"DFP",schain:{ver:"1.0",complete:1,nodes:[{asi:"vdo.ai",sid:""+this.Jt.pubId_vdo,hp:1}]}},this._r&&{params:{us_privacy:this._r}})),this._e=!0;let t=[{slotID:"banner2"+this.Jt.unitId,sizes:this.dn[this.Ci],slotName:"box-companion",floor:{value:100*this.nn,currency:"USD"}}];this.Za.apstag.fetchBids({slots:t,timeout:this.ie},function(t){t[0].hasOwnProperty("amznbid")&&t[0].amznbid&&t[0].amzniid&&(t[0].mediaType="banner",t[0].adType="banner",t[0].partner="amazon",t[0].bidder="amazon",t[0].width=t[0].size.split("x")[0],t[0].height=t[0].size.split("x")[1],this.re.push(t[0]))}.bind(this))}Hh(){var t=468==this.dn[this.Ci][0][0]?1:0;return{width:this.dn[this.Ci][t][0],height:this.dn[this.Ci][t][1]}}Zh(t,e,s,n,o,r){this.un=!0,this.Jt.unitId;let a=document.createElement("iframe");a.id="vdo_companion_frame",a.setAttribute("FRAMEBORDER",0),a.setAttribute("SCROLLING","no"),a.setAttribute("MARGINHEIGHT",0),a.setAttribute("MARGINWIDTH",0),a.setAttribute("TOPMARGIN",0),a.setAttribute("LEFTMARGIN",0),a.setAttribute("style","border:none; width: "+e+"px; height: "+s+"px; ");let h=null;var l=this;a.addEventListener("load",(function u(){a.removeEventListener("load",u),h=this.contentDocument,l.Ss=Date.now(),t?("amazon"==o?(h.write(t),h.close()):pbjs_vdo.renderAd(h,t),"v-rediff-v3"!==l.Wt&&l.Oh(!0,o,r),l.companionBannerTimer=setTimeout((function(){l.Gh.call(l)}),l.ke),Z("companion_pbjs_loaded",null,null,null,l.Jt,l.ti,l.ii,l.ei,l.si,l.ni,l.oi),l.Jt.unitId):n&&(!function(t,i,e,s){i+="?size="+e+"x"+s;let n="border: none;  width: "+e+"px; height: "+s+"px;";t.write("<iframe width="+e+" height="+s+" style="+n+" src="+i+" frameborder='0' allowfullscreen></iframe>")}(h,location.protocol+"//vdo.ai/core/backupbanner.php",e,s),l.companionBannerTimer=setTimeout((function(){l.Gh.call(l)}),l.ke)),i().is(l.In)&&(l.Es=!0)})),this.In&&this.In.appendChild(a)}Gh(){if(this.un)this.Es&&this.oa();else{let t=Date.now()-this.Ss;if(t>=this.ke)this.oa();else{let i=this.ke-t;setTimeout((()=>{this.oa()}),i)}}}Vh(t,i){this.Jt.unitId;var e=this.Jt.adx&&this.Jt.adx[this.qh()],s=(e=function(t,i,e,s){if(!t)return!1;let n;if(s?n=s:dt[e]&&(n=dt[e]),n){let e=n.all||n[t.name]||{};switch(e.geoType){case"include":if(e.geoCountries.indexOf(i)>=0||e.geoCountries.indexOf("all")>=0)return t;break;case"exclude":if(e.geoCountries.indexOf(i)>=0||e.geoCountries.indexOf("all")>=0)return!1}}return t}(e=e&&e[0],this.Jt.country,this.Wt,this.Jt.targeting[this.Ci]))&&e.placement_id;if(s&&!this._n&&468!=t){this.Jt.unitId;var n=this,o='<ins class="adsbygoogle" style="display:inline-block;width:'+t+"px;height:"+i+'px" data-ad-client="'+(e.name&&"google_apac"==e.name?"ca-pub-2403018226404213":"ca-pub-7094677798399606")+'" data-ad-slot="'+s+'"></ins>';if(this.In.innerHTML=o,!window.adsbygoogle){var r=document.createElement("script");r.type="text/javascript",r.src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js",r.async=!0,this.In&&this.In.appendChild(r)}(window.adsbygoogle=window.adsbygoogle||[]).push({}),this.mn=setTimeout((function(){Z("companion_adx_matched",null,null,null,n.Jt,n.ti,n.ii,n.ei,n.si,n.ni,n.oi),n.qt||n.Xh(),"floating"!=n.Jt.unitType&&(n.Tn.style.minHeight=n.Jt.height+"px"),n.hi.style.display="block",n.companionBannerTimer=setTimeout((function(){n.Gh()}),3e4),n.Oh()}),5e3)}else this.Gh(),this.Jt.unitId}Oh(t,i,e){let s="companion";t||(this.Fi++,s="banner"),this.Lo=!0,this.qt||(this.qt=!0,this.Ue=!0,this.Xh(),this.Kh("firstadmatch"),this.Wo>0&&(this.Pn=setTimeout((()=>{top!=self&&window.innerWidth>1?this.$h():this.Lr(vdo_ai_[this.Jt.unitId])}),this.Wo))),Z("pageview_match","both","no_rule_id",null,this.Jt,this.ti,this.ii,this.ei,this.si,this.ni,this.oi),this.tl(),this.il("check_cancel_request"),this.Kt(i,e,s),this.Zo&&(document.querySelector("#"+this.Jt.parent_div+" #vdo_ai_side_banner_wrapper").style.display="flex"),this.er&&(clearInterval(this.er),this.er=null),"content-floating"==this.Jt.unitType&&this.Jt.show_on_ad&&this.Ui<2&&this.ga()}tl(){if(this.Jt.unitId,this.Rr("cancelTimeoutType").type,null==this.Rr("cancelTimeoutType").type&&(this.Rr("cancelTimeoutType").type="timeout"),"event"==this.Rr("cancelTimeoutType").type)this.Jt.show_on==this.Rr("cancelTimeoutType").eventtype?this.pa():this.Zt.on(this.Rr("cancelTimeoutType").eventtype,(function(){setCancelButton()}));else{this.Jt.unitId,null==this.Rr("cancelTimeoutType").cancelTimeout&&(this.Rr("cancelTimeoutType").cancelTimeout=this.Jt.cancelTimeout);var t=this;this.Pe||(this.Pe=setTimeout((function(){t.Li=!0,t.pa()}),this.Rr("cancelTimeoutType").cancelTimeout))}}Ua(t){let i=document.getElementById(this.Jt.id+"_ima-controls-div"),e=document.getElementsByClassName(this.Jt.id+"_ima-fullscreen-div"),s=document.getElementsByClassName(this.Jt.id+"_ima-mute-div"),n=document.getElementsByClassName("vdo_control_cancel_stay_button")[0],o="mobile"==this.Ci?7:4;if("floating"!==this.Jt.unitType&&this.Zt)r=this.Zt.width()*o/100;else var r=this.Jt.width*o/100;if(r=Math.max(r,15),r=Math.min(r,35),this.bi){var a=this.bi.querySelector(".vdoai_volumeButton");a&&a.style.setProperty("font-size",r+"px");var h=this.bi.querySelector(".vdoai_fullScreenButton");h&&h.style.setProperty("font-size",r+"px")}if(t){if(null!=i){i.style.fontSize="";var l=i.getAttribute("style")+"font-size:"+r+"px !important;";i.style.height?l+="height: "+(r+11)+"px!important":l+="height: "+(i.scrollHeight+3)+"px!important",i.setAttribute("style",l)}e.length>0&&(e=e[0],e.style.right="16.4%"),s.length>0&&(s=s[0],s.style.right="30.3%")}else{if(null!=i){i.style.fontSize="";l=i.getAttribute("style")+"font-size:"+r+"px !important;";i.style.height?l+="height: "+(r+11)+"px!important":l+="height: "+(i.scrollHeight+3)+"px!important",i.setAttribute("style",l)}s.length>0&&(s=s[0],s.style.right="30.3%"),e.length>0&&(e=e[0],e.style.right="16.4%")}if(this.Tn)var u=this.Tn.getElementsByClassName("vdo_next_stay_wrapper")[0];if(u){var d=this.bi.offsetHeight;d&&(u.style.height=d+"px"),n&&n.setAttribute("style","font-size: ".concat(7*d/100,"px !important; margin: 0px !important;"))}"v-prajavani-net"==this.Wt&&"mobile"==this.Ci&&i&&(i.style.height="")}pa(){if(this.Jt.unitId,this.ma())this.zi=!1,this.ma().remove(),this.pa();else{this._i||this.el(),this.bi&&(this.bi.style.margin="0px");var t=document.createElement("div");t.setAttribute("aria-hidden",!0),t.id="cross_div",t.style.position="static",this.Jt.showLogo||(t.style.background="#ffffff69",this.Jt.dual_player||(t.style.backdropFilter="blur(5px)"));var i=document.createElement("div");if(i.setAttribute("aria-hidden",!0),i.src="//a.vdo.ai/core/assets/img/cross.svg",i.classList.add("cross"),i.id="vdo_ai_cross",t.appendChild(i),this.Rr("crossSize")||(this.Jt[this.Ci].crossSize=20),this.Rr("crossSize")){var e=this.Rr("crossSize");Math.floor(e/2);this.Rr("dispose_off")&&"floating"!=this.Jt.unitType&&(this.Jt.show_on_ad&&!this.qt||(this.Tn.style.height=this.Jt.height+Math.max(e,20)+"px"),this.ee=!0);var s="width: "+e+"px!important; height: "+e+"px!important; max-width: unset!important;margin: 0px!important;";i.setAttribute("style",s)}this.Jt.showLogo?document.querySelector("#"+this.Jt.unitId+" #vdo_logo_parent")&&document.querySelector("#"+this.Jt.unitId+" #vdo_logo_parent").prepend(t):document.getElementById(this.Jt.unitId)&&document.getElementById(this.Jt.unitId).insertBefore(t,document.getElementById(this.Jt.unitId).firstChild);var n=this;i.addEventListener("click",(function(){n.sl.call(n)})),this.zi=!0}}sl(){if(this.Jt.unitId,Z("cross_clicked","both",null,null,this.Jt,this.ti,this.ii,this.ei,this.si,this.ni,this.oi),this.Oi=!0,this.ui=!0,"content-header"==this.Jt.unitType||"content-floating"==this.Jt.unitType)if(this.hi.classList.contains("vdo_floating")||this.hi.classList.contains("vdo_header")){var t=this;function i(){t.fi(),t.pi(),t.Ei=!0,t.xa()&&t.Sa(),t.il("cross_clicked")}this.gi("remove",i,"content-floating")}else{let e=this.ma();e&&(e.style.display="none"),this.Tn.style.height="0px",this.Lr(vdo_ai_[this.Jt.unitId]),this.en&&VdoAiAppInterface.hideWebView()}else"floating"!=this.Jt.unitType&&this.ma()&&this.ma().remove(),this.Tn&&(this.Tn.style.height="0px"),this.Lr(vdo_ai_[this.Jt.unitId]),this.en&&VdoAiAppInterface.hideWebView()}ma(){return document.querySelector("#"+this.Jt.unitId)&&document.querySelector("#"+this.Jt.unitId).querySelector("#cross_div")}qh(){return this.wn>=this.Ni.length&&(this.wn=0,this._n=!0),this.Ni[this.wn++]}uh(){return this.Qo||(this.Qo=0),this.Qo>=this.Co.length&&(this.Qo=0,this.Yo=!0),this.Co[this.Qo++]}dh(){let t=this.Io[this.xe];return this.xe++,this.xe>=this.Io.length&&(this.Ce=!0),t&&!t.ad_url.includes("vpmute")&&(t.ad_url=t.ad_url+"&vpmute=1"),t}Mh(t,i){var e;for(var s of t)e||s.adType!==i?s.adType===i&&s.cpm>e.cpm&&(e=s):e=s;return e||{}}xh(t){return!!(this.Jt.bidders[t].banner&&this.Jt.bidders[t].banner.amazon&&this.Jt.bidders[t].banner.amazon.length)}wh(t){this.da("amazon"),this.Jt.amzn_dual_player||(this.ce=!0),this.Jt.unitId,!this._e&&this.Za.apstag.init(Bt({pubID:"b3d50ad3-eca1-4091-be72-de4a8bc67a3d",adServer:"googletag",videoAdServer:"DFP",schain:{ver:"1.0",complete:1,nodes:[{asi:"vdo.ai",sid:""+this.Jt.pubId_vdo,hp:1}]}},this._r&&{params:{us_privacy:this._r}}));var i=this;return this._e=!0,new Promise(((e,s)=>{try{this.Za.apstag.fetchBids({slots:t,timeout:this.ie},(function(t){i.Jt.unitId,t.forEach((function(t){if(t.hasOwnProperty("amznbid")&&t.amznbid&&t.amzniid){let e=t.slotID.includes("video")||t.slotID.includes("outstream")?"video":"banner";t.mediaType=e,t.adType=e,t.partner="amazon",t.bidder="amazon",i.ne.push(t),"video"===t.adType&&Y("companion_adx_matched",null,null,i.Jt,i.Ro),i.oe.push(t)}else i.ne.push(t)})),e()}))}catch(t){s(t)}}))}kh(t){var i=this,e=[{slotID:this.no,slotName:t,sizes:this.Wn,floor:{value:100*this.rn,currency:"USD"}}];this.Za.apstag.fetchBids({slots:e},(function(t){t&&t.length&&(i.$n=[...t[0].amznsz.split("x")]),t&&t[0]&&t[0].amzniid&&(i.ps=!0,googletag.cmd.push((function(){i.oo&&(i.oo.setTargeting("amznbid",t[0].amznbid).setTargeting("amzniid",t[0].amzniid).setTargeting("amznsz",t[0].amznsz).setTargeting("amznp",t[0].amznp).setTargeting("amznactt",t[0].amznactt).setTargeting("site",window.location.hostname),i.do.aps=!0,i.eh())})))}))}Yh(){if(1!=window.vdo_ai_.ads[this.Jt.unitId].amazonHasAd){var t=this,i=[{slotID:"vdo-banner-ad",slotName:window.vdo_companion_slot,sizes:window.vdo_companion_sizes,floor:{value:100*t.nn,currency:"USD"}}];this.Za.apstag.fetchBids({slots:i},(function(i){i&&i[0]&&(i[0].amzniid&&(window.companionAmazonAdWidth=i[0].amznsz.split("x")[0],window.companionAmazonAdHeight=i[0].amznsz.split("x")[1],window.vdo_ai_.ads[t.Jt.unitId].amazonHasAd=!0),googletag.cmd.push((function(){window.vdoCompanionGptSlot.setTargeting("amznbid",i[0].amznbid).setTargeting("amzniid",i[0].amzniid).setTargeting("amznsz",i[0].amznsz).setTargeting("amznp",i[0].amznp).setTargeting("amznactt",i[0].amznactt).setTargeting("site",window.location.hostname)})))}))}}Th(t){this.se.push(t)}jh(t,i,e){if(this.nl(t)){var s=this.Jt.bidders[t].banner.prebid;s=JSON.parse(JSON.stringify(s));var n=i?this.dn[this.Ci]:this.Ys[1].mediaTypes.banner.sizes;s=function(t,i){for(var e,s=0;s<t.length;s++)if("ix"==t[s].bidder){e=t[s].params.siteId;break}var n=t.filter((function(t){return"ix"!==t.bidder}));return e&&i.forEach((function(t){n.push({bidder:"ix",params:{siteId:e,size:t}})})),n}(s,n);var o=i?this.Sn:this.kn;return rt("banner",s,n,e||o,this.Jt.targeting[this.Ci],this.Jt.s2s,this.Jt.pubId_vdo,this.Jt.country)}return this.ol(t)}ol(t){var i=(this.Jt.bidders[t].bids||[]).filter((function(t){})),e=this.kn;return i.map((function(t){var i={bidder:t.bidder,params:{placementId:t.params.placementId}};return e&&(i.params.reserve=e),i}))}Fh(t){var i=["adyoulike","vidoomy","eplanning","onetag","synacormedia","appnexus_apac","yahoossp","mediafuse_aol","iqzone","yandex","criteo","bcmssp","smilewanted","unruly_WC","brave","kueezrtb"];if(this.Jt.bidders&&this.Jt.bidders[t]){var e=this.jh(t,!0);return e=e.filter((function(t){return i.indexOf(t.bidder)>=0}))}return[]}nl(t){return!!(this.Jt.bidders[t].banner&&this.Jt.bidders[t].banner.prebid&&this.Jt.bidders[t].banner.prebid.length)}Oa(){this.Ri&&(this.Jt.unitId,clearInterval(this.We),this.Ri=!1)}rl(t){this.mh(!0).then((i=>{i?ii.includes(this.Wt)?t.start():this.Fo.playAdBreak():(this.Ae=!0,this.mh())}))}ra(){this.Jt.unitId;var t=this.Jt.id;if(this.Fo=vdo_ads(this.Jt.id,this.Jt),"content-header"==this.Rr("unitType")||"content-floating"==this.Rr("unitType"))if(i().is(document.querySelector(this.ai))||this.Oi)this.en&&VdoAiAppInterface.updateSize(config.height,config.width),this.Zt=vdo_player(t,this.Jt);else{var e=JSON.parse(JSON.stringify(this.Jt));e.height=this.Jt.smallHeight,e.width=this.Jt.smallWidth,this.Zt=vdo_player(t,e),this.en&&VdoAiAppInterface.updateSize(e.height,e.width)}else this.en&&VdoAiAppInterface.updateSize(this.Jt.height,this.Jt.width),this.Zt=vdo_player(t,this.Jt);if(this.Zt.volume(.01),(ii.includes(this.Wt)||this.Je)&&(this.ge=!1),!this.Cs){var s={id:t,debug:this.Ti,disableFlashAds:!1,autoPlayAdBreaks:this.ge,adsWillPlayMuted:!this.Bs,adsWillAutoplay:!1,disableCustomPlaybackForIOS10Plus:!0,vpaidMode:google.ima.ImaSdkSettings.VpaidMode.ENABLED,adsRenderingSettings:{loadVideoTimeout:16e3}};"theprint"==this.Wt&&(s.vastLoadTimeout=1e4),It(s),this.Fo.initializeIMA(s),(n=this).Fo.on("ads-manager",(function(t){let i=t;i.addEventListener(google.ima.AdEvent.Type.LOADED,(()=>{if(ii.includes(n.Wt))var t=setInterval((()=>{if(window.vdo_banner_timestamp){clearInterval(t);let e=(Date.now()-window.vdo_banner_timestamp)/1e3;e>=10?n.Je?n.rl(i):i.start():setTimeout((()=>{n.Je?n.rl(i):i.start()}),1e3*(10-e))}}));else n.Je&&n.rl()}))}))}this.Go=Date.now();var n=this;!function(){var t=new URL(n.Zt.src()).hostname;n.Zt.one("loadedmetadata",(function(){n.Ve&&!n.Ve.content_duration&&(n.Ve.content_duration=Math.round(n.Zt.duration())),Z("timing_complete","ga",Date.now()-n.Go,"load_"+t+"_ContentStart",n.Jt,n.ti,n.ii,n.ei,n.si,n.ni,n.oi)})),n.Zt.on("waiting",(function(){var i=Date.now();n.Ba("vdo_bufferStart"),n.Zt.one("playing",(function(){n.Ba("vdo_bufferEnd"),Z("timing_complete","ga",Date.now()-i,"load_"+t+"_ContentBuffer",n.Jt,n.ti,n.ii,n.ei,n.si,n.ni,n.oi)}))}));var i=Math.random();if(n.Jt.audiojk/100>=i&&0!=n.Jt.audiojk&&(n.Is||(n.Is=!0)),n.Zt.hasClass("vdo-video-hidden")&&n.bi.insertAdjacentHTML("beforeend",'<img class="vdo_custom_poster" src="'+n.Ln[n.Fe-1].img+'"/>'),n._i||n.el(),n.Jt.unitId,n.Zt.volume(),n.Zt.setAttribute("playsinline","playsinline"),n.Zt.setAttribute("webkit-playsinline","webkit-playsinline"),n.Jt.unitId,n.Jt.showOnlyOnAd&&ot(n.bi,0,(function(){n.nextButtonClicked=!0}),"",n.Jt.showGreyOverlay,n.Ln[n.Fe>=n.Ln.length?0:n.Fe].img),"desktop"==n.Ci&&"floating"==n.Jt.unitType&&"v-text-compare"==n.Wt){var e=n.Zt.width(),s=n.Zt.height();function o(){let t=window.devicePixelRatio;t>=1&&(n.Zt.width(e/t),n.Zt.height(s/t)),matchMedia("(resolution: ".concat(t,"dppx)")).addEventListener("change",o,{once:!0})}o()}"v-cleverbot"===n.Wt&&(n.resizePlayerCleverbot=function(t){var i=t.matches?300:n.Jt.width;n.Zt.width(i),n.Fo.getAdsManager()&&!this.Cs&&n.Fo.getAdsManager().resize(i,n.Jt.height,google.ima.ViewMode.NORMAL)},n.matched=matchMedia("(max-width: 1200px)"),n.matched.addEventListener("change",n.resizePlayerCleverbot),n.resizePlayerCleverbot(n.matched)),n.Zt.on("error",(function(t){t&&4===t&&Z("m3u8_fail","ga",null,null,n.Jt,n.ti,n.ii,n.ei,n.si,n.ni,n.oi),n.Zt.error()&&n.hr<=2&&(n.hr++,n.Ln=n.Ln.map((function(t){return t.video=t.video.replace(n.Jt.media_url,"https://s.vdo.ai/media_file/".concat(n.Jt.tagName,"/source/")),t})),n.Jt.media_url="https://s.vdo.ai/media_file/".concat(n.Jt.tagName,"/source/"),n.Yr())}))}();let o=t=>{if("touchmove"!=t.type)if("touchend"==t.type&&this.Oe)this.Oe=!1;else{var i=document.querySelector("#".concat(n.Jt.unitId," .vdoai_buttonControlPanel")),e=document.querySelector("#".concat(n.Jt.unitId," .vdoai_volumeButton")),s=document.querySelector("#".concat(n.Jt.unitId," .vdoai_fullScreenButton"));if(n.bi)var o=document.querySelector("#dfp_banner_btn_".concat(n.Jt.unitId));if(o&&o.contains(t.target)&&(n.zo=!0,n.Ga(),n.Ha()),!("mobile"!=n.Ci||n.Qt||i.contains(t.target)||e.contains(t.target)||s.contains(t.target)||"click"==t.type||n.zo)){var r=document.getElementById(n.Jt.id);n.Zt.paused()?n.Zt.play():n.Zt.pause(),r.contains(t.target)&&!n.zo&&(n.Zt.hasClass("vdoai_playing")?Z("engagement_click",null,null,null,n.Jt,n.ti,n.ii,n.ei,n.si,n.ni,n.oi):n.Zt.hasClass("vdoai_paused")&&Z("click_to_plays",null,null,null,n.Jt,n.ti,n.ii,n.ei,n.si,n.ni,n.oi))}n.zr(t),n.Jt.dual_player||n.Qt||(e&&e.contains(t.target)&&n.Zt.muted()?(n.Ns=!1,n.mutedClicked=!0):n.Je&&n.Zt.paused()||!n.fs||(n.Zt.muted(!1),n.Zt.volume(.01),n.Ns=!0,n.Fo.adMute=!1,n.Fo.getAdsManager()&&n.Fo.getAdsManager().setVolume(.01)))}else this.Oe=!0},r=["touch","touchmove","touchend"],a=["click"];"desktop"!=n.Jt.device?r.forEach((function(t){n.bi.parentNode.addEventListener(t,o)})):a.forEach((function(t){n.bi.parentNode.addEventListener(t,o)})),this.al(),this.Zt.hasClass("video-js")&&this.Zt.removeClass("video-js"),this.hl(),this.ll(),this.ul(),this.Jt.show_on_ad||this.va(),this.rr=!0,(this.nr||this.ln)&&this.Sr(!1)}ha(){try{var t=this;window.analytics=ns_.analytics,analytics.PlatformApi.setPlatformAPI(analytics.PlatformAPIs.WebBrowser);var i=new analytics._configuration.PublisherConfiguration({publisherId:"26200502"});analytics._configuration.addClient(i),analytics._configuration.enableFirstPartyCookie(),analytics.start(),window.vdo_ai_=window.vdo_ai_||{},window.vdo_ai_.records=window.vdo_ai_.records||{},window.vdo_ai_.records[this.Jt.unitId]=window.vdo_ai_.records[this.Jt.unitId]||{},window.vdo_ai_.records[this.Jt.unitId].comscoreSA=new analytics.StreamingAnalytics,analytics._configuration.setDebugEnabled(),this.aa(window.vdo_ai_.records[this.Jt.unitId].comscoreSA),vdo_ai_.cmd=vdo_ai_.cmd||[],vdo_ai_.cmd.push((function(){vdo_ai_.on("vdo_bufferStart",window.vdo_ai_.records[t.Jt.unitId].comscoreSA.notifyBufferStart),vdo_ai_.on("vdo_bufferEnd",window.vdo_ai_.records[t.Jt.unitId].comscoreSA.notifyBufferStop),vdo_ai_.on("vdo_play",(function(){t.Qn&&window.vdo_ai_.records[t.Jt.unitId].comscoreSA.notifyPlay()})),vdo_ai_.on("vdo_pause",(function(){t.Qn&&window.vdo_ai_.records[t.Jt.unitId].comscoreSA.notifyPause()})),vdo_ai_.on("vdo_end",window.vdo_ai_.records[t.Jt.unitId].comscoreSA.notifyEnd)}))}catch(t){}}aa(t){t.createPlaybackSession();var i=new analytics.StreamingAnalytics.ContentMetadata;i.setMediaType(analytics.StreamingAnalytics.ContentMetadata.ContentType.LONG_FORM_ON_DEMAND),i.setDeliveryMode(analytics.StreamingAnalytics.ContentMetadata.ContentDeliveryMode.ON_DEMAND),i.setDeliverySubscriptionType(analytics.StreamingAnalytics.ContentMetadata.ContentDeliverySubscriptionType.ADVERTISING),i.setDeliveryComposition(analytics.StreamingAnalytics.ContentMetadata.ContentDeliveryComposition.EMBED),i.setMediaFormat(analytics.StreamingAnalytics.ContentMetadata.ContentMediaFormat.FULL_CONTENT_GENERIC),i.setDistributionModel(analytics.StreamingAnalytics.ContentMetadata.ContentDistributionModel.EXCLUSIVELY_ONLINE),i.setClipUrl(this.Yn);var e=this.Yn.split("/");i.setUniqueId(e[e.length-1]),i.setLength(this.Hn),i.setProgramTitle(this.Vn),i.classifyAsAudioStream(!1),i.setStationTitle(window.location.hostname),i.setPublisherName(window.location.hostname),t.setMetadata(i)}el(){this.Jt.unitId;var t=this.Jt.brandLogo&&this.Jt.brandLogo.img,i=this.Jt.brandLogo&&this.Jt.brandLogo.url;this._i=document.createElement("a"),this._i.href=i||"https://vdo.ai/contact?utm_medium="+this.Jt.tagType+"&utm_term="+this.Jt.domain+"&utm_source=vdoai_logo",this._i.target="_blank",this._i.id="vdo_logo",this._i.classList.add("vdo_logo");var e=document.createElement("div");e.setAttribute("aria-hidden","true"),e.style.cssText="background-image: url(".concat(t||"//a.vdo.ai/core/assets/img/logo.svg","); background-repeat: no-repeat;background-size: 100%;background-position: center;width:100% !important; height:11px !important;margin: 0 !important; padding: 0 !important;"),this._i.appendChild(e);let s=this.hi.querySelector("#vdo_logo_parent");if(this.Jt.showLogo&&!s){let t=document.createElement("div");t.id="vdo_logo_parent";let i=document.createElement("div");i.setAttribute("style","margin-left: auto;line-height: 20px;font-size: 20px;display: flex;align-items: center;flex-direction: row;width: fit-content;"),i.innerHTML='<span style="position: relative;top: 2px;font-size: 10px;font-family: sans-serif;line-height: 1px;"></span>',i.appendChild(this._i),t.appendChild(i),this.hi.prepend(t),this.Jt.dual_player&&t.setAttribute("style","backdrop-filter: none");let e=document.createElement("style");e.textContent='#vdo_logo_parent > div > span::after {content: " Powered By";}',document.head.appendChild(e)}}ul(){this.$i.setAttribute("style","position: absolute; top: 0px; left: 0px; width: 100%; height: 100%; display: none; z-index: 999999999"),this.$i.addEventListener("click",this.dl),this.Zt.appendChild(this.$i),(this.Jt.video_clickthrough_url||this.Ln[this.Fe-1].clickThrough)&&(this.Mn.setAttribute("style","position: absolute; top: 0px; left: 0px; width: 100%; height: auto; display: block; cursor: pointer;"),"vdo_test"!=this.Wt&&this.Mn.addEventListener("click",this.kr),this.Zt.appendChild(this.Mn))}cl(t){try{self!=top&&("remove"==t?this.Jt.setBackgroundOverlay&&document.body.classList.remove("vdo-black-background"):"add"==t&&this.Jt.setBackgroundOverlay&&document.body.classList.add("vdo-black-background"))}catch(t){}}gi(t,i,e){var s=!1,n=this;function o(){s||(s=!0,e&&"content-floating"==e&&(n.hi.classList.remove("vdo_collapsible_floating"),n.hi.classList.remove("vdo_collapsible")),i())}"add"===t?"floating"!=this.Jt.unitType?(this.Tn.style.height="0px",this.Tn.classList.add("vdo_collapsible"),"topDock"==this.Rr("leftOrRight").position?this.hi.classList.add("vdo_floating_top"):this.hi.classList.add("vdo_floating_bottom"),i&&setTimeout((function(){o()}),600)):(document.getElementById(this.Jt.unitId).classList.add("vdo_collapsible_floating"),this.Rr("leftOrRight").position.includes("top")?this.hi.classList.add("vdo_floating_top"):this.hi.classList.add("vdo_floating_bottom"),i&&setTimeout((function(){o()}),600)):"remove"===t&&("floating"!=this.Jt.unitType?(this.Jt.showOnlyOnAd&&!this.Jt.playAdsOnly&&document.querySelector("#"+this.Jt.parent_div)&&document.querySelector("#"+this.Jt.parent_div).classList.remove("vdo_collapsible"),this.Tn.style.height=this.Jt.height+Math.max(this.Rr("crossSize"),20)+"px",this.Tn.classList.remove("vdo_collapsible"),"topDock"==this.Rr("leftOrRight").position?this.hi.classList.remove("vdo_floating_top"):this.hi.classList.remove("vdo_floating_bottom"),i&&setTimeout((function(){o()}),600),e&&"content-floating"==e&&this.hi.classList.add("vdo_collapsible_floating")):(document.getElementById(this.Jt.unitId).classList.remove("vdo_collapsible_floating"),this.Rr("leftOrRight").position.includes("top")?this.hi.classList.remove("vdo_floating_top"):this.hi.classList.remove("vdo_floating_bottom"),i&&setTimeout((function(){o()}),600)))}vl(){let t=!0,i=!1;var e=this;this.eo&&(!this.Se&&this.$a(),this.Se=setInterval((()=>{1==t?this.$a(this.Kn):this.$a(),t=!t}),12500)),e.so&&e.mo&&(!e.Te&&e.Va(),e.Te=setInterval((()=>{i&&e.Va(),i=!i}),12500))}Tr(){var t=this;if(!this.ar){this.ar=!0,t.Jt[t.Ci].muted||t.mutedClicked||l.video({inline:!0,muted:!1,timeout:1e3}).then((function(i){i.result&&(t.Zt.muted(!1),t.Zt.volume(.01))}));var e=new URL(t.Zt.src()).hostname;t.Zt.one("loadedmetadata",(function(){t.Ve&&!t.Ve.content_duration&&(t.Ve.content_duration=Math.round(t.Zt.duration())),Z("timing_complete","ga",Date.now()-t.Go,"load_"+e+"_ContentStart",t.Jt,t.ti,t.ii,t.ei,t.si,t.ni,t.oi)})),t.Zt.on("waiting",(function(){var i=Date.now();t.Ba("vdo_bufferStart"),t.Zt.one("playing",(function(){t.Ba("vdo_bufferEnd"),Z("timing_complete","ga",Date.now()-i,"load_"+e+"_ContentBuffer",t.Jt,t.ti,t.ii,t.ei,t.si,t.ni,t.oi)}))})),t.Jt.enableCrossButton&&t.Rr("dispose_off")?(t.Jt.unitId,t.Tn.style.height="",t.tl()):t.Jt.show_on_ad||t.tl(),t.Jt.unitId,Z("pageview",null,null,null,t.Jt,t.ti,t.ii,t.ei,t.si,t.ni,t.oi),Z("website_pageview",null,null,null,t.Jt,t.ti,t.ii,t.ei,t.si,t.ni,t.oi),t.vl(),t.Ua(),ct()&&Kt.includes(t.Jt.country)?(t.Zt.one("playing",(function(){t.$o||t.Zt.pause()})),new Promise((function(t,i){__tcfapi("addEventListener",2,(function(i,e){e&&i.gdprApplies&&("tcloaded"!==i.eventStatus&&"useractioncomplete"!==i.eventStatus||t(i))}))})).then((function(i){t.Jt.unitId,t.Ch(i),t.be&&!t.we&&t.ah(),n()}))):(t.Jt.unitId,t.be&&!t.we&&t.ah(),n())}function s(){Z("began_atf","ga",null,null,t.Jt,t.ti,t.ii,t.ei,t.si,t.ni,t.oi),Y("began_atf",null,null,t.Jt,t.Ro),ct()&&Kt.includes(t.Jt.country)&&t.ba(),t.$o=!0,t.Ms&&(t.Oi=!0,t.ui=!0),t.$e=!0,t.Jt.dual_player&&i().threshold(0),t.Ta()}function n(){if(t.Vi&&(t.Jt.unitId,t.Vi=!1,t.Jt.show_on_ad&&t.va(),t.Jt.custom_title&&!t.Jt.show_on_ad)){document.getElementById(t.Jt.unitId+"_custom_title").setAttribute("style","display:block;")}t.$o||"floating"==t.Jt.unitType||t.ci?(t.$o||(Z("began_atf","ga",null,null,t.Jt,t.ti,t.ii,t.ei,t.si,t.ni,t.oi),Y("began_atf",null,null,t.Jt,t.Ro),t.$e=!0,t.$o=!0),ct()&&Kt.includes(t.Jt.country)&&t.ba(),t.Ta()):i().is(document.querySelector(t.ai))?s():t.ki||document.querySelector(t.ai).getBoundingClientRect().top>=0?(Z("began_btf","ga",null,null,t.Jt,t.ti,t.ii,t.ei,t.si,t.ni,t.oi),Y("began_btf",null,null,t.Jt,t.Ro),t.ci=!0,t.$o=!0,t.viewTimestamp=Date.now(),t.pe&&!t.Jt.btfc?t.Zt.paused()||t.Zt.one("playing",(function(){t.ci&&t.Zt.pause()})):(t.Jt.dual_player&&i().threshold(0),t.Ta())):s()}}ll(){this.Jt.unitId;var t=this;function i(){var i=window.vdoFreqCappValue;if(t.Xt==i&&ii.includes(t.Wt))t.Lr(vdo_ai_[t.Jt.unitId]);else{if(t.Jt.unitId,t.be&&t.amazonPlayerPlayingAd&&t.hideAmazonPlayer?t.hideAmazonPlayer(!1):t.ba(),t.disposedFromSkip)return!1;t.ve&&(t.Dn&&"vdo_bannerAd"==t.ve.id?t.ve.remove():t.ve.dispose(),t.ve=null),t.mi(),t.Jt.showOnlyOnAd&&!t.amazonPlayerPlayingAd&&(t.Jt.playAdsOnly&&t.gi("add"),"floating"==t.Jt.unitType||t.Jt.playAdsOnly||(document.querySelector("#"+t.Jt.parent_div).classList.add("vdo_collapsible"),t.nextButtonClicked&&(t.nextButtonClicked=!1,ot(t.bi,0,(function(){t.nextButtonClicked=!0}),"",t.Jt.showGreyOverlay)),document.querySelector(".vdo_circle_progress").style.stroke="unset"));var e=t.Jt.dual_player?window.vdo_ai_.video_ad_count:t.Xt;if(t.js&&e>=t.js)return t.Jo=!0,t.Jt.replayOnlyOnEnded=!0,void t.Ta();if(t.Jt.showDemoAdsVideo&&t.wo<=3)t.Yr();else{if(t.Fi>=1&&"v-andhrajyothy-v2"===t.Wt){switch(t.Jt.unitId,t.Fi,t.Fn){case 0:t.Fn=30;break;case 30:t.Fn=180}return t.Jo=!0,void t.Ta()}if(1==t.Bi&&t.Do&&"v-stanford-test"===t.Wt)return t.Fa("https://a.vdo.ai/core/stanford/vast.php?creativeid="+t.Do+"&adid="+(Math.floor(20*Math.random())+1),"url"),void(t.Do="");if(11==t.Bi&&t.Do&&Yt.indexOf(t.Wt)>=0)return t.Fa("https://a.vdo.ai/core/stanford/vast.php?creativeid="+t.Do+"&adid="+(Math.floor(20*Math.random())+1),"url"),void(t.Do="");if(t.Fi>=t.Jt.max_ad_breaks&&!ii.includes(t.Wt))return t.Jt.unitId,t.Fi,t.Jo=!0,t.Bi=26,void t.Ta();if(t.Gn>Math.round(t.Zt.duration())&&!ii.includes(t.Wt))return t.Jo=!0,t.Bi=26,void t.Ta();t.xs||4==t.ks||(t.xs=!0),setTimeout((function(){t.za()}),t.Pi),t.hi.querySelector("#vdo_logo")&&(t.hi.querySelector("#vdo_logo").style.pointerEvents="all"),t.zr("adend")}}}this.Fo.on(this.Jt.show_on,(function(){let i=document.querySelector("#".concat(t.Jt.id,"_ima-controls-div"));i&&(i.style.visibility="visible"),t.Zt.pause(),t.fl.call(t),t.Ga(!0),t.Ha();if(["ibv-manorama2","montestv9","v-montest-v60_et"].indexOf(t.Wt)>=0&&!this.Cs){document.querySelector("[id='".concat(t.Wt,"']"))&&document.querySelector("[id='".concat(t.Wt,"']")).remove();let i=t.Fo.getAdsManager().getCurrentAd().g.clickThroughUrl,e=document.createElement("meta");e.setAttribute("clickUrl",i),e.id="".concat(t.Wt),document.getElementsByTagName("head")[0].appendChild(e)}})),-1!==location.hostname.indexOf("vdo.ai")||this.Jt.autoplay_player||t.Zt.one("playing",(function(){t.Zt.pause(),t.Zt.one("playing",(function(){}))})),this.Fo.on("adstart",(function(){t.Ua(),t.Jt.unitId,t.Ga(),t.Ha(),t.Re&&"visible"===document.visibilityState&&t.zr("adstart"),1!=t.ks&&t.da(t.si),t.Jt[t.Ci].muted||t.mutedClicked||l.video({inline:!0,muted:!1,timeout:1e3}).then((function(i){i.result&&(t.Ns=!0,t.Zt.muted(!1),t.Zt.volume(.01),t.Fo.adMute=!1,t.Fo.getAdsManager().setVolume(.01))}));let i=document.getElementById(t.Jt.id+"_ima-controls-div");i&&(i.style.visibility="hidden")})),this.Zt.on("pause",(function(){t.Ba("vdo_pause")})),this.Zt.one("playing",(function(){t.rr&&t.Tr()})),this.Fo.on("adend",(function(e){t.Co=t.Co.filter((function(i){if(!e.currentTarget.adTagUrl||e.currentTarget.adTagUrl!=i.vastUrl)return!0;t.Qo--})),t.Jt.unitId,t.Ba("vdo_adend"),t.Qt=!1,t.$i.style.display="none",t.Mn.style.display="block";let s=document.getElementById(t.Jt.id+"_ima-controls-div"),n=document.getElementById(t.Jt.id+"_ima-fullscreen-div"),o=document.getElementById(t.Jt.id+"_ima-mute-div");n&&(s.style.display="block",n.style.display="block",n.style.position="absolute",o.style.position="absolute",o.style.margin="0px"),i()})),this.Fo.on("adserror",(function(e){t.Jt.unitId,t.Zt.off("playing",i),t.$i.style.display="none";var s=e.error.data.errorCode;901===s&&(t.zr("adserror"),Z("VPAID_901_".concat(t.si),"ga2",null,null,t.Jt,t.ti,t.ii,t.ei,t.si,t.ni,t.oi)),400==s&&Y("error","vast_".concat(t.si,"_400:").concat(t.Rs),null,t.Jt,t.Ro),1005!=s&&1!=t.ks&&t.da(t.si),t.Co=t.Co.filter((function(i){if(!e.currentTarget.adTagUrl||e.currentTarget.adTagUrl!=i.vastUrl)return!0;t.Qo--})),t.Yo&&t.Na()?t.Da():t.za()})),this.Zt.on("readyforpostroll",(function(){t.Jt.unitId,t.Jt.unitId,t.Zt.currentTime(),t.Jt.unitId,t.Zt.ads})),this.Zt.on("contentended",(function(){t.Jt.showDemoAdsVideo?t.Lr(vdo_ai_[t.Jt.unitId]):t.Jt.autoReplay||t.Jt.replayOnlyOnEnded?t.Yr():(t.Ga(),t.Ha(),t.Vo=ot(t.hi,0,(function(){t.Vo=null,t.Yr(),t.Oa()})))})),this.Zt.on("timeupdate",(function(){if(!t.Zt||"function"!=typeof t.Zt.currentTime)return;let i=t.Zt.currentTime(),e=Math.round(t.Zt.duration()),s=Math.round(e/4);t.qo&&t.qo.onTimeUpdate(i,e),e>0&&(i>=0&&!t.So&&(t.So=!0,Y("video_start",null,null,t.Jt,t.Ro)),i>=s&&!t.jo&&(t.jo=!0,Y("video_quartile_1",null,null,t.Jt,t.Ro)),i>=2*s&&!t.xo&&(t.xo=!0,Y("midpoint",null,null,t.Jt,t.Ro)),i>=3*s&&!t.ko&&(t.ko=!0,Y("video_quartile_3",null,null,t.Jt,t.Ro)),i>=e&&!t.Eo&&(t.Eo=!0,Y("complete",null,null,t.Jt,t.Ro)))})),this.Ua(!1)}fl(){if(this.Zt){if(this.Fi++,this.Xt=this.Jt.dual_player?++window.vdo_ai_.video_ad_count:++this.Xt,this.Lo=!0,this.Jt.unitId,this.pl(),this.Ba("vdo_adstart"),!this.qt){if(this.qt=!0,this.Ue=!0,this.tl(),this.il("check_cancel_request"),Z("pageview_match",null,null,null,this.Jt,this.ti,this.ii,this.ei,this.si,this.ni,this.oi),this.Kh("firstadmatch"),this.Xh(),this.Jt.custom_title){document.getElementById(this.Jt.unitId+"_custom_title").setAttribute("style","display:block;")}this.Wo>0&&(this.Pn=setTimeout((()=>{top!=self&&window.innerWidth>1?this.$h():this.Lr(vdo_ai_[this.Jt.unitId])}),this.Wo))}var t,i;try{if(this.Jt.exposeClickTag){var e=this.Fo.getAdsManager().getCurrentAd(),s=Object.keys(e)[0]||null;s&&e[s]&&(window.clickTAG=e[s].clickThroughUrl)}i=this.Fo.getAdsManager().getCurrentAd().getWrapperAdIds();var n=this.Fo.getAdsManager().getCurrentAd().getDuration();this.Gn+=Math.round(n),this.Ve.ad_duration||(this.Ve.ad_duration=n)}catch(r){i=[]}if(i&&i.length)for(var o=0;o<i.length;o++)0==i[o].indexOf("VDOAIVAST-")&&(t=i[o].split("-")[1]);t||(this.Oo?(t=this.Oo,this.Oo=""):t="unknown")}if(this.Zo&&(document.querySelector("#"+this.Jt.parent_div+" #vdo_ai_side_banner_wrapper").style.display="flex"),"mobile"==this.Ci&&"v-data-flair-training"===this.Wt&&this.Er){this.Er=!1;let a=0;function h(t){window.scrollBy(0,t,{behavior:"smooth"})}document.getElementById(this.Jt.id+"_ima-ad-container").addEventListener("touchmove",(function(t){let i;i=0===a?0:a-t.changedTouches[0].screenY,h(i),a=t.changedTouches[0].screenY}),!1),document.getElementById(this.Jt.id+"_ima-ad-container").addEventListener("touchend",(function(){a=0}))}this.er&&(clearInterval(this.er),this.er=null),"content-floating"==this.Jt.unitType&&this.Jt.show_on_ad&&this.Ui<2&&this.ga()}$h(){this.Oa(),this.Ho=!0,this.Zt.ads&&this.Zt.ads.inAdBreak()?this.Fo.getAdsManager().pause():this.Zt.pause()}Xh(){if("floating"!=this.Jt.unitType){var t=this.Gr(this.Ii.parentNode,"padding-left")+this.Gr(this.Ii.parentNode,"padding-right"),i=this.Ii.parentNode.clientWidth-t;if(i<this.Jt.width&&i>0&&"v-cleverbot"!==this.Wt){var e=this.Jt.width-i;this.Ii.style.marginLeft="-"+e/2+"px"}}}ml(t){for(var i in Xt)if(Object.hasOwnProperty.call(Xt,i)){var e=Xt[i];if(t.indexOf(i)>=0)return e}}pl(){this.Jt.unitId,this.Qt=!0;var t=0;(1==this.ks||!this.ks&&"amazon"==this.si)&&(this.si=this.Po.bidder,t=this.Po.cpm),Z("ad_match","pixel",{offset:this.ri,partner:this.si,cpm:t,type:"video"},null,this.Jt,this.ti,this.ii,this.ei,this.si,this.ni,this.oi),this.be&&this.hideAmazonPlayer&&this.hideAmazonPlayer(!0),Z("impression_".concat(this.lr,"th_auction"),"ga2",null,null,this.Jt,this.ti,this.ii,this.ei,this.si,this.ni,this.oi);let e=document.getElementById(this.Jt.id+"_ima-controls-div"),s=document.getElementById(this.Jt.id+"_ima-fullscreen-div"),n=document.getElementById(this.Jt.id+"_ima-mute-div"),o=document.getElementById(this.Jt.id+"_ima-play-pause-div");if(o&&"v-timesnownews-v5"===this.Wt&&(o.style.display="none"),s){let t;e.style.display="flex","v-timesnownews-v5"===this.Wt?s.style.display="none":s.style.display="flex",s.style.position="unset","floating"!=this.Jt.unitType&&i().is(this.Tn)?(t=7*this.Jt.width/100,t=t<40?40:t,t=t>80?80:t):(t=7*this.Jt.smallWidth/100,t=t<30?30:t,t=t>50?50:t),n.style.position="unset",n.style.width="0px","v-timesnownews-v5"===this.Wt?n.style.margin="0px 10px":n.style.margin="0px ".concat(t,"px")}var r;try{if(r=this.Fo.getAdsManager().getCurrentAd().getCreativeId(),11==this.Bi&&null===this.Do&&Yt.indexOf(this.Wt)>=0&&(this.Do=r),1==this.Bi&&null===this.Do&&"v-stanford-test"===this.Wt&&(this.Do=r),this.Fo.getAdsManager().getCurrentAd().getContentType().includes("audio/")){var a,h=this.Fo.adContainer;if(this.Dn){var l=new google.ima.CompanionAdSelectionSettings;l.resourceType=google.ima.CompanionAdSelectionSettings.ResourceType.STATIC,l.creativeType=google.ima.CompanionAdSelectionSettings.CreativeType.IMAGE,l.sizeCriteria=google.ima.CompanionAdSelectionSettings.SizeCriteria.IGNORE;var u=this.Fo.getAdsManager().getCurrentAd().getCompanionAds(300,250,l);if(u.length)for(let t of u){let i=t.getHeight(),e=t.getWidth();if(i<this.Jt.height&&e<this.Jt.width){if("content-floating"==this.Jt.unitType&&(i>this.Jt.smallHeight||e>this.Jt.smallWidth))continue;a=t.getContent();break}}}if(a)this.ve=document.createElement("div"),this.ve.id="vdo_bannerAd",this.ve.classList="audio-banner",this.ve.innerHTML=a,h.firstElementChild.appendChild(this.ve);else{var d=document.createElement("source");d.type="application/x-mpegURL",d.src=this.Jt.media_url+"uploads/videos/16552732563362a977286fb00.m3u8";let t=document.createElement("video-js");t.id="vdo_audioAdPlayer",t.setAttribute("muted",!0),t.setAttribute("autoplay",!0),t.setAttribute("playsinline",!0),t.setAttribute("webkit-playsinline",!0),t.classList.add("vdo-js","vjs-default-skin","vdo-vjs-custom-skin"),t.append(d),h.append(t);let i=this.Zt.height_,e=this.Zt.width_;this.Zt.isFullscreen_&&(i=window.outerHeight,e=window.outerWidth),this.ve=vdo_player(t,{height:i,width:e,loop:!0});let s=this;this.ve.ready((function(){s.ve.on("error",(function(){s.ve.src({type:"application/x-mpegURL",src:"//s.vdo.ai/uploads/videos/16552732563362a977286fb00.m3u8"})}))})),this.Zt.on("fullscreenchange",(()=>{this.ve&&(i=this.Zt.height_,e=this.Zt.width_,this.Zt.isFullscreen_&&(i=window.outerHeight,e=window.outerWidth),this.ve.width(e),this.ve.height(i))})),this.Fo.addEventListener(google.ima.AdEvent.Type.PAUSED,(()=>{this.ve.pause()})),this.Fo.addEventListener(google.ima.AdEvent.Type.RESUMED,(()=>{this.ve.play().then((function(){})).catch((function(){}))}))}}}catch(t){this.Jt.unitId}this.Mn.style.display="none";document.getElementById(this.Jt.id+"_ima-controls-div"),document.getElementById(this.Jt.id+"_ima-fullscreen-div");this.Kt(this.si,t,"video");try{-1!==this.Ki.indexOf(r)&&(this.$i.style.display="block",this.$i.dataset.cturl=this.Fo.getAdsManager().getCurrentAd().g.clickThroughUrl)}catch(t){this.Jt.unitId}if(document.getElementById(this.Jt.id).style.display="block",this.Ph()&&this.Ph().remove(),Z("video_loaded",null,null,null,this.Jt,this.ti,this.ii,this.ei,this.si,this.ni,this.oi),this.en){VdoAiAppInterface.showWebView();var c=VdoAiAppInterface.getDeviceDimensionForFullScreen(),v=c&&JSON.parse(c);v&&v.width&&v.height&&(this.Jt.width=v.width,this.Jt.height=v.height,this.fi())}if(this.Jt.dual_player&&(this.ui=!0),this.Jt.dual_player||this.ui&&"content-floating"===this.Jt.unitType&&this.Jt.float_after_cross_click){this.Oi=!1;this._s=!0,this.di()}this.hi.querySelector("#vdo_logo")&&(this.hi.querySelector("#vdo_logo").style.pointerEvents="none"),1!=this.Bs&&this.Is||1!=this.Ds||(this.Ea(!0),this.Ds=!1,this.Le=!0)}Zr(){this.Ys[1].mediaTypes.banner.sizes.length>1&&(this.Ys[1].mediaTypes.banner.sizes.pop(),this.Qs[1].mediaTypes.banner.sizes.pop(),this.Js[1].mediaTypes.banner.sizes.pop(),this.Xs[0].mediaTypes.banner.sizes.pop())}_h(t,i){let e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=this;return new Promise((function(n,o){if(i.length){let o={pb:t.cpm||0,amzn_v:[],amzn_b:[],isCompanionAd:e},l=s.Dh({bidderCode:"amazon"});l=e?l||s.Sn:l||s.En,l&&(o.bid_floor=l);var r=[],a=[];i.forEach((t=>{let i={amznbid:t.amznbid,amzniid:t.amzniid};t.slotID.includes("video")?r.push(i):t.slotID.includes("outstream")?a.push(i):o.amzn_b.push(i)})),o.amzn_v=[...r,...a];var h=new XMLHttpRequest;h.onload=function(){let e=JSON.parse(this.response),s={cpm:e.p,partner:"amazon",bidder:"amazon",amzniid:e.amzniid};"amzn_v"==e.type?t=e.items:"amzn_b"==e.type&&(e=e.items[0],s.code=e.code,s.mediaType="banner",s.amzniid=e.amzniid,s.cpm=e.p,i.forEach((t=>{"banner"==t.adType&&(s.size=t.amznsz)})),t=s),n(t)},h.open("POST","https://targeting.vdo.ai/bid_compare_v2",!0),h.timeout=3e3,h.send(JSON.stringify(o)),h.addEventListener("timeout",(()=>{n(t)}))}else n(t)}))}$t(t,e,s,n){try{i().threshold(.5),i().is(this.hi)&&(this.Jt.unitId,Z("viewable_impression","pixel",{offset:t,partner:e,cpm:s,type:n},null,this.Jt,this.ti,this.ii,this.ei,this.si,this.ni,this.oi)),this.Jt.dual_player&&i().threshold(0)}catch(t){this.Jt.unitId,encodeURIComponent(t.getMessage()),this.Wt,btoa(t.getMessage())}}Nr(t){let i=!1;return null!=t?t=t.filter((t=>{if(null!=t)return t;i=!0})):(t=[],i=!0),i&&!this.ue&&(this.ue=!0,Y("error","missing_placement",null,this.Jt,this.Ro)),t}Ph(){return document.querySelector("#"+this.Jt.unitId)&&document.querySelector("#"+this.Jt.unitId).querySelector("#vdo_banner_frame")}Ka(){return document.querySelector("#"+this.Jt.unitId)&&document.querySelector("#".concat(this.Jt.unitId," #").concat(this.po))}Yr(){this.Jt.unitId,this.ln||(Z("replay","both",null,null,this.Jt,this.ti,this.ii,this.ei,this.si,this.ni,this.oi),this.Lr(vdo_ai_[this.Jt.unitId],(()=>{this.Di++,this.Jt.id="vdo_ai_"+Math.ceil(9999999*Math.random()),this.Or()}),!0))}zr(t){var e=this,s=document.getElementById(e.Jt.id+"_ima-mute-div"),n=document.querySelector("#".concat(e.Jt.unitId," .vdoai_volumeButton")),o=document.querySelector("#".concat(e.Jt.unitId," .vdoai_fullScreenButton")),r=document.getElementById(e.Jt.id+"_ima-fullscreen-div"),a=document.querySelector("#".concat(e.Jt.unitId," .vdoai_buttonControlPanel"));if("adClicked"==t||r&&r.contains(t.target)||s&&s.contains(t.target)&&s.classList.contains("ima-non-muted"))return e.Ns=!0,void(e.Je&&!e.Fo.isAdPlaying()||!e.fs||(e.Zt.muted(!1),e.Zt.volume(.01),e.Fo.adMute=!1,e.Fo.getAdsManager().setVolume(.01)));e.zo?(Y("next_click",null,null,e.Jt,e.Ro),e.zo=!1):!e.Qt&&t.target&&("desktop"!=e.Ci||o.contains(t.target)||n.contains(t.target)||(this.Zt.hasClass("vdoai_playing")?Z("engagement_click",null,null,null,e.Jt,e.ti,e.ii,e.ei,e.si,e.ni,e.oi):this.Zt.hasClass("vdoai_paused")&&Z("click_to_plays",null,null,null,e.Jt,e.ti,e.ii,e.ei,e.si,e.ni,e.oi)),"mobile"==e.Ci&&a.contains(t.target)&&(this.Zt.hasClass("vdoai_playing")?Z("engagement_click",null,null,null,e.Jt,e.ti,e.ii,e.ei,e.si,e.ni,e.oi):this.Zt.hasClass("vdoai_paused")&&Z("click_to_plays",null,null,null,e.Jt,e.ti,e.ii,e.ei,e.si,e.ni,e.oi))),e.mh().then((o=>{if(n&&n.contains(t.target))e.Zt.muted()?e.Ds=!1:e.Ds=!0;else if("adend"===t||"adstart"===t||"playerStart"===t||"adserror"===t||s.contains(t.target)||r.contains(t.target)||(e.Ds=!0),(0!=e.Ds||!1!==e.Bs&&e.Is)&&!n.contains(t.target)&&!s.contains(t.target)&&!r.contains(t.target))return!(e.Bs||e.Ds&&!e.Is||!i().is(document.querySelector("#"+e.Jt.unitId))&&(e.Ms||e.ui||e.Jt.showOnlyOnAd))||e.Ns||"adend"!==t&&"adserror"!==t?void((e.Zt.muted()||!e.Zt.volume()||e.Fo&&e.Fo.getAdsManager())&&s&&s.classList.contains("ima-muted")&&e.Fo&&e.Fo.getAdsManager()&&"adstart"==t&&e.Ea(!1)):(e.Zt.muted(!0),void e.Ea(!0))}))}hl(){var t=this;t.Jt.unitId,t.Oa(),t.Fo.on("adskipped",(function(){Z("SKIPPED","ga2",null,null,t.Jt,t.ti,t.ii,t.ei,t.si,t.ni,t.oi),t.zr("adClicked"),t.Jt.disposeOnSkip&&(t.disposedFromSkip=!0,t.Lr(vdo_ai_[t.Jt.unitId]))})),t.Fo.on("adclick",(function(){Z("CLICK","ga2",null,null,t.Jt,t.ti,t.ii,t.ei,t.si,t.ni,t.oi),t.isAdClicked=!0,t.zr("adClicked"),1===(t.Jt.dual_player?window.vdo_ai_.video_ad_count:t.Xt)&&t.Ve&&(t.Ve.ad_click=!0)})),t.Fo.on("adpaused",(function(){Z("PAUSED","ga2",null,null,t.Jt,t.ti,t.ii,t.ei,t.si,t.ni,t.oi),t.me?(t.zr("adClicked"),Z("generated_pvs_on_article",null,null,null,t.Jt,t.ti,t.ii,t.ei,t.si,t.ni,t.oi)):(t.adPaused=!0,t.isAdClicked&&(Z("generated_pvs_on_article",null,null,null,t.Jt,t.ti,t.ii,t.ei,t.si,t.ni,t.oi),t.isAdClicked=!1))})),t.Fo.on("adresumed",(function(){Z("RESUMED","ga2",null,null,t.Jt,t.ti,t.ii,t.ei,t.si,t.ni,t.oi),document.activeElement!==document.body&&(t.adPaused=!1),t.isAdClicked&&(t.adPaused=!1),t.isAdClicked=!1,t.me&&(t.adPaused||(t.zr("adClicked"),Z("click_on_article",null,null,null,t.Jt,t.ti,t.ii,t.ei,t.si,t.ni,t.oi)),t.adPaused=!1)})),t.Fo.on("adsready",(function(){t.Fo.addEventListener(google.ima.AdEvent.Type.VOLUME_MUTED,(function(){Z("VOLUME_MUTED","ga2",null,null,t.Jt,t.ti,t.ii,t.ei,t.si,t.ni,t.oi),t.mutedClicked=!0,t.Ns=!1})),t.Fo.addEventListener(google.ima.AdEvent.Type.AD_CAN_PLAY,(function(){Z("AD_CAN_PLAY","ga2",null,null,t.Jt,t.ti,t.ii,t.ei,t.si,t.ni,t.oi)})),t.Fo.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,(function(){Z("CONTENT_PAUSE_REQUESTED","ga2",null,null,t.Jt,t.ti,t.ii,t.ei,t.si,t.ni,t.oi)})),t.Fo.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,(function(){Z("CONTENT_RESUME_REQUESTED","ga2",null,null,t.Jt,t.ti,t.ii,t.ei,t.si,t.ni,t.oi)})),t.Fo.addEventListener(google.ima.AdEvent.Type.VIDEO_CLICKED,(function(){Z("VIDEO_CLICKED","ga2",null,null,t.Jt,t.ti,t.ii,t.ei,t.si,t.ni,t.oi)})),t.Fo.addEventListener(google.ima.AdEvent.Type.VIDEO_ICON_CLICKED,(function(){Z("VIDEO_ICON_CLICKED","ga2",null,null,t.Jt,t.ti,t.ii,t.ei,t.si,t.ni,t.oi)})),t.Fo.addEventListener(google.ima.AdEvent.Type.STARTED,(function(){Z("STARTED","ga2",null,null,t.Jt,t.ti,t.ii,t.ei,t.si,t.ni,t.oi)})),t.Fo.addEventListener(google.ima.AdEvent.Type.AD_BUFFERING,(function(){Z("AD_BUFFERING","ga2",null,null,t.Jt,t.ti,t.ii,t.ei,t.si,t.ni,t.oi)})),t.Fo.addEventListener(google.ima.AdEvent.Type.IMPRESSION,(function(){Z("IMPRESSION","ga2",null,null,t.Jt,t.ti,t.ii,t.ei,t.si,t.ni,t.oi)})),t.Fo.addEventListener(google.ima.AdEvent.Type.FIRST_QUARTILE,(function(){Z("FIRST_QUARTILE","ga2",null,null,t.Jt,t.ti,t.ii,t.ei,t.si,t.ni,t.oi)})),t.Fo.addEventListener(google.ima.AdEvent.Type.MIDPOINT,(function(){Z("MIDPOINT","ga2",null,null,t.Jt,t.ti,t.ii,t.ei,t.si,t.ni,t.oi)})),t.Fo.addEventListener(google.ima.AdEvent.Type.THIRD_QUARTILE,(function(){Z("THIRD_QUARTILE","ga2",null,null,t.Jt,t.ti,t.ii,t.ei,t.si,t.ni,t.oi)})),t.Fo.addEventListener(google.ima.AdEvent.Type.COMPLETE,(function(){Z("COMPLETE","ga2",null,null,t.Jt,t.ti,t.ii,t.ei,t.si,t.ni,t.oi)})),t.Fo.addEventListener(google.ima.AdEvent.Type.DURATION_CHANGE,(function(){Z("DURATION_CHANGE","ga2",null,null,t.Jt,t.ti,t.ii,t.ei,t.si,t.ni,t.oi)})),t.Fo.addEventListener(google.ima.AdEvent.Type.USER_CLOSE,(function(){Z("USER_CLOSE","ga2",null,null,t.Jt,t.ti,t.ii,t.ei,t.si,t.ni,t.oi)})),t.Fo.addEventListener(google.ima.AdEvent.Type.LOADED,(function(){"VPAID"==t.Fo.getAdsManager().getCurrentAd().getApiFramework()&&Z("VPAID_".concat(t.si),"ga2",null,null,t.Jt,t.ti,t.ii,t.ei,t.si,t.ni,t.oi),Z("LOADED","ga2",null,null,t.Jt,t.ti,t.ii,t.ei,t.si,t.ni,t.oi)})),t.Fo.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,(function(){Z("ALL_ADS_COMPLETED","ga2",null,null,t.Jt,t.ti,t.ii,t.ei,t.si,t.ni,t.oi)})),t.Fo.addEventListener(google.ima.AdEvent.Type.LINEAR_CHANGED,(function(){Z("LINEAR_CHANGED","ga2",null,null,t.Jt,t.ti,t.ii,t.ei,t.si,t.ni,t.oi)})),t.Fo.addEventListener(google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,(function(){Z("SKIPPABLE_STATE_CHANGED","ga2",null,null,t.Jt,t.ti,t.ii,t.ei,t.si,t.ni,t.oi)})),t.Fo.addEventListener(google.ima.AdEvent.Type.AD_METADATA,(function(){Z("AD_METADATA","ga2",null,null,t.Jt,t.ti,t.ii,t.ei,t.si,t.ni,t.oi)})),t.Fo.addEventListener(google.ima.AdEvent.Type.AD_BREAK_FETCH_ERROR,(function(){Z("AD_BREAK_FETCH_ERROR","ga2",null,null,t.Jt,t.ti,t.ii,t.ei,t.si,t.ni,t.oi)})),t.Fo.addEventListener(google.ima.AdEvent.Type.AD_BREAK_READY,(function(){Z("AD_BREAK_READY","ga2",null,null,t.Jt,t.ti,t.ii,t.ei,t.si,t.ni,t.oi)})),t.Fo.addEventListener(google.ima.AdEvent.Type.LOG,(function(){Z("LOG","ga2",null,null,t.Jt,t.ti,t.ii,t.ei,t.si,t.ni,t.oi)})),t.Fo.addEventListener(google.ima.AdEvent.Type.VOLUME_CHANGED,(function(){Z("VOLUME_CHANGED","ga2",null,null,t.Jt,t.ti,t.ii,t.ei,t.si,t.ni,t.oi)})),t.Fo.addEventListener(google.ima.AdEvent.Type.INTERACTION,(function(){Z("INTERACTION","ga2",null,null,t.Jt,t.ti,t.ii,t.ei,t.si,t.ni,t.oi)}))}))}ws(){if(this.Fo&&this.Fo.adContainer){var t=this.Fo.adContainer.getElementsByTagName("iframe")[0];if(document.activeElement===t)return!0}return!1}al(){!0===window.VIDEOJS_NO_DYNAMIC_STYLE&&(this.Wi=document.createElement("style"),this.hi.appendChild(this.Wi),this.Ra())}Ra(){if(!0===window.VIDEOJS_NO_DYNAMIC_STYLE){var t=this.Zt.id()+"-customDimentions";this.Zt.addClass(t),this.gl(this.Wi,"."+t+"{width: "+this.Zt.width()+"px; height: "+this.Zt.height()+"px}")}}gl(t,i){t.styleSheet?t.styleSheet.cssText=i:t.textContent=i}pi(){this.hi.classList.contains("vdo_floating")?(this.hi.classList.remove("vdo_floating"),this.hi.classList.contains("mobile_floater_background")&&this.hi.classList.remove("mobile_floater_background")):this.hi.classList.contains("vdo_header")&&this.hi.classList.remove("vdo_header"),this.hi.classList.add("vdo_content"),this.hi.style.cssText="background-color: transparent;",this.Zo&&(this.hi.parentElement.style.width=this.Jt.width+"px"),this.hi.style.bottom="",this.hi.style.right="",this.hi.style.left=""}Xr(){if(this.Jt.unitId,!(document.getElementsByClassName("vdo_floating").length&&this.Jt.dual_player||this.xa()&&!this.ja()||this.wi)){if(this.Qt){let t=document.getElementById(this.Jt.id+"_ima-mute-div"),i=7*this.Jt.smallWidth/100;i=i<30?30:i,i=i>50?50:i,"v-timesnownews-v5"===this.Wt?t.style.margin="0px 10px":t.style.margin="0px ".concat(i,"px"),this.Ei&&(this.Fo.getAdsManager().resume(),this.Ei=!1)}var t,i;if(this.hi.classList.contains("vdo_content")?this.hi.classList.remove("vdo_content"):this.hi.classList.contains("vdo_header")&&this.hi.classList.remove("vdo_header"),this.hi.classList.add("vdo_floating"),"topLeft"==this.Rr("leftOrRight").position)t="top",i="left";else if("topRight"==this.Rr("leftOrRight").position)t="top",i="right";else if("topDock"==this.Rr("leftOrRight").position||"bottomDock"==this.Rr("leftOrRight").position){if("floating"==this.Rr("unitType")&&(this.Jt.showLogo=!1),this.hi.classList.add("mobile_floater_background"),!this.ze){let t=document.createElement("style");t.type="text/css";let i="",e=document.head||document.getElementsByTagName("head")[0];"topDock"==this.Rr("leftOrRight").position?i=".mobile_floater_background {background-color: ".concat(this.Rr("mobile_floater_background")," !important; top:").concat(this.Rr("mobile").topMargin,"px; bottom:unset !important;}"):"bottomDock"==this.Rr("leftOrRight").position&&(i=".mobile_floater_background {background-color: ".concat(this.Rr("mobile_floater_background")," !important; top:unset!important; bottom:").concat(this.Rr("mobile").bottomMargin,"px;}")),t.appendChild(document.createTextNode(i)),e.appendChild(t),this.ze=!0}}else t="bottom",i=this.Rr("leftOrRight").position;null==this.Rr("bottomMargin")&&"bottom"==t?this.hi.style[t]="15px":this.hi.style[t]="bottom"==t?this.Rr(this.Ci).bottomMargin+"px":this.Rr(this.Ci).topMargin+"px",null==this.Rr("leftOrRight").position?this.hi.style.right="10px":"left"==i?(this.hi.style.right="",this.hi.style.left=this.Rr("leftOrRight").margin+"px"):(this.hi.style.right=this.Rr("leftOrRight").margin+"px",this.hi.style.left=""),this.Ua(!0)}}di(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(t){this.Oi=!1;var e=this;this._s=!0,window.vdo_ai_[e.Jt.unitId].ivHandlers.handlers.enter=[],window.vdo_ai_[e.Jt.unitId].ivHandlers.handlers.exit=[],window.vdo_ai_[this.Jt.unitId].ivHandlers.on("enter",(function(){e.ya.call(e)})).on("exit",(function(){e.li.call(e)}))}let s=Date.now()-(vdo_ai_.players.last_ad_play||0);this.nh(!0),i().is(document.querySelector(this.ai))?(this.Jt.unitId,this.xa()?(this.Jt.unitId,t&&(this.Ei=!0),this.Sa()):this.ka(!0)):!document.querySelector(".vdo_floating")||s>2e3?(this.xa()||this.ka(),this.Al()):(this.Jt.unitId,this.Si=setTimeout((()=>{this.Si=null,this.Al()}),2e3))}mi(){this.Qt||this.amazonPlayerPlayingAd||document.querySelector("#".concat(this.Jt.unitId," #vdo_banner_frame-2"))||document.querySelector("#".concat(this.Jt.unitId," #vdo_banner_frame"))||this.ui&&"content-floating"===this.Jt.unitType&&this.Jt.float_after_cross_click&&(this.fi(),this.pi(),this.oh(),document.querySelector(".vdo_floating")&&this.Zt.pause(),window.vdo_ai_[this.Jt.unitId].ivHandlers.handlers.enter=[],window.vdo_ai_[this.Jt.unitId].ivHandlers.handlers.exit=[])}Kt(t,i,e){"floating"!=this.Jt.unitType&&(this.Tn.style.height=this.Jt.height+"px",this.ee&&this.Rr("crossSize")&&this.Li?this.Tn.style.height=this.Jt.height+Math.max(this.Rr("crossSize"),20)+"px":this.Tn.style.height=this.Jt.height+"px");this.gi("remove",(()=>{"video"==e&&this.ns<7&&("google_mcm"==t||"google_mcm_apac"==t)&&(this.ns+=1,this.ns<7?Z("".concat(this.ns,"_ads_served_").concat(t),"ga2",null,null,this.Jt,this.ti,this.ii,this.ei,t,this.ni,this.oi):Z("6_plus_ads_served_".concat(t),"ga2",null,null,this.Jt,this.ti,this.ii,this.ei,t,this.ni,this.oi)),this.$t(this.ri,t,i,e)})),this.cl("add"),this.hi.style.display="block"}oh(){this.Jt.unitId,this._s=!1,this.nh(!1),window.dispatchEvent(new Event("vdo_ai_check_to_ad_float"))}ja(){try{if(!this.Jt.dual_player||!this.xi)return!1;let t=this.xi.classList.contains("primary_player");return this.ki&&(t=!t),t}catch(t){return!1}}$r(t){if(this.Jt.unitId,t.detail)if("pause_video_content"==t.detail.action){if(this.ja())return void(this.Zt&&this.Zt.pause())}else{if("dispose_player"==t.detail.action&&t.detail.tagName!==this.Wt){var e=this;return void this.Lr(vdo_ai_[this.Jt.unitId],(function(){e.ji.parentNode&&"vdo_ai_duo_player"==e.ji.parentNode.id&&e.ji.parentNode.remove()}))}if("check_cancel_request"==t.detail.action&&t.detail.tagName!==this.Wt)return void this.tl()}if(!this._s)return;let s=this.Fo.getAdsManager();if(t.detail){if(this.Wt!==t.detail.tagName)switch(t.detail.action){case"pause":s&&s.pause();break;case"get_in_content":this.fi(),this.pi(),this.ka();break;case"cross_clicked":this.Oi=!0,this.ka(),s&&s.resume()}}else this.ka(),this.Ei&&(s&&s.resume(),this.Ei=!1),i().is(document.querySelector(this.ai))?(this.Jt.unitId,this.ya()):(this.Jt.unitId,this.ro?(this.fa(),this.Xr()):this.li())}nh(t){let i=this.ki?"secondary_playing_ad":"primary_playing_ad";vdo_ai_.players[i]=t,vdo_ai_.players.last_ad_play=Date.now()}ka(){try{if(this.Jt.unitId,"switchPlayerContentPrecedence ".concat(this.ki),!this.Jt.dual_player||!this.xi)return!1;this.ki?this.xi.classList.add("primary_player"):this.xi.classList.remove("primary_player"),this.il("pause_video_content")}catch(t){return}}Al(){this.Jt.unitId;var t=document.querySelector(".vdo_floating");t&&(t.classList.remove("vdo_floating"),t.classList.remove("mobile_floater_background")),this.il("get_in_content"),this.li()}il(t){let i=new CustomEvent("vdo_ai_check_to_ad_float",{detail:{tagName:this.Wt,action:t}});window.dispatchEvent(i)}xa(){try{let t=this.ki?"primary_playing_ad":"secondary_playing_ad";return vdo_ai_.players[t]}catch(t){return!1}}Sa(){let t=this.Fo.getAdsManager();t&&t.pause()}ca(){var t=document.getElementById("".concat(this.Jt.parent_div));t&&t.setAttribute("aria-hidden","true")}na(){this.Jt.unitId;var t,i=this.bl();this.es=document.createElement("div"),this.ss=document.createElement("div"),this.es.id="vdoai_parentWrapperDiv",this.bi=document.createElement("video"),this.bi.id=this.Jt.id,this.bi.muted=!0,t=i.includes("mp4")?"video/mp4":i.includes("youtube.com")?"video/youtube":"application/x-mpegURL",this.Ln[this.Fe-1].img&&(this.ts="".concat(this.Ln[this.Fe-1].img)),this.Jt.sources=[{src:i,type:t,poster:this.ts,hlsHeaders:this.zn}],this.es.appendChild(this.ss),this.ss.appendChild(this.bi),this.hi.appendChild(this.es)}bl(){(!this.Fe||this.Fe>=this.Ln.length)&&(this.Fe=0);var t=this.Fe++;return"gallery"==this.Jt.unitStyle&&this.qo&&function(t){vt.scrollTop=0;var i=1;gt.forEach((function(e,s){var n=e.querySelector(".vdo_playlist_play");e.style.order="",s==t?(n.innerHTML=pt+mt,e.classList.add("active"),e.style.order=0):s<t?(e.style.order=gt.length-(t-s),n.innerHTML=ft,n.style.width="",e.classList.remove("active")):(n.innerHTML=ft,n.style.width="",e.classList.remove("active"),e.style.order=i++)}))}(t),this.Yn=this.Ln[t].video,this.Vn=decodeURIComponent(this.Ln[t].title),this.Hn=1e3*this.Ln[t].duration,ii.includes(this.Wt)||this.Jt.showOnlyOnAd||this.Jt.playAdsOnly?"https://h5.vdo.ai/media_file/".concat(this.Jt.tagName,"/source/uploads/videos/16560647582262b58af650e93"):this.Ln[t].video}Jn(){var t,i=this,e=document.querySelector('meta[property="og:image"]'),s=document.querySelector('meta[property="twitter:image"]');if(this.Jt.playlist_id||!this.Jt.dynamic_thumbnail||!e&&!s)return!1;t=e?e.content:s.content;try{var n=new Image;n.onload=function(){this.width>0&&i.Ln&&i.Ln.length&&(i.ts="".concat(t),i.Ln.forEach((i=>{i.img=t})))},n.src=t}catch(t){G(t,"getPageThumbnailImage",this.Wt)}}qr(){this.Jt.unitId,null==this.Rr("cancelTimeoutType")&&(this.Jt[this.Ci].cancelTimeoutType.type="timeout",this.Jt[this.Ci].cancelTimeoutType.timeout=config.cancelTimeout)}Jr(){this.bn=!0,this.In=document.createElement("vdo"),this.In.id="vdo_companion_wrapper",this.In.setAttribute("style","text-align: center;margin-top: 10px;"+(this.Zo?"flex: 0 0 100%;":""));var t=document.getElementById("vdo_ai_duo_player");this.Jt.dual_player&&t?t.insertAdjacentElement("afterend",this.In):this.Ii.appendChild(this.In),window.vdo_ai_[this.Jt.unitId].companionIVHandler=i()("#"+this.In.id),window.vdo_ai_[this.Jt.unitId].companionIVHandler.on("enter",(()=>{if(this.un){this.Es=!0,Date.now()-this.Ss>3e4&&setTimeout((()=>{this.oa()}),1e3)}}))}Qr(t){var i=[];for(var e of this.jn)(e[0]<=t||e[0]<=this.Jt.width)&&i.push(e);return i}Gr(t,i){if(t&&i){var e=window.getComputedStyle&&window.getComputedStyle(t);if(e)return parseFloat(e.getPropertyValue(i))}return!1}la(t){var i;(this.Jt.unitId,window.vdo_ai_[t].handleUrlChange)||(void 0===(e=this).locationChangeTime&&(e.locationChangeTime=Date.now()),window.vdo_ai_[t].handleUrlChange=function(){var i=(Date.now()-e.locationChangeTime)/1e3;if(e.locationChangeTime=Date.now(),Z("pageview",null,null,null,e.Jt,e.ti,e.ii,e.ei,e.si,e.ni,e.oi),Z("website_pageview",null,null,null,e.Jt,e.ti,e.ii,e.ei,e.si,e.ni,e.oi),window.vdo_ai_.records[e.Jt.unitId].ad_request.length&&(window.vdo_ai_.records[e.Jt.unitId].ad_request_temp.length&&(Z("ad_request","pixel",window.vdo_ai_.records[e.Jt.unitId].ad_request_temp,null,e.Jt,e.ti,e.ii,e.ei,e.si,e.ni,e.oi),window.vdo_ai_.records[e.Jt.unitId].ad_request_temp=[]),window.vdo_ai_.records[e.Jt.unitId].ad_request=[]),Qt.includes(e.Jt.domain)&&(e.Ui=0,i<=10&&e.va()),(i>10||e.ti.includes(e.Jt.domain))&&!Wt.includes(e.Jt.domain)){if(window["parentToAppend"+t])window["parentToAppend"+t](e.Ii,e.Tn.parentNode);else if(e.Jt.customPlacementCode||"v-gamertweak"==e.Wt){if("v-skynewsarabia"==e.Wt&&document.querySelectorAll("div:not([data-url-vdo-content])[class~=article-body]"))document.querySelectorAll("div:not([data-url-vdo-content])[class~=article-body]")[0].setAttribute("data-url-vdo-content",window.location.pathname);else if("v-gamesadda-in"==e.Wt&&document.querySelectorAll("article:not([data-url-vdo-content])[class^=post-]"))try{document.querySelectorAll("article:not([data-url-vdo-content])[class^=post-]")[0].setAttribute("data-url-vdo-content",window.location.pathname)}catch(t){}e.yl()}e.qt=!1;var s=e.Jt.parent_div.split("-").slice(0,-1).join("-");if(document.getElementById(e.Jt.parent_div))e.Yr();else if(document.getElementById(s)){delete e.Jt.agent;var n=document.createElement("div");n.id=e.Jt.unitId,document.getElementById(s).appendChild(n),e.wl(),window.initVdo(e.Jt)}e.ui&&!e.Ms&&(e.ui=!1),e.Oi&&(e.Ms||(e.Oi=!1),e.va())}Z("locationChange","ga",null,null,e.Jt,e.ti,e.ii,e.ei,e.si,e.ni,e.oi),history.pushState!==e.Ge&&"v-gamesadda-in"==e.Wt&&(history.pushState=e.Ge)});if(!window.vdo_ai_.methodOverride){window.vdo_ai_.methodOverride=!0;var e=this;window.vdo_lastLocation=window.location.pathname+window.location.search,this.Ge=history.pushState=(i=history.pushState,function(){e.Jt.unitId,e._l=i;var t=i.apply(this,arguments);return window.vdo_lastLocation!=window.location.pathname+window.location.search&&(window.vdo_lastLocation=window.location.pathname+window.location.search,window.dispatchEvent(new Event("pushstate")),window.dispatchEvent(new Event("locationchange"))),t}),history.replaceState=(t=>function(){e.Jt.unitId,e.jl=t;var i=t.apply(this,arguments);return window.vdo_lastLocation!=window.location.pathname+window.location.search&&(window.vdo_lastLocation=window.location.pathname+window.location.search,window.dispatchEvent(new Event("replacestate")),window.dispatchEvent(new Event("locationchange"))),i})(history.replaceState),window.addEventListener("popstate",e.xl)}this.He||(this.He=!0,this.Jt.handle_url_change&&window.addEventListener("locationchange",window.vdo_ai_[t].handleUrlChange))}xl(){""===window.location.hash&&window.vdo_lastLocation!=window.location.pathname+window.location.search&&(window.vdo_lastLocation=window.location.pathname+window.location.search,window.dispatchEvent(new Event("locationchange")))}wl(){window.vdo_ai_.methodOverride=!1,history.pushState=this._l,history.replaceState=this.jl,window.removeEventListener("popstate",this.xl)}yl(){if(("content"===this.Jt.unitType||"content-floating"===this.Jt.unitType)&&this.Jt.customPlacementCode){var t=new Function(this.Jt.customPlacementCode);try{t(document.querySelector("div[id|='".concat(this.Jt.parent_div,"']")),this.Ci)}catch(t){this.Jt.unitId,encodeURIComponent(t.getMessage()),this.Wt,btoa(t.getMessage())}}}Dr(){var t={};for(var i in this.Jt.waterfallTags)if(this.Jt.waterfallTags.hasOwnProperty(i)){var e=this.Jt.waterfallTags[i];t[i]=[],e.forEach((function(e){-1==e.ad_url.indexOf("doubleclick.net")&&t[i].push(e)}))}return t}Fr(){this.Ni=Object.keys(this.Jt.bidders).map(Number),this.Ni.sort((function(t,i){return t<=i?-1:t>i?1:void 0}))}dl(){window.open(this.dataset.cturl,"_blank")}Rr(t){return this.Jt[this.Ci][t]||this.Jt[t]}Kh(t){var i=document.createEvent("Event");i.initEvent(t,!0,!0),document.getElementById(this.Jt.parent_div)&&document.getElementById(this.Jt.parent_div).dispatchEvent(i)}Ba(t){if(window.vdo_ai_.events&&window.vdo_ai_.events[t]){var i=this;vdo_ai_.events[t].forEach((function(t){if("function"==typeof t)try{t.call(null,{tagName:i.Wt})}catch(t){}}))}}Lr(t,i,e){this.Ba("vdo_end"),this.Jt.unitId,"content-header"!=this.Jt.unitType&&"content-floating"!=this.Jt.unitType||(this.hi.classList.remove("vdo_header"),this.hi.style.width="100%",this.hi.style.marginLeft="0px",!e&&this.Jt.dual_player&&(window.removeEventListener("vdo_ai_check_to_ad_float",this.Xo),this.il("dispose_player"))),this.Wi&&this.hi.removeChild(this.Wi),this.Ga(),this.Ha(),this.Ph()&&this.Ph().remove(),e||(Ct.call(this),this.In&&this.In.remove()),this.Vo&&this.Vo(),this.Vo=null,this.kl(t,e),"floating"!=this.Rr("unitType")||this.qt||(this.hi.style.display="none"),this.Wo>0&&(this.hi.style.display="none");var s=window.vdo_ai_[this.Jt.unitId].handleUrlChange,n=window.vdo_ai_[this.Jt.unitId].ivHandlersTaboola;window.vdo_ai_[this.Jt.unitId]=void 0,window.vdo_ai_[this.Jt.unitId]={},window.vdo_ai_[this.Jt.unitId].handleUrlChange=s,window.vdo_ai_[this.Jt.unitId].ivHandlersTaboola=n;try{var o=!1;if(!this.hi.classList.contains("vdo_collapsible_floating")&&!this.hi.classList.contains("vdo_content")||this.Tn&&this.Tn.clientHeight>0)if(this.qt&&!e){o=!0;var r=this;this.gi("add",(function(){vdo_player.getPlayer(t.id).dispose(),i&&i.call(r)}))}else vdo_player.getPlayer(t.id).dispose();else vdo_player.getPlayer(t.id).dispose()}catch(t){this.Jt.unitId}i&&!o&&i.call(this)}kl(t,i){if("floating"!=this.Rr("unitType")&&!i)try{window.vdo_ai_[this.Jt.unitId].ivHandlers.handlers.enter=[],window.vdo_ai_[this.Jt.unitId].ivHandlers.handlers.exit=[]}catch(t){this.Jt.unitId}i||this.Tn&&(this.Tn.style.minHeight=""),this.$i.removeEventListener("click",this.dl),"v-cleverbot"===this.Wt&&this.matched.removeEventListener("change",this.resizePlayerCleverbot),i||(this.Ca(),clearTimeout(this.Pn)),this.pe||(this.Oi=!1),this.Mn.style.display="none",this.Mn.removeEventListener("click",this.kr);var e=this;for(var s in["touchstart","touch","click"].forEach((function(t){document.body.removeEventListener(t,e.Sr)})),this.Jt.waterfallTags)this.Jt.waterfallTags.hasOwnProperty(s)&&(this.Jt.waterfallTags[s].completed=!1);this.je&&this.je.length&&(this.Co=JSON.parse(JSON.stringify(this.je))),this.Zt&&(this.Jt.muted=this.Zt.muted()),this.Lo=!1,this.zi=!1,this.Bi=0,this.Ri=!1,this.Zi=0,this.Xi=!1,this._n=!1,this.wn=0,this.Rn=0,vdo_ai_.players[this.Jt.unitId].gptSlot=null,this.Qn=!1,this.Le&&(this.Ds=!0),this.So=!1,this.jo=!1,this.xo=!1,this.ko=!1,this.Eo=!1,this.Yo=!1,this.Qo=0,this.Fi=0,this.Er=!0,this.Jo=!1,this.Do=null,this.sr=0,this.nr=!1,this.rr=!1,this.Gn=0,this.do={aps:!1,prebid:!1,adServerRequestSent:!1},this.co={aps:!1,prebid:!1,adServerRequestSent:!1};try{clearInterval(this.We),this.We=null,clearTimeout(this.Ji),clearTimeout(this.Me),clearTimeout(this.mn),clearTimeout(this.gn),clearInterval(this.Se),clearInterval(this.Te),this.Te=null,this.Se=null,i||(clearTimeout(this.Qi),clearTimeout(this.Pe),clearTimeout(this.adxRonTimer),clearTimeout(this.er),this.uo&&googletag.pubads().removeEventListener("slotRenderEnded",this.Ze),this.vs&&googletag.pubads().removeEventListener("slotRenderEnded",this.us),this.un=!1,this.bh(),clearTimeout(this.companionBannerTimer),this.bn=!1,void 0!==window.vdo_ai_[this.Jt.unitId].ivHandlersTaboola&&(window.vdo_ai_[this.Jt.unitId].ivHandlersTaboola.disconnect(),delete window.vdo_ai_[this.Jt.unitId].ivHandlersTaboola))}catch(t){this.Jt.unitId}}ia(){var t=this;return this.Qe?new Promise((function(i,e){if(document.getElementById("vdo_ads_frame"))t.Za=document.getElementById("vdo_ads_frame").contentWindow,t.Za.apstag?i():document.getElementById("vdo_ads_frame").addEventListener("load",(()=>{i()}));else{var s=document.createElement("iframe");s.id="vdo_ads_frame",s.title="3rd party ad content",s.name="amazon_ad_frame",s.scrolling="no",s.srcdoc="",s.setAttribute("style","width: 1px!important; height: 1px!important; display: none!important;"),t.Qe?(s.addEventListener("load",(function e(){s.removeEventListener("load",e);var n='<script>window.__defineGetter__("innerHeight", function() {return window.parent.innerHeight});window.__defineGetter__("innerWidth", function() {return window.parent.innerWidth});window.__defineGetter__("__tcfapi", function() {return window.parent.__tcfapi});<\/script><script>!function(a9,a,p,s,t,A,g){if(a[a9])return;function q(c,r){a[a9]._Q.push([c,r])}a[a9]={init:function(){q("i",arguments)},fetchBids:function(){q("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]};A=p.createElement(s);A.async=!0;A.src=t;g=p.getElementsByTagName(s)[0];g.parentNode.insertBefore(A,g)}("apstag",window,document,"script","//c.amazon-adsystem.com/aax2/apstag.js");<\/script>';this.contentDocument.write(n),this.contentDocument.close(),t.Za=this.contentWindow,i()})),document.getElementsByTagName("html")[0].appendChild(s)):i()}})):Promise.resolve()}ea(){return new Promise(((t,i)=>{if(!this.Qe||!this.eo&&!this.Jt.dfp_companion)return t();try{var e=this;Promise.all([this.ia()]).then((function(){!e._e&&e.Za.apstag.init({pubID:"b3d50ad3-eca1-4091-be72-de4a8bc67a3d",adServer:"googletag",videoAdServer:"DFP",schain:{ver:"1.0",complete:1,nodes:[{asi:"vdo.ai",sid:""+e.Jt.pubId_vdo,hp:1}]}}),e._e=!0,t()}))}catch(i){G(i,"loadAmazonDfpNonLinear",this.Wt),t()}}))}mh(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise((i=>{var e=this;if(this.Is){if(1==this.returnFromFunction)return this.Ds=!0,i(!0);l.video({inline:!0,muted:!1,timeout:1e3}).then((function(t){e.returnFromFunction=t.result,e.Ds=t.result,e.Bs=t.result,i(t.result)}))}else{if(this.Le&&(this.Ds=!0),!e.Zt||!e.Je)return i(!0);if(e.Zt.muted()&&!e.Ae)l.video({inline:!0,muted:!0,timeout:1e3}).then((function(t){i(t.result)}));else if(e.Zt.muted()||e.Ae){function s(){["touch","touchmove","touchend","click"].forEach((function(t){document.removeEventListener(t,s)})),e.Fo.playAdBreak()}["touch","touchmove","touchend","click"].forEach((function(t){document.addEventListener(t,s)}))}else l.video({inline:!0,muted:!1,timeout:1e3}).then((function(s){s.result?i(s.result):l.video({inline:!0,muted:!0,timeout:1e3}).then((function(s){s.result&&t&&e.Zt.muted(!0),i(s.result)}))}))}}))}La(){if("US"==this.Jt.country&&Zt.includes(this.Jt.state)&&"function"==typeof window.__uspapi){var t=this;window.__uspapi("getUSPData",1,((i,e)=>{e&&(t._r=i.uspString)}))}}Pr(){return Kt.includes(this.Jt.country)?"rtb-eu.openrtb.in":$t.includes(this.Jt.country)?"rtb-useast.openrtb.in":"rtb-apac.openrtb.in"}da(t){window.vdo_ai_.records[this.Jt.unitId].ad_request.includes(t)||(window.vdo_ai_.records[this.Jt.unitId].ad_request.push(t),window.vdo_ai_.records[this.Jt.unitId].ad_request_temp.push(t),window.vdo_ai_.records[this.Jt.unitId].ad_requesturl=[],window.vdo_ai_.records[this.Jt.unitId].ad_requesturl.push(window.location.href))}}function ai(t,i){var e="desktop";if(t.device)"tablet"!=t.device&&"mobile"!=t.device&&"high-end"!=t.device||(e="mobile");else{const t=navigator.userAgent.toLowerCase();/(?:phone|windows\s+phone|ipod|blackberry|(?:android|bb\d+|meego|silk|googlebot) .+? mobile|palm|windows\s+ce|opera mini|avantgo|mobilesafari|docomo|kaios|ipad|playbook|(?:android|bb\d+|meego|silk)(?! .+? mobile))/.test(t)&&(e="mobile")}if(t.device=e,"floating"==t[e].unitType||document.getElementById(t.parent_div)){if(vdo_ai_[t.unitId]&&!t.unitId.includes("_dual"))try{vdo_ai_.players[t.unitId].dispose(),t.id="vdo_ai_"+Math.ceil(9999999*Math.random())}catch(t){}delete vdo_ai_[t.unitId];var s=new ri(Object.assign(t,{tagName:i}));s.Cr(),window.vdo_ai_.players=window.vdo_ai_.players||{},window.vdo_ai_.players[t.unitId]={unitId:t.unitId,replay:s.Yr.bind(s),dispose:function(){s.Lr.call(s,vdo_ai_[this.unitId]),s.sa=!0,s.Tn.style.height="0px"}}}else Y("error","Missing Parent",null,t)}window.initVdo||(window.initVdo=function(t){try{var e=t,s=location.host+location.pathname;s=s.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"");var n=!1,o=/core(.*)/.exec(e.path),r=[];o?r=o[0].split("/"):r[1]=e.path;var a=r[1];if(e.ga_event&&(window,p=document,m="https://www.googletagmanager.com/gtag/js?id="+Pt,(g=p.createElement("script")).async=!0,g.src=m,p.head.appendChild(g),function(t,i,e,s){(s=i.createElement("script")).async=!0,s.src=e,i.head.appendChild(s)}(window,document,"https://www.googletagmanager.com/gtag/js?id="+Ot),window.dataLayer=window.dataLayer||[],window.vdo_ai_.analytics_loaded||(window.vdo_ai_.analytics_loaded=!0,Lt("js",new Date),self!=top?(Lt("config",Pt,{cookie_flags:"secure;samesite=none"}),Lt("config",Ot,{cookie_flags:"secure;samesite=none"})):(Lt("config",Pt),Lt("config",Ot)))),"yes"===t.add_on_page_ready){var h={debugLog:O,logNewPixel:Y,tagName:r[1],analyticsID:Pt,analyticsIDSecond:Ot,eventMultiplier:e.t_map?e.t_map/100:0,url_change_websitepageview_pageview_exception:Jt,config:{unitId:e.unitId}};if(void 0!==e.t_max&&Math.random()>e.t_max&&(h.ei=!0),Z("pageview",null,null,null,e,h.url_change_websitepageview_pageview_exception,h.eventMultiplier,h.ei,null,h.analyticsID,h.analyticsIDSecond),Z("website_pageview",null,null,null,e,h.url_change_websitepageview_pageview_exception,h.eventMultiplier,h.ei,null,h.analyticsID,h.analyticsIDSecond),!i().is(document.querySelector("#"+t.unitId))){var l=t.unitId+"_ivHandler";return window[l]&&(window[l].handlers.enter=[],window[l].handlers.exit=[]),window[l]=i()("#"+t.unitId),void window[l].on("enter",(function(){t.add_on_page_ready="",window[l].handlers.enter=[],window[l].handlers.exit=[],window[l]=null,window.initVdo(t)}))}}if(e.style){var u=document.createElement("style");u.innerHTML=e.style,document.body.appendChild(u)}if("carousel"!=e.tagType){var d=document.createElement("style");document.body.appendChild(d),d.innerHTML+="#"+e.unitId+" .ima-ad-container > div:first-child > div:first-child > video {border-radius: 0%!important;transition: none!important;};"}if(a=r[1],e.agent)ai(e,a);else{var c=new XMLHttpRequest;c.onload=function(){try{if(!n){n=!0,clearTimeout(v);var t=JSON.parse(this.response);ai(e=Object.assign(e,t),a)}}catch(t){G(t,"initVdo",r[1]);var i={send_to:Pt,event_category:"VDOError",event_label:window.vdo_ai_.version};Lt("event","Err:"+btoa(t.getMessage()).substr(0,10),i),Y("error",btoa(t.getMessage()).substr(0,10),null,e)}}.bind(c),c.open("get","https://targeting.vdo.ai/allowed_url.php?type=json&url="+encodeURIComponent(s)+"&tag="+a+"&domain="+e.domain,!0),c.send();var v=setTimeout((function(){if(!n){n=!0;ai(e=Object.assign(e,{allowed:"true",agent:"false",ip_address:"null",country:"unknown"}),a)}}),3e3)}}catch(t){G(t,"initVdo",r[1]);var f={send_to:Pt,event_category:"VDOError",event_label:window.vdo_ai_.version};Lt("event","Err:"+btoa(t.getMessage()).substr(0,10),f),Y("error",btoa(t.getMessage()).substr(0,10),null,e)}var p,m,g})})()})();